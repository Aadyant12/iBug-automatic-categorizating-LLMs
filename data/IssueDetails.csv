IssueID,Title,Body
43173,spider doing I/O inside the event loop,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.117.6
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): Container
- Integration causing this issue: spider
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-11-13 11:34:33 WARNING (MainThread) [homeassistant.util.async_] Detected I/O inside the event loop. This is causing stability issues. Please report issue for spider doing I/O at homeassistant/components/spider/switch.py, line 11: entities = [SpiderPowerPlug(api, entity) for entity in api.get_power_plugs()]
```

## Additional information

"
43055,Unable to bind to gree device,"## The problem
Unable to bind to gree device: Device: a7102045 @ 192.168.26.75:7000 (mac: )

## Environment

- Home Assistant Core release with the issue:  0.117.5
- Last working Home Assistant Core release (if known): None
- Operating environment (OS/Container/Supervised/Core):  x86_64, os_version | 5.4.69, python_version | 3.8.5
- Integration causing this issue: gree
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/gree/

## Problem-relevant `configuration.yaml`
None

## Traceback/Error logs
```txt
2020-11-11 03:29:25 DEBUG (MainThread) [homeassistant.components.gree] Scanning network for Gree devices
2020-11-11 03:29:37 ERROR (MainThread) [homeassistant.components.gree] Unable to bind to gree device: Device: a7102045 @ 192.168.26.75:7000 (mac: )
2020-11-11 03:29:47 ERROR (MainThread) [homeassistant.components.gree] Unable to bind to gree device: Device: a7299f56 @ 192.168.26.78:7000 (mac: )
2020-11-11 03:29:57 ERROR (MainThread) [homeassistant.components.gree] Unable to bind to gree device: Device: 77dd30f3 @ 192.168.26.73:7000 (mac: )
2020-11-11 03:30:07 ERROR (MainThread) [homeassistant.components.gree] Unable to bind to gree device: Device: 77a8ba4a @ 192.168.26.72:7000 (mac: )
```

## Additional information

"
43029,Notion battery sensors showing “unavailable” all the time,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Battery sensors for the Notion integration are suddenly showing as ""unavailable"" upon HASS startup.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.117.5
- Last working Home Assistant Core release (if known): ?
- Operating environment (OS/Container/Supervised/Core): Container
- Integration causing this issue: Notion
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/notion/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

Log Details (ERROR)


Logger: homeassistant.components.binary_sensor
Source: components/notion/binary_sensor.py:80 
Integration: Binary sensor (documentation, issues) 
First occurred: 8:03:36 PM (2 occurrences) 
Last logged: 8:03:36 PM

Error adding entities for domain binary_sensor with platform notion
Error while setting up notion platform for binary_sensor
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 314, in async_add_entities
    await asyncio.gather(*tasks)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 505, in _async_add_entity
    await entity.add_to_platform_finish()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 530, in add_to_platform_finish
    await self.async_added_to_hass()
  File ""/usr/src/homeassistant/homeassistant/components/notion/__init__.py"", line 288, in async_added_to_hass
    self._async_update_from_latest_data()
  File ""/usr/src/homeassistant/homeassistant/components/notion/binary_sensor.py"", line 80, in _async_update_from_latest_data
    self._state = self.coordinator.data[""tasks""][self._task_id][""status""][""value""]
KeyError: 'value'
```

## Additional information

![image](https://user-images.githubusercontent.com/47216/98622544-07d26f80-22c7-11eb-95b8-51d1cb80bfa9.jpeg)"
42950,[asyncio] socket.send() raised exception. Crashes HA. Likely related to DSMR,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Socket.send exception a couple of times per day. After a few days, HA crashes. It's likely related to DSMR, but I'm not completely sure. Tested a couple days without loading DSMR, and these exception did not show up. But I'm not completely sure that it is related to DSMR, that's the reason to report it here.
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.

-->


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.

Hassio 0.117.5.


-->

- Home Assistant Core release with the issue: 0.117.x
- Last working Home Assistant Core release (if known): 0.116.x
- Operating environment (OS/Container/Supervised/Core): 
- Integration causing this issue: Likely DSMR
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/dsmr/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
sensor:
  - platform: dsmr
    port: /dev/ttyUSB0

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-11-07 21:38:46 INFO (MainThread) [homeassistant.components.automation.4_1_0_sync_state_switch_tv_front_end_with_reality] 4.1.0 Sync state switch tv front-end with reality: Running automation actions
2020-11-07 21:38:46 INFO (MainThread) [homeassistant.components.automation.4_1_0_sync_state_switch_tv_front_end_with_reality] 4.1.0 Sync state switch tv front-end with reality: Executing step call service
2020-11-07 21:38:46 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""old_state"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""state"": ""on"", ""attributes"": {""last_triggered"": ""2020-11-07T20:38:41.744285+00:00"", ""mode"": ""single"", ""current"": 0, ""id"": ""4.1.0 Sync state switch tv front-end with reality"", ""friendly_name"": ""4.1.0 Sync state switch tv front-end with reality""}, ""last_changed"": ""2020-11-06T22:01:49.344999+00:00"", ""last_updated"": ""2020-11-07T20:38:41.928921+00:00"", ""context"": {""id"": ""154e3fa7121f8c080646853c32bba791"", ""parent_id"": ""b64a620fec54fa9defcf3cf671737728"", ""user_id"": null}}, ""new_state"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""state"": ""on"", ""attributes"": {""last_triggered"": ""2020-11-07T20:38:46.680556+00:00"", ""mode"": ""single"", ""current"": 1, ""id"": ""4.1.0 Sync state switch tv front-end with reality"", ""friendly_name"": ""4.1.0 Sync state switch tv front-end with reality""}, ""last_changed"": ""2020-11-06T22:01:49.344999+00:00"", ""last_updated"": ""2020-11-07T20:38:46.680783+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:38:46.680831+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}}
2020-11-07 21:38:46 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""old_state"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""state"": ""on"", ""attributes"": {""last_triggered"": ""2020-11-07T20:38:41.744285+00:00"", ""mode"": ""single"", ""current"": 0, ""id"": ""4.1.0 Sync state switch tv front-end with reality"", ""friendly_name"": ""4.1.0 Sync state switch tv front-end with reality""}, ""last_changed"": ""2020-11-06T22:01:49.344999+00:00"", ""last_updated"": ""2020-11-07T20:38:41.928921+00:00"", ""context"": {""id"": ""154e3fa7121f8c080646853c32bba791"", ""parent_id"": ""b64a620fec54fa9defcf3cf671737728"", ""user_id"": null}}, ""new_state"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""state"": ""on"", ""attributes"": {""last_triggered"": ""2020-11-07T20:38:46.680556+00:00"", ""mode"": ""single"", ""current"": 1, ""id"": ""4.1.0 Sync state switch tv front-end with reality"", ""friendly_name"": ""4.1.0 Sync state switch tv front-end with reality""}, ""last_changed"": ""2020-11-06T22:01:49.344999+00:00"", ""last_updated"": ""2020-11-07T20:38:46.680783+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:38:46.680831+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}}
2020-11-07 21:38:46 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""old_state"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""state"": ""on"", ""attributes"": {""last_triggered"": ""2020-11-07T20:38:41.744285+00:00"", ""mode"": ""single"", ""current"": 0, ""id"": ""4.1.0 Sync state switch tv front-end with reality"", ""friendly_name"": ""4.1.0 Sync state switch tv front-end with reality""}, ""last_changed"": ""2020-11-06T22:01:49.344999+00:00"", ""last_updated"": ""2020-11-07T20:38:41.928921+00:00"", ""context"": {""id"": ""154e3fa7121f8c080646853c32bba791"", ""parent_id"": ""b64a620fec54fa9defcf3cf671737728"", ""user_id"": null}}, ""new_state"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""state"": ""on"", ""attributes"": {""last_triggered"": ""2020-11-07T20:38:46.680556+00:00"", ""mode"": ""single"", ""current"": 1, ""id"": ""4.1.0 Sync state switch tv front-end with reality"", ""friendly_name"": ""4.1.0 Sync state switch tv front-end with reality""}, ""last_changed"": ""2020-11-06T22:01:49.344999+00:00"", ""last_updated"": ""2020-11-07T20:38:46.680783+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:38:46.680831+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}}
2020-11-07 21:38:46 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""old_state"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""state"": ""on"", ""attributes"": {""last_triggered"": ""2020-11-07T20:38:41.744285+00:00"", ""mode"": ""single"", ""current"": 0, ""id"": ""4.1.0 Sync state switch tv front-end with reality"", ""friendly_name"": ""4.1.0 Sync state switch tv front-end with reality""}, ""last_changed"": ""2020-11-06T22:01:49.344999+00:00"", ""last_updated"": ""2020-11-07T20:38:41.928921+00:00"", ""context"": {""id"": ""154e3fa7121f8c080646853c32bba791"", ""parent_id"": ""b64a620fec54fa9defcf3cf671737728"", ""user_id"": null}}, ""new_state"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""state"": ""on"", ""attributes"": {""last_triggered"": ""2020-11-07T20:38:46.680556+00:00"", ""mode"": ""single"", ""current"": 1, ""id"": ""4.1.0 Sync state switch tv front-end with reality"", ""friendly_name"": ""4.1.0 Sync state switch tv front-end with reality""}, ""last_changed"": ""2020-11-06T22:01:49.344999+00:00"", ""last_updated"": ""2020-11-07T20:38:46.680783+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:38:46.680831+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}}
2020-11-07 21:38:46 INFO (MainThread) [homeassistant.components.system_log.external] 4.1.0 The state of Ping 10.58.60.16 binary_sensor.ping_10_58_60_16 changed from on to on
2020-11-07 21:38:46 INFO (MainThread) [homeassistant.components.automation.4_1_0_sync_state_switch_tv_front_end_with_reality] 4.1.0 Sync state switch tv front-end with reality: Executing step call service
2020-11-07 21:38:46 INFO (SyncWorker_24) [homeassistant.components.python_script] Executing set_state.py: {'entity_id': 'switch.tv_toggle', 'state': 'on'}
2020-11-07 21:38:46 INFO (SyncWorker_24) [homeassistant.components.python_script.set_state.py] switch.tv_toggle: state> on
2020-11-07 21:38:46 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""old_state"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""state"": ""on"", ""attributes"": {""last_triggered"": ""2020-11-07T20:38:46.680556+00:00"", ""mode"": ""single"", ""current"": 1, ""id"": ""4.1.0 Sync state switch tv front-end with reality"", ""friendly_name"": ""4.1.0 Sync state switch tv front-end with reality""}, ""last_changed"": ""2020-11-06T22:01:49.344999+00:00"", ""last_updated"": ""2020-11-07T20:38:46.680783+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}, ""new_state"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""state"": ""on"", ""attributes"": {""last_triggered"": ""2020-11-07T20:38:46.680556+00:00"", ""mode"": ""single"", ""current"": 0, ""id"": ""4.1.0 Sync state switch tv front-end with reality"", ""friendly_name"": ""4.1.0 Sync state switch tv front-end with reality""}, ""last_changed"": ""2020-11-06T22:01:49.344999+00:00"", ""last_updated"": ""2020-11-07T20:38:46.779111+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:38:46.779189+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}}
2020-11-07 21:38:46 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""old_state"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""state"": ""on"", ""attributes"": {""last_triggered"": ""2020-11-07T20:38:46.680556+00:00"", ""mode"": ""single"", ""current"": 1, ""id"": ""4.1.0 Sync state switch tv front-end with reality"", ""friendly_name"": ""4.1.0 Sync state switch tv front-end with reality""}, ""last_changed"": ""2020-11-06T22:01:49.344999+00:00"", ""last_updated"": ""2020-11-07T20:38:46.680783+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}, ""new_state"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""state"": ""on"", ""attributes"": {""last_triggered"": ""2020-11-07T20:38:46.680556+00:00"", ""mode"": ""single"", ""current"": 0, ""id"": ""4.1.0 Sync state switch tv front-end with reality"", ""friendly_name"": ""4.1.0 Sync state switch tv front-end with reality""}, ""last_changed"": ""2020-11-06T22:01:49.344999+00:00"", ""last_updated"": ""2020-11-07T20:38:46.779111+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:38:46.779189+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}}
2020-11-07 21:38:46 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""old_state"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""state"": ""on"", ""attributes"": {""last_triggered"": ""2020-11-07T20:38:46.680556+00:00"", ""mode"": ""single"", ""current"": 1, ""id"": ""4.1.0 Sync state switch tv front-end with reality"", ""friendly_name"": ""4.1.0 Sync state switch tv front-end with reality""}, ""last_changed"": ""2020-11-06T22:01:49.344999+00:00"", ""last_updated"": ""2020-11-07T20:38:46.680783+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}, ""new_state"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""state"": ""on"", ""attributes"": {""last_triggered"": ""2020-11-07T20:38:46.680556+00:00"", ""mode"": ""single"", ""current"": 0, ""id"": ""4.1.0 Sync state switch tv front-end with reality"", ""friendly_name"": ""4.1.0 Sync state switch tv front-end with reality""}, ""last_changed"": ""2020-11-06T22:01:49.344999+00:00"", ""last_updated"": ""2020-11-07T20:38:46.779111+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:38:46.779189+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}}
2020-11-07 21:38:46 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""old_state"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""state"": ""on"", ""attributes"": {""last_triggered"": ""2020-11-07T20:38:46.680556+00:00"", ""mode"": ""single"", ""current"": 1, ""id"": ""4.1.0 Sync state switch tv front-end with reality"", ""friendly_name"": ""4.1.0 Sync state switch tv front-end with reality""}, ""last_changed"": ""2020-11-06T22:01:49.344999+00:00"", ""last_updated"": ""2020-11-07T20:38:46.680783+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}, ""new_state"": {""entity_id"": ""automation.4_1_0_sync_state_switch_tv_front_end_with_reality"", ""state"": ""on"", ""attributes"": {""last_triggered"": ""2020-11-07T20:38:46.680556+00:00"", ""mode"": ""single"", ""current"": 0, ""id"": ""4.1.0 Sync state switch tv front-end with reality"", ""friendly_name"": ""4.1.0 Sync state switch tv front-end with reality""}, ""last_changed"": ""2020-11-06T22:01:49.344999+00:00"", ""last_updated"": ""2020-11-07T20:38:46.779111+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:38:46.779189+00:00"", ""context"": {""id"": ""95058607b2ba6eadadcc68223ef981e6"", ""parent_id"": ""4c3c0541fa5099b9606b0ee54b79d44b"", ""user_id"": null}}}
2020-11-07 21:38:47 INFO (MainThread) [custom_components.visonic.pyvisonic] [data receiver] *** Received validated message 0XAB ***
2020-11-07 21:38:47 INFO (MainThread) [custom_components.visonic.pyvisonic] [handle_msgtypeAB] ***************************** Got PowerLink Keep-Alive ****************************
2020-11-07 21:38:47 INFO (MainThread) [custom_components.visonic.pyvisonic] =============================================== Display Status ===============================================
2020-11-07 21:38:47 INFO (MainThread) [custom_components.visonic.pyvisonic]      key 0  Sensor id=1  dname=Z01  stype=Magnet   zname=Front door     ztypeName=Delay 1    ztamper=0  ztrip=0  bypass=0  lowbatt=0  status=0  tamper=0  enrolled=1  triggered=0 
2020-11-07 21:38:47 INFO (MainThread) [custom_components.visonic.pyvisonic]      key 1  Sensor id=2  dname=Z02  stype=Motion   zname=Hall           ztypeName=Delay 1    ztamper=0  ztrip=0  bypass=0  lowbatt=0  status=0  tamper=0  enrolled=1  triggered=0 
2020-11-07 21:38:47 INFO (MainThread) [custom_components.visonic.pyvisonic]      key 2  Sensor id=3  dname=Z03  stype=Motion   zname=Dining room    ztypeName=Perimeter  ztamper=0  ztrip=0  bypass=0  lowbatt=0  status=0  tamper=0  enrolled=1  triggered=0 
2020-11-07 21:38:47 INFO (MainThread) [custom_components.visonic.pyvisonic]      key 3  Sensor id=4  dname=Z04  stype=Motion   zname=Living room    ztypeName=Perimeter  ztamper=0  ztrip=0  bypass=0  lowbatt=0  status=0  tamper=0  enrolled=1  triggered=0 
2020-11-07 21:38:47 INFO (MainThread) [custom_components.visonic.pyvisonic]    Model PowerMax Pro           PowerMaster No                     LastEvent None                   Ready   Yes          
2020-11-07 21:38:47 INFO (MainThread) [custom_components.visonic.pyvisonic]    Mode  Powerlink              Status      Disarmed               Armed     No                     Trouble None              AlarmStatus None        
2020-11-07 21:38:47 INFO (MainThread) [custom_components.visonic.pyvisonic] ==============================================================================================================
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption"", ""old_state"": {""entity_id"": ""sensor.power_consumption"", ""state"": ""0.99"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Consumption"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.641492+00:00"", ""last_updated"": ""2020-11-07T20:38:44.641492+00:00"", ""context"": {""id"": ""5478aba806322ca2922af53843f97a34"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption"", ""state"": ""0.99"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Consumption"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.453621+00:00"", ""last_updated"": ""2020-11-07T20:39:03.453621+00:00"", ""context"": {""id"": ""29eed7d9062fc2f2437c5b17a3368806"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.453723+00:00"", ""context"": {""id"": ""29eed7d9062fc2f2437c5b17a3368806"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption"", ""old_state"": {""entity_id"": ""sensor.power_consumption"", ""state"": ""0.99"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Consumption"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.641492+00:00"", ""last_updated"": ""2020-11-07T20:38:44.641492+00:00"", ""context"": {""id"": ""5478aba806322ca2922af53843f97a34"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption"", ""state"": ""0.99"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Consumption"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.453621+00:00"", ""last_updated"": ""2020-11-07T20:39:03.453621+00:00"", ""context"": {""id"": ""29eed7d9062fc2f2437c5b17a3368806"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.453723+00:00"", ""context"": {""id"": ""29eed7d9062fc2f2437c5b17a3368806"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production"", ""old_state"": {""entity_id"": ""sensor.power_production"", ""state"": ""0.0"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Production"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.642369+00:00"", ""last_updated"": ""2020-11-07T20:38:44.642369+00:00"", ""context"": {""id"": ""a15d44b1f1f48ae678e99e747fe1ebb7"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production"", ""state"": ""0.0"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Production"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.454979+00:00"", ""last_updated"": ""2020-11-07T20:39:03.454979+00:00"", ""context"": {""id"": ""5d0841a70efe21abd6e4202e8a3e4672"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.455115+00:00"", ""context"": {""id"": ""5d0841a70efe21abd6e4202e8a3e4672"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production"", ""old_state"": {""entity_id"": ""sensor.power_production"", ""state"": ""0.0"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Production"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.642369+00:00"", ""last_updated"": ""2020-11-07T20:38:44.642369+00:00"", ""context"": {""id"": ""a15d44b1f1f48ae678e99e747fe1ebb7"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production"", ""state"": ""0.0"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Production"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.454979+00:00"", ""last_updated"": ""2020-11-07T20:39:03.454979+00:00"", ""context"": {""id"": ""5d0841a70efe21abd6e4202e8a3e4672"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.455115+00:00"", ""context"": {""id"": ""5d0841a70efe21abd6e4202e8a3e4672"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_tariff"", ""old_state"": {""entity_id"": ""sensor.power_tariff"", ""state"": ""low"", ""attributes"": {""friendly_name"": ""Power Tariff"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.643544+00:00"", ""last_updated"": ""2020-11-07T20:38:44.643544+00:00"", ""context"": {""id"": ""efdc192816ba332010ddcbe30ad1bc4e"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_tariff"", ""state"": ""low"", ""attributes"": {""friendly_name"": ""Power Tariff"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.455788+00:00"", ""last_updated"": ""2020-11-07T20:39:03.455788+00:00"", ""context"": {""id"": ""9caa9fd1c749de724453563ea6c20693"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.455832+00:00"", ""context"": {""id"": ""9caa9fd1c749de724453563ea6c20693"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_tariff"", ""old_state"": {""entity_id"": ""sensor.power_tariff"", ""state"": ""low"", ""attributes"": {""friendly_name"": ""Power Tariff"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.643544+00:00"", ""last_updated"": ""2020-11-07T20:38:44.643544+00:00"", ""context"": {""id"": ""efdc192816ba332010ddcbe30ad1bc4e"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_tariff"", ""state"": ""low"", ""attributes"": {""friendly_name"": ""Power Tariff"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.455788+00:00"", ""last_updated"": ""2020-11-07T20:39:03.455788+00:00"", ""context"": {""id"": ""9caa9fd1c749de724453563ea6c20693"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.455832+00:00"", ""context"": {""id"": ""9caa9fd1c749de724453563ea6c20693"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_consumption_total"", ""old_state"": {""entity_id"": ""sensor.energy_consumption_total"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Energy Consumption (total)""}, ""last_changed"": ""2020-11-07T20:38:44.644356+00:00"", ""last_updated"": ""2020-11-07T20:38:44.644356+00:00"", ""context"": {""id"": ""2e97a2a303f8e2a155581c802261e197"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_consumption_total"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Energy Consumption (total)""}, ""last_changed"": ""2020-11-07T20:39:03.456143+00:00"", ""last_updated"": ""2020-11-07T20:39:03.456143+00:00"", ""context"": {""id"": ""cde8a74fee03a5f520d45fded7204964"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.456175+00:00"", ""context"": {""id"": ""cde8a74fee03a5f520d45fded7204964"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_consumption_total"", ""old_state"": {""entity_id"": ""sensor.energy_consumption_total"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Energy Consumption (total)""}, ""last_changed"": ""2020-11-07T20:38:44.644356+00:00"", ""last_updated"": ""2020-11-07T20:38:44.644356+00:00"", ""context"": {""id"": ""2e97a2a303f8e2a155581c802261e197"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_consumption_total"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Energy Consumption (total)""}, ""last_changed"": ""2020-11-07T20:39:03.456143+00:00"", ""last_updated"": ""2020-11-07T20:39:03.456143+00:00"", ""context"": {""id"": ""cde8a74fee03a5f520d45fded7204964"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.456175+00:00"", ""context"": {""id"": ""cde8a74fee03a5f520d45fded7204964"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_consumption_tarif_1"", ""old_state"": {""entity_id"": ""sensor.energy_consumption_tarif_1"", ""state"": ""28025.679"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Consumption (tarif 1)""}, ""last_changed"": ""2020-11-07T20:38:44.645114+00:00"", ""last_updated"": ""2020-11-07T20:38:44.645114+00:00"", ""context"": {""id"": ""08c28ad603823a3004b8296b5cd52416"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_consumption_tarif_1"", ""state"": ""28025.682"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Consumption (tarif 1)""}, ""last_changed"": ""2020-11-07T20:39:03.456522+00:00"", ""last_updated"": ""2020-11-07T20:39:03.456522+00:00"", ""context"": {""id"": ""93fe12313406de02781adde5d6ed94f4"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.456553+00:00"", ""context"": {""id"": ""93fe12313406de02781adde5d6ed94f4"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_consumption_tarif_1"", ""old_state"": {""entity_id"": ""sensor.energy_consumption_tarif_1"", ""state"": ""28025.679"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Consumption (tarif 1)""}, ""last_changed"": ""2020-11-07T20:38:44.645114+00:00"", ""last_updated"": ""2020-11-07T20:38:44.645114+00:00"", ""context"": {""id"": ""08c28ad603823a3004b8296b5cd52416"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_consumption_tarif_1"", ""state"": ""28025.682"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Consumption (tarif 1)""}, ""last_changed"": ""2020-11-07T20:39:03.456522+00:00"", ""last_updated"": ""2020-11-07T20:39:03.456522+00:00"", ""context"": {""id"": ""93fe12313406de02781adde5d6ed94f4"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.456553+00:00"", ""context"": {""id"": ""93fe12313406de02781adde5d6ed94f4"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_consumption_tarif_2"", ""old_state"": {""entity_id"": ""sensor.energy_consumption_tarif_2"", ""state"": ""23266.809"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Consumption (tarif 2)""}, ""last_changed"": ""2020-11-07T20:38:44.645834+00:00"", ""last_updated"": ""2020-11-07T20:38:44.645834+00:00"", ""context"": {""id"": ""fbc61530cd688ec895014bc55c556352"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_consumption_tarif_2"", ""state"": ""23266.809"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Consumption (tarif 2)""}, ""last_changed"": ""2020-11-07T20:39:03.456894+00:00"", ""last_updated"": ""2020-11-07T20:39:03.456894+00:00"", ""context"": {""id"": ""91898d2955bf936c40bfd58c4c3e00d5"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.456925+00:00"", ""context"": {""id"": ""91898d2955bf936c40bfd58c4c3e00d5"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_consumption_tarif_2"", ""old_state"": {""entity_id"": ""sensor.energy_consumption_tarif_2"", ""state"": ""23266.809"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Consumption (tarif 2)""}, ""last_changed"": ""2020-11-07T20:38:44.645834+00:00"", ""last_updated"": ""2020-11-07T20:38:44.645834+00:00"", ""context"": {""id"": ""fbc61530cd688ec895014bc55c556352"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_consumption_tarif_2"", ""state"": ""23266.809"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Consumption (tarif 2)""}, ""last_changed"": ""2020-11-07T20:39:03.456894+00:00"", ""last_updated"": ""2020-11-07T20:39:03.456894+00:00"", ""context"": {""id"": ""91898d2955bf936c40bfd58c4c3e00d5"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.456925+00:00"", ""context"": {""id"": ""91898d2955bf936c40bfd58c4c3e00d5"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_production_tarif_1"", ""old_state"": {""entity_id"": ""sensor.energy_production_tarif_1"", ""state"": ""0.007"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Production (tarif 1)""}, ""last_changed"": ""2020-11-07T20:38:44.646567+00:00"", ""last_updated"": ""2020-11-07T20:38:44.646567+00:00"", ""context"": {""id"": ""0d4b17cbc6eb5730bd848d110cda4ee0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_production_tarif_1"", ""state"": ""0.007"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Production (tarif 1)""}, ""last_changed"": ""2020-11-07T20:39:03.457227+00:00"", ""last_updated"": ""2020-11-07T20:39:03.457227+00:00"", ""context"": {""id"": ""80e16c2eb3ea545fa993a5b46ad43ce2"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.457257+00:00"", ""context"": {""id"": ""80e16c2eb3ea545fa993a5b46ad43ce2"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_production_tarif_1"", ""old_state"": {""entity_id"": ""sensor.energy_production_tarif_1"", ""state"": ""0.007"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Production (tarif 1)""}, ""last_changed"": ""2020-11-07T20:38:44.646567+00:00"", ""last_updated"": ""2020-11-07T20:38:44.646567+00:00"", ""context"": {""id"": ""0d4b17cbc6eb5730bd848d110cda4ee0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_production_tarif_1"", ""state"": ""0.007"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Production (tarif 1)""}, ""last_changed"": ""2020-11-07T20:39:03.457227+00:00"", ""last_updated"": ""2020-11-07T20:39:03.457227+00:00"", ""context"": {""id"": ""80e16c2eb3ea545fa993a5b46ad43ce2"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.457257+00:00"", ""context"": {""id"": ""80e16c2eb3ea545fa993a5b46ad43ce2"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_production_tarif_2"", ""old_state"": {""entity_id"": ""sensor.energy_production_tarif_2"", ""state"": ""0.03"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Production (tarif 2)""}, ""last_changed"": ""2020-11-07T20:38:44.647281+00:00"", ""last_updated"": ""2020-11-07T20:38:44.647281+00:00"", ""context"": {""id"": ""6a991b1acad1c009cfedae9f8b1f23db"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_production_tarif_2"", ""state"": ""0.03"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Production (tarif 2)""}, ""last_changed"": ""2020-11-07T20:39:03.457538+00:00"", ""last_updated"": ""2020-11-07T20:39:03.457538+00:00"", ""context"": {""id"": ""fb557f84cc0c3fb9964b7599e37ca5bd"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.457568+00:00"", ""context"": {""id"": ""fb557f84cc0c3fb9964b7599e37ca5bd"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_production_tarif_2"", ""old_state"": {""entity_id"": ""sensor.energy_production_tarif_2"", ""state"": ""0.03"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Production (tarif 2)""}, ""last_changed"": ""2020-11-07T20:38:44.647281+00:00"", ""last_updated"": ""2020-11-07T20:38:44.647281+00:00"", ""context"": {""id"": ""6a991b1acad1c009cfedae9f8b1f23db"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_production_tarif_2"", ""state"": ""0.03"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Production (tarif 2)""}, ""last_changed"": ""2020-11-07T20:39:03.457538+00:00"", ""last_updated"": ""2020-11-07T20:39:03.457538+00:00"", ""context"": {""id"": ""fb557f84cc0c3fb9964b7599e37ca5bd"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.457568+00:00"", ""context"": {""id"": ""fb557f84cc0c3fb9964b7599e37ca5bd"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption_phase_l1"", ""old_state"": {""entity_id"": ""sensor.power_consumption_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L1"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.647974+00:00"", ""last_updated"": ""2020-11-07T20:38:44.647974+00:00"", ""context"": {""id"": ""2b1525e0052c4e67a67dc8a8c02fddee"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L1"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.457859+00:00"", ""last_updated"": ""2020-11-07T20:39:03.457859+00:00"", ""context"": {""id"": ""ea978c5b9eb8f94dcd9a7ecba79100e2"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.457890+00:00"", ""context"": {""id"": ""ea978c5b9eb8f94dcd9a7ecba79100e2"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption_phase_l1"", ""old_state"": {""entity_id"": ""sensor.power_consumption_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L1"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.647974+00:00"", ""last_updated"": ""2020-11-07T20:38:44.647974+00:00"", ""context"": {""id"": ""2b1525e0052c4e67a67dc8a8c02fddee"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L1"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.457859+00:00"", ""last_updated"": ""2020-11-07T20:39:03.457859+00:00"", ""context"": {""id"": ""ea978c5b9eb8f94dcd9a7ecba79100e2"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.457890+00:00"", ""context"": {""id"": ""ea978c5b9eb8f94dcd9a7ecba79100e2"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption_phase_l2"", ""old_state"": {""entity_id"": ""sensor.power_consumption_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L2"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.648812+00:00"", ""last_updated"": ""2020-11-07T20:38:44.648812+00:00"", ""context"": {""id"": ""ab771c96da0a15ca8bc276606c120b5b"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L2"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.458167+00:00"", ""last_updated"": ""2020-11-07T20:39:03.458167+00:00"", ""context"": {""id"": ""89cf37065939559234eb8ee4df5f96c3"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.458197+00:00"", ""context"": {""id"": ""89cf37065939559234eb8ee4df5f96c3"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption_phase_l2"", ""old_state"": {""entity_id"": ""sensor.power_consumption_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L2"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.648812+00:00"", ""last_updated"": ""2020-11-07T20:38:44.648812+00:00"", ""context"": {""id"": ""ab771c96da0a15ca8bc276606c120b5b"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L2"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.458167+00:00"", ""last_updated"": ""2020-11-07T20:39:03.458167+00:00"", ""context"": {""id"": ""89cf37065939559234eb8ee4df5f96c3"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.458197+00:00"", ""context"": {""id"": ""89cf37065939559234eb8ee4df5f96c3"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption_phase_l3"", ""old_state"": {""entity_id"": ""sensor.power_consumption_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L3"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.649495+00:00"", ""last_updated"": ""2020-11-07T20:38:44.649495+00:00"", ""context"": {""id"": ""f4c243fbbf00ff2014053ee03fd543c1"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L3"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.458511+00:00"", ""last_updated"": ""2020-11-07T20:39:03.458511+00:00"", ""context"": {""id"": ""69dbd06fdd7a360bc3585a4b4bb40abf"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.458543+00:00"", ""context"": {""id"": ""69dbd06fdd7a360bc3585a4b4bb40abf"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption_phase_l3"", ""old_state"": {""entity_id"": ""sensor.power_consumption_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L3"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.649495+00:00"", ""last_updated"": ""2020-11-07T20:38:44.649495+00:00"", ""context"": {""id"": ""f4c243fbbf00ff2014053ee03fd543c1"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L3"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.458511+00:00"", ""last_updated"": ""2020-11-07T20:39:03.458511+00:00"", ""context"": {""id"": ""69dbd06fdd7a360bc3585a4b4bb40abf"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.458543+00:00"", ""context"": {""id"": ""69dbd06fdd7a360bc3585a4b4bb40abf"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production_phase_l1"", ""old_state"": {""entity_id"": ""sensor.power_production_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L1"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.650168+00:00"", ""last_updated"": ""2020-11-07T20:38:44.650168+00:00"", ""context"": {""id"": ""f0ece7db80959ee8d177c46e55878b1f"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L1"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.458815+00:00"", ""last_updated"": ""2020-11-07T20:39:03.458815+00:00"", ""context"": {""id"": ""d60afc624dadeef5ac42d20cdef9be0e"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.458846+00:00"", ""context"": {""id"": ""d60afc624dadeef5ac42d20cdef9be0e"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production_phase_l1"", ""old_state"": {""entity_id"": ""sensor.power_production_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L1"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.650168+00:00"", ""last_updated"": ""2020-11-07T20:38:44.650168+00:00"", ""context"": {""id"": ""f0ece7db80959ee8d177c46e55878b1f"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L1"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.458815+00:00"", ""last_updated"": ""2020-11-07T20:39:03.458815+00:00"", ""context"": {""id"": ""d60afc624dadeef5ac42d20cdef9be0e"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.458846+00:00"", ""context"": {""id"": ""d60afc624dadeef5ac42d20cdef9be0e"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production_phase_l2"", ""old_state"": {""entity_id"": ""sensor.power_production_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L2"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.650847+00:00"", ""last_updated"": ""2020-11-07T20:38:44.650847+00:00"", ""context"": {""id"": ""1d276742407639c1f721718b2d047392"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L2"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.459133+00:00"", ""last_updated"": ""2020-11-07T20:39:03.459133+00:00"", ""context"": {""id"": ""21d63e7388d30babc61df99e48bee57d"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.459164+00:00"", ""context"": {""id"": ""21d63e7388d30babc61df99e48bee57d"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production_phase_l2"", ""old_state"": {""entity_id"": ""sensor.power_production_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L2"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.650847+00:00"", ""last_updated"": ""2020-11-07T20:38:44.650847+00:00"", ""context"": {""id"": ""1d276742407639c1f721718b2d047392"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L2"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.459133+00:00"", ""last_updated"": ""2020-11-07T20:39:03.459133+00:00"", ""context"": {""id"": ""21d63e7388d30babc61df99e48bee57d"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.459164+00:00"", ""context"": {""id"": ""21d63e7388d30babc61df99e48bee57d"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production_phase_l3"", ""old_state"": {""entity_id"": ""sensor.power_production_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L3"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.651523+00:00"", ""last_updated"": ""2020-11-07T20:38:44.651523+00:00"", ""context"": {""id"": ""72fb2dca2ba7f884053cf3686c08ad0e"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L3"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.459441+00:00"", ""last_updated"": ""2020-11-07T20:39:03.459441+00:00"", ""context"": {""id"": ""a0b852b0892a681c3c77af32a3cae377"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.459472+00:00"", ""context"": {""id"": ""a0b852b0892a681c3c77af32a3cae377"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production_phase_l3"", ""old_state"": {""entity_id"": ""sensor.power_production_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L3"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.651523+00:00"", ""last_updated"": ""2020-11-07T20:38:44.651523+00:00"", ""context"": {""id"": ""72fb2dca2ba7f884053cf3686c08ad0e"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L3"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.459441+00:00"", ""last_updated"": ""2020-11-07T20:39:03.459441+00:00"", ""context"": {""id"": ""a0b852b0892a681c3c77af32a3cae377"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.459472+00:00"", ""context"": {""id"": ""a0b852b0892a681c3c77af32a3cae377"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.short_power_failure_count"", ""old_state"": {""entity_id"": ""sensor.short_power_failure_count"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Short Power Failure Count"", ""icon"": ""mdi:flash-off""}, ""last_changed"": ""2020-11-07T20:38:44.652199+00:00"", ""last_updated"": ""2020-11-07T20:38:44.652199+00:00"", ""context"": {""id"": ""cce89f7c3820e14cf8db832070515658"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.short_power_failure_count"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Short Power Failure Count"", ""icon"": ""mdi:flash-off""}, ""last_changed"": ""2020-11-07T20:39:03.459754+00:00"", ""last_updated"": ""2020-11-07T20:39:03.459754+00:00"", ""context"": {""id"": ""4e5e2bb3efe093859bc4d5fad9347d33"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.459784+00:00"", ""context"": {""id"": ""4e5e2bb3efe093859bc4d5fad9347d33"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.short_power_failure_count"", ""old_state"": {""entity_id"": ""sensor.short_power_failure_count"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Short Power Failure Count"", ""icon"": ""mdi:flash-off""}, ""last_changed"": ""2020-11-07T20:38:44.652199+00:00"", ""last_updated"": ""2020-11-07T20:38:44.652199+00:00"", ""context"": {""id"": ""cce89f7c3820e14cf8db832070515658"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.short_power_failure_count"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Short Power Failure Count"", ""icon"": ""mdi:flash-off""}, ""last_changed"": ""2020-11-07T20:39:03.459754+00:00"", ""last_updated"": ""2020-11-07T20:39:03.459754+00:00"", ""context"": {""id"": ""4e5e2bb3efe093859bc4d5fad9347d33"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.459784+00:00"", ""context"": {""id"": ""4e5e2bb3efe093859bc4d5fad9347d33"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.long_power_failure_count"", ""old_state"": {""entity_id"": ""sensor.long_power_failure_count"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Long Power Failure Count"", ""icon"": ""mdi:flash-off""}, ""last_changed"": ""2020-11-07T20:38:44.652877+00:00"", ""last_updated"": ""2020-11-07T20:38:44.652877+00:00"", ""context"": {""id"": ""4c3d36ea644f6b759545219b20650159"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.long_power_failure_count"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Long Power Failure Count"", ""icon"": ""mdi:flash-off""}, ""last_changed"": ""2020-11-07T20:39:03.460173+00:00"", ""last_updated"": ""2020-11-07T20:39:03.460173+00:00"", ""context"": {""id"": ""5fa7281a85919effce52077804d806eb"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.460215+00:00"", ""context"": {""id"": ""5fa7281a85919effce52077804d806eb"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.long_power_failure_count"", ""old_state"": {""entity_id"": ""sensor.long_power_failure_count"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Long Power Failure Count"", ""icon"": ""mdi:flash-off""}, ""last_changed"": ""2020-11-07T20:38:44.652877+00:00"", ""last_updated"": ""2020-11-07T20:38:44.652877+00:00"", ""context"": {""id"": ""4c3d36ea644f6b759545219b20650159"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.long_power_failure_count"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Long Power Failure Count"", ""icon"": ""mdi:flash-off""}, ""last_changed"": ""2020-11-07T20:39:03.460173+00:00"", ""last_updated"": ""2020-11-07T20:39:03.460173+00:00"", ""context"": {""id"": ""5fa7281a85919effce52077804d806eb"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.460215+00:00"", ""context"": {""id"": ""5fa7281a85919effce52077804d806eb"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_sags_phase_l1"", ""old_state"": {""entity_id"": ""sensor.voltage_sags_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L1"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.653548+00:00"", ""last_updated"": ""2020-11-07T20:38:44.653548+00:00"", ""context"": {""id"": ""8c9b99b546bc0b807500143d7db45cf0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_sags_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L1"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.460512+00:00"", ""last_updated"": ""2020-11-07T20:39:03.460512+00:00"", ""context"": {""id"": ""7b61a8e4f410ea0746449f82d5179fb3"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.460543+00:00"", ""context"": {""id"": ""7b61a8e4f410ea0746449f82d5179fb3"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_sags_phase_l1"", ""old_state"": {""entity_id"": ""sensor.voltage_sags_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L1"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.653548+00:00"", ""last_updated"": ""2020-11-07T20:38:44.653548+00:00"", ""context"": {""id"": ""8c9b99b546bc0b807500143d7db45cf0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_sags_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L1"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.460512+00:00"", ""last_updated"": ""2020-11-07T20:39:03.460512+00:00"", ""context"": {""id"": ""7b61a8e4f410ea0746449f82d5179fb3"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.460543+00:00"", ""context"": {""id"": ""7b61a8e4f410ea0746449f82d5179fb3"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_sags_phase_l2"", ""old_state"": {""entity_id"": ""sensor.voltage_sags_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L2"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.654281+00:00"", ""last_updated"": ""2020-11-07T20:38:44.654281+00:00"", ""context"": {""id"": ""90ef420e9c142c15d5ad53cdbe3a2f07"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_sags_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L2"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.460807+00:00"", ""last_updated"": ""2020-11-07T20:39:03.460807+00:00"", ""context"": {""id"": ""abc408a78cc4af1a59445f0d6730d443"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.460837+00:00"", ""context"": {""id"": ""abc408a78cc4af1a59445f0d6730d443"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_sags_phase_l2"", ""old_state"": {""entity_id"": ""sensor.voltage_sags_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L2"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.654281+00:00"", ""last_updated"": ""2020-11-07T20:38:44.654281+00:00"", ""context"": {""id"": ""90ef420e9c142c15d5ad53cdbe3a2f07"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_sags_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L2"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.460807+00:00"", ""last_updated"": ""2020-11-07T20:39:03.460807+00:00"", ""context"": {""id"": ""abc408a78cc4af1a59445f0d6730d443"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.460837+00:00"", ""context"": {""id"": ""abc408a78cc4af1a59445f0d6730d443"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_sags_phase_l3"", ""old_state"": {""entity_id"": ""sensor.voltage_sags_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L3"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.654953+00:00"", ""last_updated"": ""2020-11-07T20:38:44.654953+00:00"", ""context"": {""id"": ""7b8892af474555eec4bdbbd4612bdf3d"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_sags_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L3"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.461097+00:00"", ""last_updated"": ""2020-11-07T20:39:03.461097+00:00"", ""context"": {""id"": ""afbca9a91b43fcae3722269f59e0c60d"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.461127+00:00"", ""context"": {""id"": ""afbca9a91b43fcae3722269f59e0c60d"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_sags_phase_l3"", ""old_state"": {""entity_id"": ""sensor.voltage_sags_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L3"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.654953+00:00"", ""last_updated"": ""2020-11-07T20:38:44.654953+00:00"", ""context"": {""id"": ""7b8892af474555eec4bdbbd4612bdf3d"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_sags_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L3"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.461097+00:00"", ""last_updated"": ""2020-11-07T20:39:03.461097+00:00"", ""context"": {""id"": ""afbca9a91b43fcae3722269f59e0c60d"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.461127+00:00"", ""context"": {""id"": ""afbca9a91b43fcae3722269f59e0c60d"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_swells_phase_l1"", ""old_state"": {""entity_id"": ""sensor.voltage_swells_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L1"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.655626+00:00"", ""last_updated"": ""2020-11-07T20:38:44.655626+00:00"", ""context"": {""id"": ""e357ceb9c6c67f8ff40b8ce75af08879"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_swells_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L1"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.461389+00:00"", ""last_updated"": ""2020-11-07T20:39:03.461389+00:00"", ""context"": {""id"": ""235bd997a3e4c42a67bb370f4af5e75e"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.461418+00:00"", ""context"": {""id"": ""235bd997a3e4c42a67bb370f4af5e75e"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_swells_phase_l1"", ""old_state"": {""entity_id"": ""sensor.voltage_swells_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L1"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.655626+00:00"", ""last_updated"": ""2020-11-07T20:38:44.655626+00:00"", ""context"": {""id"": ""e357ceb9c6c67f8ff40b8ce75af08879"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_swells_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L1"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.461389+00:00"", ""last_updated"": ""2020-11-07T20:39:03.461389+00:00"", ""context"": {""id"": ""235bd997a3e4c42a67bb370f4af5e75e"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.461418+00:00"", ""context"": {""id"": ""235bd997a3e4c42a67bb370f4af5e75e"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_swells_phase_l2"", ""old_state"": {""entity_id"": ""sensor.voltage_swells_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L2"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.656292+00:00"", ""last_updated"": ""2020-11-07T20:38:44.656292+00:00"", ""context"": {""id"": ""38c74e9116fb81f62095c6900d18cba6"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_swells_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L2"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.463366+00:00"", ""last_updated"": ""2020-11-07T20:39:03.463366+00:00"", ""context"": {""id"": ""cd6a6af20197efd0bd52a3a966111162"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.463424+00:00"", ""context"": {""id"": ""cd6a6af20197efd0bd52a3a966111162"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_swells_phase_l2"", ""old_state"": {""entity_id"": ""sensor.voltage_swells_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L2"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.656292+00:00"", ""last_updated"": ""2020-11-07T20:38:44.656292+00:00"", ""context"": {""id"": ""38c74e9116fb81f62095c6900d18cba6"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_swells_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L2"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.463366+00:00"", ""last_updated"": ""2020-11-07T20:39:03.463366+00:00"", ""context"": {""id"": ""cd6a6af20197efd0bd52a3a966111162"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.463424+00:00"", ""context"": {""id"": ""cd6a6af20197efd0bd52a3a966111162"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_swells_phase_l3"", ""old_state"": {""entity_id"": ""sensor.voltage_swells_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L3"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.656966+00:00"", ""last_updated"": ""2020-11-07T20:38:44.656966+00:00"", ""context"": {""id"": ""fcfdd846afcd1e92a35c34fa171770f6"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_swells_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L3"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.463723+00:00"", ""last_updated"": ""2020-11-07T20:39:03.463723+00:00"", ""context"": {""id"": ""daaeb3213847620b92f5d8e05717285e"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.463754+00:00"", ""context"": {""id"": ""daaeb3213847620b92f5d8e05717285e"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_swells_phase_l3"", ""old_state"": {""entity_id"": ""sensor.voltage_swells_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L3"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.656966+00:00"", ""last_updated"": ""2020-11-07T20:38:44.656966+00:00"", ""context"": {""id"": ""fcfdd846afcd1e92a35c34fa171770f6"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_swells_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L3"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.463723+00:00"", ""last_updated"": ""2020-11-07T20:39:03.463723+00:00"", ""context"": {""id"": ""daaeb3213847620b92f5d8e05717285e"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.463754+00:00"", ""context"": {""id"": ""daaeb3213847620b92f5d8e05717285e"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_phase_l1"", ""old_state"": {""entity_id"": ""sensor.voltage_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L1""}, ""last_changed"": ""2020-11-07T20:38:44.657639+00:00"", ""last_updated"": ""2020-11-07T20:38:44.657639+00:00"", ""context"": {""id"": ""c7a1d77a239116afac1fb3af67cc2bf0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L1""}, ""last_changed"": ""2020-11-07T20:39:03.464147+00:00"", ""last_updated"": ""2020-11-07T20:39:03.464147+00:00"", ""context"": {""id"": ""1150a7ded66ff6a52851f1ea045357c6"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.464182+00:00"", ""context"": {""id"": ""1150a7ded66ff6a52851f1ea045357c6"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_phase_l1"", ""old_state"": {""entity_id"": ""sensor.voltage_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L1""}, ""last_changed"": ""2020-11-07T20:38:44.657639+00:00"", ""last_updated"": ""2020-11-07T20:38:44.657639+00:00"", ""context"": {""id"": ""c7a1d77a239116afac1fb3af67cc2bf0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L1""}, ""last_changed"": ""2020-11-07T20:39:03.464147+00:00"", ""last_updated"": ""2020-11-07T20:39:03.464147+00:00"", ""context"": {""id"": ""1150a7ded66ff6a52851f1ea045357c6"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.464182+00:00"", ""context"": {""id"": ""1150a7ded66ff6a52851f1ea045357c6"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_phase_l2"", ""old_state"": {""entity_id"": ""sensor.voltage_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L2""}, ""last_changed"": ""2020-11-07T20:38:44.658312+00:00"", ""last_updated"": ""2020-11-07T20:38:44.658312+00:00"", ""context"": {""id"": ""26544f2e2d2ebe9053b2a2c724d5ca6f"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L2""}, ""last_changed"": ""2020-11-07T20:39:03.464470+00:00"", ""last_updated"": ""2020-11-07T20:39:03.464470+00:00"", ""context"": {""id"": ""0f996cd12e6b274ebe8f98b8d3b79327"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.464502+00:00"", ""context"": {""id"": ""0f996cd12e6b274ebe8f98b8d3b79327"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_phase_l2"", ""old_state"": {""entity_id"": ""sensor.voltage_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L2""}, ""last_changed"": ""2020-11-07T20:38:44.658312+00:00"", ""last_updated"": ""2020-11-07T20:38:44.658312+00:00"", ""context"": {""id"": ""26544f2e2d2ebe9053b2a2c724d5ca6f"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L2""}, ""last_changed"": ""2020-11-07T20:39:03.464470+00:00"", ""last_updated"": ""2020-11-07T20:39:03.464470+00:00"", ""context"": {""id"": ""0f996cd12e6b274ebe8f98b8d3b79327"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.464502+00:00"", ""context"": {""id"": ""0f996cd12e6b274ebe8f98b8d3b79327"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_phase_l3"", ""old_state"": {""entity_id"": ""sensor.voltage_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L3""}, ""last_changed"": ""2020-11-07T20:38:44.658985+00:00"", ""last_updated"": ""2020-11-07T20:38:44.658985+00:00"", ""context"": {""id"": ""4f383ee69b78c35802813602349311be"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L3""}, ""last_changed"": ""2020-11-07T20:39:03.464766+00:00"", ""last_updated"": ""2020-11-07T20:39:03.464766+00:00"", ""context"": {""id"": ""447343e7f5a1cc2901739c6d8144a81e"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.464796+00:00"", ""context"": {""id"": ""447343e7f5a1cc2901739c6d8144a81e"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_phase_l3"", ""old_state"": {""entity_id"": ""sensor.voltage_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L3""}, ""last_changed"": ""2020-11-07T20:38:44.658985+00:00"", ""last_updated"": ""2020-11-07T20:38:44.658985+00:00"", ""context"": {""id"": ""4f383ee69b78c35802813602349311be"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L3""}, ""last_changed"": ""2020-11-07T20:39:03.464766+00:00"", ""last_updated"": ""2020-11-07T20:39:03.464766+00:00"", ""context"": {""id"": ""447343e7f5a1cc2901739c6d8144a81e"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.464796+00:00"", ""context"": {""id"": ""447343e7f5a1cc2901739c6d8144a81e"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.current_phase_l1"", ""old_state"": {""entity_id"": ""sensor.current_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L1""}, ""last_changed"": ""2020-11-07T20:38:44.659658+00:00"", ""last_updated"": ""2020-11-07T20:38:44.659658+00:00"", ""context"": {""id"": ""e8bdd909136d8660fff5a0a3424971dc"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.current_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L1""}, ""last_changed"": ""2020-11-07T20:39:03.465060+00:00"", ""last_updated"": ""2020-11-07T20:39:03.465060+00:00"", ""context"": {""id"": ""8faec4803b094a1f4cf9b2f494de5336"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.466493+00:00"", ""context"": {""id"": ""8faec4803b094a1f4cf9b2f494de5336"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.current_phase_l1"", ""old_state"": {""entity_id"": ""sensor.current_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L1""}, ""last_changed"": ""2020-11-07T20:38:44.659658+00:00"", ""last_updated"": ""2020-11-07T20:38:44.659658+00:00"", ""context"": {""id"": ""e8bdd909136d8660fff5a0a3424971dc"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.current_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L1""}, ""last_changed"": ""2020-11-07T20:39:03.465060+00:00"", ""last_updated"": ""2020-11-07T20:39:03.465060+00:00"", ""context"": {""id"": ""8faec4803b094a1f4cf9b2f494de5336"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.466493+00:00"", ""context"": {""id"": ""8faec4803b094a1f4cf9b2f494de5336"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.current_phase_l2"", ""old_state"": {""entity_id"": ""sensor.current_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L2""}, ""last_changed"": ""2020-11-07T20:38:44.660331+00:00"", ""last_updated"": ""2020-11-07T20:38:44.660331+00:00"", ""context"": {""id"": ""f691d5db5a32c1e180c91a7f9de656b4"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.current_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L2""}, ""last_changed"": ""2020-11-07T20:39:03.466890+00:00"", ""last_updated"": ""2020-11-07T20:39:03.466890+00:00"", ""context"": {""id"": ""388d1423c244bb0300b7c236e7a29a15"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.466927+00:00"", ""context"": {""id"": ""388d1423c244bb0300b7c236e7a29a15"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.current_phase_l2"", ""old_state"": {""entity_id"": ""sensor.current_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L2""}, ""last_changed"": ""2020-11-07T20:38:44.660331+00:00"", ""last_updated"": ""2020-11-07T20:38:44.660331+00:00"", ""context"": {""id"": ""f691d5db5a32c1e180c91a7f9de656b4"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.current_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L2""}, ""last_changed"": ""2020-11-07T20:39:03.466890+00:00"", ""last_updated"": ""2020-11-07T20:39:03.466890+00:00"", ""context"": {""id"": ""388d1423c244bb0300b7c236e7a29a15"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.466927+00:00"", ""context"": {""id"": ""388d1423c244bb0300b7c236e7a29a15"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.current_phase_l3"", ""old_state"": {""entity_id"": ""sensor.current_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L3""}, ""last_changed"": ""2020-11-07T20:38:44.661007+00:00"", ""last_updated"": ""2020-11-07T20:38:44.661007+00:00"", ""context"": {""id"": ""3630d5936c18dc6a189e0b76b85dc359"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.current_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L3""}, ""last_changed"": ""2020-11-07T20:39:03.467201+00:00"", ""last_updated"": ""2020-11-07T20:39:03.467201+00:00"", ""context"": {""id"": ""736a4061ee6f6cd29ce5b6bc4e38a3a2"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.467232+00:00"", ""context"": {""id"": ""736a4061ee6f6cd29ce5b6bc4e38a3a2"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.current_phase_l3"", ""old_state"": {""entity_id"": ""sensor.current_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L3""}, ""last_changed"": ""2020-11-07T20:38:44.661007+00:00"", ""last_updated"": ""2020-11-07T20:38:44.661007+00:00"", ""context"": {""id"": ""3630d5936c18dc6a189e0b76b85dc359"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.current_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L3""}, ""last_changed"": ""2020-11-07T20:39:03.467201+00:00"", ""last_updated"": ""2020-11-07T20:39:03.467201+00:00"", ""context"": {""id"": ""736a4061ee6f6cd29ce5b6bc4e38a3a2"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.467232+00:00"", ""context"": {""id"": ""736a4061ee6f6cd29ce5b6bc4e38a3a2"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.gas_consumption"", ""old_state"": {""entity_id"": ""sensor.gas_consumption"", ""state"": ""9735.159"", ""attributes"": {""unit_of_measurement"": ""m3"", ""friendly_name"": ""Gas Consumption"", ""icon"": ""mdi:fire""}, ""last_changed"": ""2020-11-07T20:38:44.661898+00:00"", ""last_updated"": ""2020-11-07T20:38:44.661898+00:00"", ""context"": {""id"": ""7b64f5f8f093e24789be30665cf49732"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.gas_consumption"", ""state"": ""9735.159"", ""attributes"": {""unit_of_measurement"": ""m3"", ""friendly_name"": ""Gas Consumption"", ""icon"": ""mdi:fire""}, ""last_changed"": ""2020-11-07T20:39:03.467551+00:00"", ""last_updated"": ""2020-11-07T20:39:03.467551+00:00"", ""context"": {""id"": ""765f573cb0cdb78851da24d3764705c9"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.467581+00:00"", ""context"": {""id"": ""765f573cb0cdb78851da24d3764705c9"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.gas_consumption"", ""old_state"": {""entity_id"": ""sensor.gas_consumption"", ""state"": ""9735.159"", ""attributes"": {""unit_of_measurement"": ""m3"", ""friendly_name"": ""Gas Consumption"", ""icon"": ""mdi:fire""}, ""last_changed"": ""2020-11-07T20:38:44.661898+00:00"", ""last_updated"": ""2020-11-07T20:38:44.661898+00:00"", ""context"": {""id"": ""7b64f5f8f093e24789be30665cf49732"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.gas_consumption"", ""state"": ""9735.159"", ""attributes"": {""unit_of_measurement"": ""m3"", ""friendly_name"": ""Gas Consumption"", ""icon"": ""mdi:fire""}, ""last_changed"": ""2020-11-07T20:39:03.467551+00:00"", ""last_updated"": ""2020-11-07T20:39:03.467551+00:00"", ""context"": {""id"": ""765f573cb0cdb78851da24d3764705c9"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.467581+00:00"", ""context"": {""id"": ""765f573cb0cdb78851da24d3764705c9"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.time_utc"", ""old_state"": {""entity_id"": ""sensor.time_utc"", ""state"": ""20:38"", ""attributes"": {""friendly_name"": ""Time (UTC)"", ""icon"": ""mdi:clock""}, ""last_changed"": ""2020-11-07T20:38:00.856212+00:00"", ""last_updated"": ""2020-11-07T20:38:00.856212+00:00"", ""context"": {""id"": ""51cc540cbe8878b4534b12c30eba10a0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.time_utc"", ""state"": ""20:39"", ""attributes"": {""friendly_name"": ""Time (UTC)"", ""icon"": ""mdi:clock""}, ""last_changed"": ""2020-11-07T20:39:03.471863+00:00"", ""last_updated"": ""2020-11-07T20:39:03.471863+00:00"", ""context"": {""id"": ""3c49b2f5983c320442ad3680d4c5a3a4"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.471922+00:00"", ""context"": {""id"": ""3c49b2f5983c320442ad3680d4c5a3a4"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.time_utc"", ""old_state"": {""entity_id"": ""sensor.time_utc"", ""state"": ""20:38"", ""attributes"": {""friendly_name"": ""Time (UTC)"", ""icon"": ""mdi:clock""}, ""last_changed"": ""2020-11-07T20:38:00.856212+00:00"", ""last_updated"": ""2020-11-07T20:38:00.856212+00:00"", ""context"": {""id"": ""51cc540cbe8878b4534b12c30eba10a0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.time_utc"", ""state"": ""20:39"", ""attributes"": {""friendly_name"": ""Time (UTC)"", ""icon"": ""mdi:clock""}, ""last_changed"": ""2020-11-07T20:39:03.471863+00:00"", ""last_updated"": ""2020-11-07T20:39:03.471863+00:00"", ""context"": {""id"": ""3c49b2f5983c320442ad3680d4c5a3a4"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.471922+00:00"", ""context"": {""id"": ""3c49b2f5983c320442ad3680d4c5a3a4"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.time"", ""old_state"": {""entity_id"": ""sensor.time"", ""state"": ""21:38"", ""attributes"": {""friendly_name"": ""Time"", ""icon"": ""mdi:clock""}, ""last_changed"": ""2020-11-07T20:38:00.882319+00:00"", ""last_updated"": ""2020-11-07T20:38:00.882319+00:00"", ""context"": {""id"": ""3566cca13faf4ee6be363de81bc30a2b"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.time"", ""state"": ""21:39"", ""attributes"": {""friendly_name"": ""Time"", ""icon"": ""mdi:clock""}, ""last_changed"": ""2020-11-07T20:39:03.472920+00:00"", ""last_updated"": ""2020-11-07T20:39:03.472920+00:00"", ""context"": {""id"": ""be9d6605cc35afc6b991e637a68d004d"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.472996+00:00"", ""context"": {""id"": ""be9d6605cc35afc6b991e637a68d004d"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.time"", ""old_state"": {""entity_id"": ""sensor.time"", ""state"": ""21:38"", ""attributes"": {""friendly_name"": ""Time"", ""icon"": ""mdi:clock""}, ""last_changed"": ""2020-11-07T20:38:00.882319+00:00"", ""last_updated"": ""2020-11-07T20:38:00.882319+00:00"", ""context"": {""id"": ""3566cca13faf4ee6be363de81bc30a2b"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.time"", ""state"": ""21:39"", ""attributes"": {""friendly_name"": ""Time"", ""icon"": ""mdi:clock""}, ""last_changed"": ""2020-11-07T20:39:03.472920+00:00"", ""last_updated"": ""2020-11-07T20:39:03.472920+00:00"", ""context"": {""id"": ""be9d6605cc35afc6b991e637a68d004d"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.472996+00:00"", ""context"": {""id"": ""be9d6605cc35afc6b991e637a68d004d"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.date_time"", ""old_state"": {""entity_id"": ""sensor.date_time"", ""state"": ""2020-11-07, 21:38"", ""attributes"": {""friendly_name"": ""Date & Time"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:38:00.904771+00:00"", ""last_updated"": ""2020-11-07T20:38:00.904771+00:00"", ""context"": {""id"": ""d50e95271152aa51bdb9e7467c6df1b8"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.date_time"", ""state"": ""2020-11-07, 21:39"", ""attributes"": {""friendly_name"": ""Date & Time"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:39:03.474094+00:00"", ""last_updated"": ""2020-11-07T20:39:03.474094+00:00"", ""context"": {""id"": ""0aef9cfd89d12bf2c0602afe4d8dcde4"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.474150+00:00"", ""context"": {""id"": ""0aef9cfd89d12bf2c0602afe4d8dcde4"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.date_time"", ""old_state"": {""entity_id"": ""sensor.date_time"", ""state"": ""2020-11-07, 21:38"", ""attributes"": {""friendly_name"": ""Date & Time"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:38:00.904771+00:00"", ""last_updated"": ""2020-11-07T20:38:00.904771+00:00"", ""context"": {""id"": ""d50e95271152aa51bdb9e7467c6df1b8"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.date_time"", ""state"": ""2020-11-07, 21:39"", ""attributes"": {""friendly_name"": ""Date & Time"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:39:03.474094+00:00"", ""last_updated"": ""2020-11-07T20:39:03.474094+00:00"", ""context"": {""id"": ""0aef9cfd89d12bf2c0602afe4d8dcde4"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.474150+00:00"", ""context"": {""id"": ""0aef9cfd89d12bf2c0602afe4d8dcde4"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.date_time_iso"", ""old_state"": {""entity_id"": ""sensor.date_time_iso"", ""state"": ""2020-11-07T21:38:00"", ""attributes"": {""friendly_name"": ""Date & Time (ISO)"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:38:00.920648+00:00"", ""last_updated"": ""2020-11-07T20:38:00.920648+00:00"", ""context"": {""id"": ""9bf55b69d779b7202ecf9e7537ee7ff0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.date_time_iso"", ""state"": ""2020-11-07T21:39:00"", ""attributes"": {""friendly_name"": ""Date & Time (ISO)"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:39:03.475150+00:00"", ""last_updated"": ""2020-11-07T20:39:03.475150+00:00"", ""context"": {""id"": ""e371b6d6d7b9f1c77666f78b321a9830"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.475207+00:00"", ""context"": {""id"": ""e371b6d6d7b9f1c77666f78b321a9830"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.date_time_iso"", ""old_state"": {""entity_id"": ""sensor.date_time_iso"", ""state"": ""2020-11-07T21:38:00"", ""attributes"": {""friendly_name"": ""Date & Time (ISO)"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:38:00.920648+00:00"", ""last_updated"": ""2020-11-07T20:38:00.920648+00:00"", ""context"": {""id"": ""9bf55b69d779b7202ecf9e7537ee7ff0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.date_time_iso"", ""state"": ""2020-11-07T21:39:00"", ""attributes"": {""friendly_name"": ""Date & Time (ISO)"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:39:03.475150+00:00"", ""last_updated"": ""2020-11-07T20:39:03.475150+00:00"", ""context"": {""id"": ""e371b6d6d7b9f1c77666f78b321a9830"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.475207+00:00"", ""context"": {""id"": ""e371b6d6d7b9f1c77666f78b321a9830"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.time_date"", ""old_state"": {""entity_id"": ""sensor.time_date"", ""state"": ""21:38, 2020-11-07"", ""attributes"": {""friendly_name"": ""Time & Date"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:38:00.938435+00:00"", ""last_updated"": ""2020-11-07T20:38:00.938435+00:00"", ""context"": {""id"": ""da4e34ea7257ad001f6a90d3e93d94fd"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.time_date"", ""state"": ""21:39, 2020-11-07"", ""attributes"": {""friendly_name"": ""Time & Date"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:39:03.476102+00:00"", ""last_updated"": ""2020-11-07T20:39:03.476102+00:00"", ""context"": {""id"": ""7f8ee838a688c3e45707c62a6e67119c"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.476168+00:00"", ""context"": {""id"": ""7f8ee838a688c3e45707c62a6e67119c"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.time_date"", ""old_state"": {""entity_id"": ""sensor.time_date"", ""state"": ""21:38, 2020-11-07"", ""attributes"": {""friendly_name"": ""Time & Date"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:38:00.938435+00:00"", ""last_updated"": ""2020-11-07T20:38:00.938435+00:00"", ""context"": {""id"": ""da4e34ea7257ad001f6a90d3e93d94fd"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.time_date"", ""state"": ""21:39, 2020-11-07"", ""attributes"": {""friendly_name"": ""Time & Date"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:39:03.476102+00:00"", ""last_updated"": ""2020-11-07T20:39:03.476102+00:00"", ""context"": {""id"": ""7f8ee838a688c3e45707c62a6e67119c"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.476168+00:00"", ""context"": {""id"": ""7f8ee838a688c3e45707c62a6e67119c"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption"", ""old_state"": {""entity_id"": ""sensor.power_consumption"", ""state"": ""0.99"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Consumption"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.641492+00:00"", ""last_updated"": ""2020-11-07T20:38:44.641492+00:00"", ""context"": {""id"": ""5478aba806322ca2922af53843f97a34"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption"", ""state"": ""0.99"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Consumption"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.453621+00:00"", ""last_updated"": ""2020-11-07T20:39:03.453621+00:00"", ""context"": {""id"": ""29eed7d9062fc2f2437c5b17a3368806"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.453723+00:00"", ""context"": {""id"": ""29eed7d9062fc2f2437c5b17a3368806"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production"", ""old_state"": {""entity_id"": ""sensor.power_production"", ""state"": ""0.0"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Production"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.642369+00:00"", ""last_updated"": ""2020-11-07T20:38:44.642369+00:00"", ""context"": {""id"": ""a15d44b1f1f48ae678e99e747fe1ebb7"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production"", ""state"": ""0.0"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Production"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.454979+00:00"", ""last_updated"": ""2020-11-07T20:39:03.454979+00:00"", ""context"": {""id"": ""5d0841a70efe21abd6e4202e8a3e4672"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.455115+00:00"", ""context"": {""id"": ""5d0841a70efe21abd6e4202e8a3e4672"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_tariff"", ""old_state"": {""entity_id"": ""sensor.power_tariff"", ""state"": ""low"", ""attributes"": {""friendly_name"": ""Power Tariff"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.643544+00:00"", ""last_updated"": ""2020-11-07T20:38:44.643544+00:00"", ""context"": {""id"": ""efdc192816ba332010ddcbe30ad1bc4e"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_tariff"", ""state"": ""low"", ""attributes"": {""friendly_name"": ""Power Tariff"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.455788+00:00"", ""last_updated"": ""2020-11-07T20:39:03.455788+00:00"", ""context"": {""id"": ""9caa9fd1c749de724453563ea6c20693"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.455832+00:00"", ""context"": {""id"": ""9caa9fd1c749de724453563ea6c20693"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_consumption_total"", ""old_state"": {""entity_id"": ""sensor.energy_consumption_total"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Energy Consumption (total)""}, ""last_changed"": ""2020-11-07T20:38:44.644356+00:00"", ""last_updated"": ""2020-11-07T20:38:44.644356+00:00"", ""context"": {""id"": ""2e97a2a303f8e2a155581c802261e197"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_consumption_total"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Energy Consumption (total)""}, ""last_changed"": ""2020-11-07T20:39:03.456143+00:00"", ""last_updated"": ""2020-11-07T20:39:03.456143+00:00"", ""context"": {""id"": ""cde8a74fee03a5f520d45fded7204964"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.456175+00:00"", ""context"": {""id"": ""cde8a74fee03a5f520d45fded7204964"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_consumption_tarif_1"", ""old_state"": {""entity_id"": ""sensor.energy_consumption_tarif_1"", ""state"": ""28025.679"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Consumption (tarif 1)""}, ""last_changed"": ""2020-11-07T20:38:44.645114+00:00"", ""last_updated"": ""2020-11-07T20:38:44.645114+00:00"", ""context"": {""id"": ""08c28ad603823a3004b8296b5cd52416"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_consumption_tarif_1"", ""state"": ""28025.682"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Consumption (tarif 1)""}, ""last_changed"": ""2020-11-07T20:39:03.456522+00:00"", ""last_updated"": ""2020-11-07T20:39:03.456522+00:00"", ""context"": {""id"": ""93fe12313406de02781adde5d6ed94f4"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.456553+00:00"", ""context"": {""id"": ""93fe12313406de02781adde5d6ed94f4"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_consumption_tarif_2"", ""old_state"": {""entity_id"": ""sensor.energy_consumption_tarif_2"", ""state"": ""23266.809"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Consumption (tarif 2)""}, ""last_changed"": ""2020-11-07T20:38:44.645834+00:00"", ""last_updated"": ""2020-11-07T20:38:44.645834+00:00"", ""context"": {""id"": ""fbc61530cd688ec895014bc55c556352"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_consumption_tarif_2"", ""state"": ""23266.809"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Consumption (tarif 2)""}, ""last_changed"": ""2020-11-07T20:39:03.456894+00:00"", ""last_updated"": ""2020-11-07T20:39:03.456894+00:00"", ""context"": {""id"": ""91898d2955bf936c40bfd58c4c3e00d5"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.456925+00:00"", ""context"": {""id"": ""91898d2955bf936c40bfd58c4c3e00d5"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_production_tarif_1"", ""old_state"": {""entity_id"": ""sensor.energy_production_tarif_1"", ""state"": ""0.007"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Production (tarif 1)""}, ""last_changed"": ""2020-11-07T20:38:44.646567+00:00"", ""last_updated"": ""2020-11-07T20:38:44.646567+00:00"", ""context"": {""id"": ""0d4b17cbc6eb5730bd848d110cda4ee0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_production_tarif_1"", ""state"": ""0.007"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Production (tarif 1)""}, ""last_changed"": ""2020-11-07T20:39:03.457227+00:00"", ""last_updated"": ""2020-11-07T20:39:03.457227+00:00"", ""context"": {""id"": ""80e16c2eb3ea545fa993a5b46ad43ce2"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.457257+00:00"", ""context"": {""id"": ""80e16c2eb3ea545fa993a5b46ad43ce2"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_production_tarif_2"", ""old_state"": {""entity_id"": ""sensor.energy_production_tarif_2"", ""state"": ""0.03"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Production (tarif 2)""}, ""last_changed"": ""2020-11-07T20:38:44.647281+00:00"", ""last_updated"": ""2020-11-07T20:38:44.647281+00:00"", ""context"": {""id"": ""6a991b1acad1c009cfedae9f8b1f23db"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_production_tarif_2"", ""state"": ""0.03"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Production (tarif 2)""}, ""last_changed"": ""2020-11-07T20:39:03.457538+00:00"", ""last_updated"": ""2020-11-07T20:39:03.457538+00:00"", ""context"": {""id"": ""fb557f84cc0c3fb9964b7599e37ca5bd"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.457568+00:00"", ""context"": {""id"": ""fb557f84cc0c3fb9964b7599e37ca5bd"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption_phase_l1"", ""old_state"": {""entity_id"": ""sensor.power_consumption_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L1"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.647974+00:00"", ""last_updated"": ""2020-11-07T20:38:44.647974+00:00"", ""context"": {""id"": ""2b1525e0052c4e67a67dc8a8c02fddee"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L1"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.457859+00:00"", ""last_updated"": ""2020-11-07T20:39:03.457859+00:00"", ""context"": {""id"": ""ea978c5b9eb8f94dcd9a7ecba79100e2"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.457890+00:00"", ""context"": {""id"": ""ea978c5b9eb8f94dcd9a7ecba79100e2"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption_phase_l2"", ""old_state"": {""entity_id"": ""sensor.power_consumption_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L2"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.648812+00:00"", ""last_updated"": ""2020-11-07T20:38:44.648812+00:00"", ""context"": {""id"": ""ab771c96da0a15ca8bc276606c120b5b"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L2"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.458167+00:00"", ""last_updated"": ""2020-11-07T20:39:03.458167+00:00"", ""context"": {""id"": ""89cf37065939559234eb8ee4df5f96c3"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.458197+00:00"", ""context"": {""id"": ""89cf37065939559234eb8ee4df5f96c3"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption_phase_l3"", ""old_state"": {""entity_id"": ""sensor.power_consumption_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L3"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.649495+00:00"", ""last_updated"": ""2020-11-07T20:38:44.649495+00:00"", ""context"": {""id"": ""f4c243fbbf00ff2014053ee03fd543c1"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L3"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.458511+00:00"", ""last_updated"": ""2020-11-07T20:39:03.458511+00:00"", ""context"": {""id"": ""69dbd06fdd7a360bc3585a4b4bb40abf"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.458543+00:00"", ""context"": {""id"": ""69dbd06fdd7a360bc3585a4b4bb40abf"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:03 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production_phase_l1"", ""old_state"": {""entity_id"": ""sensor.power_production_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L1"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.650168+00:00"", ""last_updated"": ""2020-11-07T20:38:44.650168+00:00"", ""context"": {""id"": ""f0ece7db80959ee8d177c46e55878b1f"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L1"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.458815+00:00"", ""last_updated"": ""2020-11-07T20:39:03.458815+00:00"", ""context"": {""id"": ""d60afc624dadeef5ac42d20cdef9be0e"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.458846+00:00"", ""context"": {""id"": ""d60afc624dadeef5ac42d20cdef9be0e"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production_phase_l2"", ""old_state"": {""entity_id"": ""sensor.power_production_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L2"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.650847+00:00"", ""last_updated"": ""2020-11-07T20:38:44.650847+00:00"", ""context"": {""id"": ""1d276742407639c1f721718b2d047392"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L2"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.459133+00:00"", ""last_updated"": ""2020-11-07T20:39:03.459133+00:00"", ""context"": {""id"": ""21d63e7388d30babc61df99e48bee57d"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.459164+00:00"", ""context"": {""id"": ""21d63e7388d30babc61df99e48bee57d"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production_phase_l3"", ""old_state"": {""entity_id"": ""sensor.power_production_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L3"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.651523+00:00"", ""last_updated"": ""2020-11-07T20:38:44.651523+00:00"", ""context"": {""id"": ""72fb2dca2ba7f884053cf3686c08ad0e"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L3"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.459441+00:00"", ""last_updated"": ""2020-11-07T20:39:03.459441+00:00"", ""context"": {""id"": ""a0b852b0892a681c3c77af32a3cae377"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.459472+00:00"", ""context"": {""id"": ""a0b852b0892a681c3c77af32a3cae377"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.short_power_failure_count"", ""old_state"": {""entity_id"": ""sensor.short_power_failure_count"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Short Power Failure Count"", ""icon"": ""mdi:flash-off""}, ""last_changed"": ""2020-11-07T20:38:44.652199+00:00"", ""last_updated"": ""2020-11-07T20:38:44.652199+00:00"", ""context"": {""id"": ""cce89f7c3820e14cf8db832070515658"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.short_power_failure_count"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Short Power Failure Count"", ""icon"": ""mdi:flash-off""}, ""last_changed"": ""2020-11-07T20:39:03.459754+00:00"", ""last_updated"": ""2020-11-07T20:39:03.459754+00:00"", ""context"": {""id"": ""4e5e2bb3efe093859bc4d5fad9347d33"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.459784+00:00"", ""context"": {""id"": ""4e5e2bb3efe093859bc4d5fad9347d33"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.long_power_failure_count"", ""old_state"": {""entity_id"": ""sensor.long_power_failure_count"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Long Power Failure Count"", ""icon"": ""mdi:flash-off""}, ""last_changed"": ""2020-11-07T20:38:44.652877+00:00"", ""last_updated"": ""2020-11-07T20:38:44.652877+00:00"", ""context"": {""id"": ""4c3d36ea644f6b759545219b20650159"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.long_power_failure_count"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Long Power Failure Count"", ""icon"": ""mdi:flash-off""}, ""last_changed"": ""2020-11-07T20:39:03.460173+00:00"", ""last_updated"": ""2020-11-07T20:39:03.460173+00:00"", ""context"": {""id"": ""5fa7281a85919effce52077804d806eb"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.460215+00:00"", ""context"": {""id"": ""5fa7281a85919effce52077804d806eb"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_sags_phase_l1"", ""old_state"": {""entity_id"": ""sensor.voltage_sags_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L1"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.653548+00:00"", ""last_updated"": ""2020-11-07T20:38:44.653548+00:00"", ""context"": {""id"": ""8c9b99b546bc0b807500143d7db45cf0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_sags_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L1"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.460512+00:00"", ""last_updated"": ""2020-11-07T20:39:03.460512+00:00"", ""context"": {""id"": ""7b61a8e4f410ea0746449f82d5179fb3"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.460543+00:00"", ""context"": {""id"": ""7b61a8e4f410ea0746449f82d5179fb3"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_sags_phase_l2"", ""old_state"": {""entity_id"": ""sensor.voltage_sags_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L2"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.654281+00:00"", ""last_updated"": ""2020-11-07T20:38:44.654281+00:00"", ""context"": {""id"": ""90ef420e9c142c15d5ad53cdbe3a2f07"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_sags_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L2"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.460807+00:00"", ""last_updated"": ""2020-11-07T20:39:03.460807+00:00"", ""context"": {""id"": ""abc408a78cc4af1a59445f0d6730d443"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.460837+00:00"", ""context"": {""id"": ""abc408a78cc4af1a59445f0d6730d443"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_sags_phase_l3"", ""old_state"": {""entity_id"": ""sensor.voltage_sags_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L3"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.654953+00:00"", ""last_updated"": ""2020-11-07T20:38:44.654953+00:00"", ""context"": {""id"": ""7b8892af474555eec4bdbbd4612bdf3d"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_sags_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L3"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.461097+00:00"", ""last_updated"": ""2020-11-07T20:39:03.461097+00:00"", ""context"": {""id"": ""afbca9a91b43fcae3722269f59e0c60d"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.461127+00:00"", ""context"": {""id"": ""afbca9a91b43fcae3722269f59e0c60d"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_swells_phase_l1"", ""old_state"": {""entity_id"": ""sensor.voltage_swells_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L1"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.655626+00:00"", ""last_updated"": ""2020-11-07T20:38:44.655626+00:00"", ""context"": {""id"": ""e357ceb9c6c67f8ff40b8ce75af08879"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_swells_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L1"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.461389+00:00"", ""last_updated"": ""2020-11-07T20:39:03.461389+00:00"", ""context"": {""id"": ""235bd997a3e4c42a67bb370f4af5e75e"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.461418+00:00"", ""context"": {""id"": ""235bd997a3e4c42a67bb370f4af5e75e"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_swells_phase_l2"", ""old_state"": {""entity_id"": ""sensor.voltage_swells_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L2"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.656292+00:00"", ""last_updated"": ""2020-11-07T20:38:44.656292+00:00"", ""context"": {""id"": ""38c74e9116fb81f62095c6900d18cba6"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_swells_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L2"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.463366+00:00"", ""last_updated"": ""2020-11-07T20:39:03.463366+00:00"", ""context"": {""id"": ""cd6a6af20197efd0bd52a3a966111162"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.463424+00:00"", ""context"": {""id"": ""cd6a6af20197efd0bd52a3a966111162"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_swells_phase_l3"", ""old_state"": {""entity_id"": ""sensor.voltage_swells_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L3"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.656966+00:00"", ""last_updated"": ""2020-11-07T20:38:44.656966+00:00"", ""context"": {""id"": ""fcfdd846afcd1e92a35c34fa171770f6"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_swells_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L3"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.463723+00:00"", ""last_updated"": ""2020-11-07T20:39:03.463723+00:00"", ""context"": {""id"": ""daaeb3213847620b92f5d8e05717285e"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.463754+00:00"", ""context"": {""id"": ""daaeb3213847620b92f5d8e05717285e"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_phase_l1"", ""old_state"": {""entity_id"": ""sensor.voltage_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L1""}, ""last_changed"": ""2020-11-07T20:38:44.657639+00:00"", ""last_updated"": ""2020-11-07T20:38:44.657639+00:00"", ""context"": {""id"": ""c7a1d77a239116afac1fb3af67cc2bf0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L1""}, ""last_changed"": ""2020-11-07T20:39:03.464147+00:00"", ""last_updated"": ""2020-11-07T20:39:03.464147+00:00"", ""context"": {""id"": ""1150a7ded66ff6a52851f1ea045357c6"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.464182+00:00"", ""context"": {""id"": ""1150a7ded66ff6a52851f1ea045357c6"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_phase_l2"", ""old_state"": {""entity_id"": ""sensor.voltage_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L2""}, ""last_changed"": ""2020-11-07T20:38:44.658312+00:00"", ""last_updated"": ""2020-11-07T20:38:44.658312+00:00"", ""context"": {""id"": ""26544f2e2d2ebe9053b2a2c724d5ca6f"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L2""}, ""last_changed"": ""2020-11-07T20:39:03.464470+00:00"", ""last_updated"": ""2020-11-07T20:39:03.464470+00:00"", ""context"": {""id"": ""0f996cd12e6b274ebe8f98b8d3b79327"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.464502+00:00"", ""context"": {""id"": ""0f996cd12e6b274ebe8f98b8d3b79327"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_phase_l3"", ""old_state"": {""entity_id"": ""sensor.voltage_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L3""}, ""last_changed"": ""2020-11-07T20:38:44.658985+00:00"", ""last_updated"": ""2020-11-07T20:38:44.658985+00:00"", ""context"": {""id"": ""4f383ee69b78c35802813602349311be"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L3""}, ""last_changed"": ""2020-11-07T20:39:03.464766+00:00"", ""last_updated"": ""2020-11-07T20:39:03.464766+00:00"", ""context"": {""id"": ""447343e7f5a1cc2901739c6d8144a81e"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.464796+00:00"", ""context"": {""id"": ""447343e7f5a1cc2901739c6d8144a81e"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.current_phase_l1"", ""old_state"": {""entity_id"": ""sensor.current_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L1""}, ""last_changed"": ""2020-11-07T20:38:44.659658+00:00"", ""last_updated"": ""2020-11-07T20:38:44.659658+00:00"", ""context"": {""id"": ""e8bdd909136d8660fff5a0a3424971dc"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.current_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L1""}, ""last_changed"": ""2020-11-07T20:39:03.465060+00:00"", ""last_updated"": ""2020-11-07T20:39:03.465060+00:00"", ""context"": {""id"": ""8faec4803b094a1f4cf9b2f494de5336"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.466493+00:00"", ""context"": {""id"": ""8faec4803b094a1f4cf9b2f494de5336"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.current_phase_l2"", ""old_state"": {""entity_id"": ""sensor.current_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L2""}, ""last_changed"": ""2020-11-07T20:38:44.660331+00:00"", ""last_updated"": ""2020-11-07T20:38:44.660331+00:00"", ""context"": {""id"": ""f691d5db5a32c1e180c91a7f9de656b4"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.current_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L2""}, ""last_changed"": ""2020-11-07T20:39:03.466890+00:00"", ""last_updated"": ""2020-11-07T20:39:03.466890+00:00"", ""context"": {""id"": ""388d1423c244bb0300b7c236e7a29a15"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.466927+00:00"", ""context"": {""id"": ""388d1423c244bb0300b7c236e7a29a15"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.current_phase_l3"", ""old_state"": {""entity_id"": ""sensor.current_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L3""}, ""last_changed"": ""2020-11-07T20:38:44.661007+00:00"", ""last_updated"": ""2020-11-07T20:38:44.661007+00:00"", ""context"": {""id"": ""3630d5936c18dc6a189e0b76b85dc359"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.current_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Current Phase L3""}, ""last_changed"": ""2020-11-07T20:39:03.467201+00:00"", ""last_updated"": ""2020-11-07T20:39:03.467201+00:00"", ""context"": {""id"": ""736a4061ee6f6cd29ce5b6bc4e38a3a2"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.467232+00:00"", ""context"": {""id"": ""736a4061ee6f6cd29ce5b6bc4e38a3a2"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.gas_consumption"", ""old_state"": {""entity_id"": ""sensor.gas_consumption"", ""state"": ""9735.159"", ""attributes"": {""unit_of_measurement"": ""m3"", ""friendly_name"": ""Gas Consumption"", ""icon"": ""mdi:fire""}, ""last_changed"": ""2020-11-07T20:38:44.661898+00:00"", ""last_updated"": ""2020-11-07T20:38:44.661898+00:00"", ""context"": {""id"": ""7b64f5f8f093e24789be30665cf49732"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.gas_consumption"", ""state"": ""9735.159"", ""attributes"": {""unit_of_measurement"": ""m3"", ""friendly_name"": ""Gas Consumption"", ""icon"": ""mdi:fire""}, ""last_changed"": ""2020-11-07T20:39:03.467551+00:00"", ""last_updated"": ""2020-11-07T20:39:03.467551+00:00"", ""context"": {""id"": ""765f573cb0cdb78851da24d3764705c9"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.467581+00:00"", ""context"": {""id"": ""765f573cb0cdb78851da24d3764705c9"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.time_utc"", ""old_state"": {""entity_id"": ""sensor.time_utc"", ""state"": ""20:38"", ""attributes"": {""friendly_name"": ""Time (UTC)"", ""icon"": ""mdi:clock""}, ""last_changed"": ""2020-11-07T20:38:00.856212+00:00"", ""last_updated"": ""2020-11-07T20:38:00.856212+00:00"", ""context"": {""id"": ""51cc540cbe8878b4534b12c30eba10a0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.time_utc"", ""state"": ""20:39"", ""attributes"": {""friendly_name"": ""Time (UTC)"", ""icon"": ""mdi:clock""}, ""last_changed"": ""2020-11-07T20:39:03.471863+00:00"", ""last_updated"": ""2020-11-07T20:39:03.471863+00:00"", ""context"": {""id"": ""3c49b2f5983c320442ad3680d4c5a3a4"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.471922+00:00"", ""context"": {""id"": ""3c49b2f5983c320442ad3680d4c5a3a4"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.time"", ""old_state"": {""entity_id"": ""sensor.time"", ""state"": ""21:38"", ""attributes"": {""friendly_name"": ""Time"", ""icon"": ""mdi:clock""}, ""last_changed"": ""2020-11-07T20:38:00.882319+00:00"", ""last_updated"": ""2020-11-07T20:38:00.882319+00:00"", ""context"": {""id"": ""3566cca13faf4ee6be363de81bc30a2b"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.time"", ""state"": ""21:39"", ""attributes"": {""friendly_name"": ""Time"", ""icon"": ""mdi:clock""}, ""last_changed"": ""2020-11-07T20:39:03.472920+00:00"", ""last_updated"": ""2020-11-07T20:39:03.472920+00:00"", ""context"": {""id"": ""be9d6605cc35afc6b991e637a68d004d"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.472996+00:00"", ""context"": {""id"": ""be9d6605cc35afc6b991e637a68d004d"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.date_time"", ""old_state"": {""entity_id"": ""sensor.date_time"", ""state"": ""2020-11-07, 21:38"", ""attributes"": {""friendly_name"": ""Date & Time"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:38:00.904771+00:00"", ""last_updated"": ""2020-11-07T20:38:00.904771+00:00"", ""context"": {""id"": ""d50e95271152aa51bdb9e7467c6df1b8"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.date_time"", ""state"": ""2020-11-07, 21:39"", ""attributes"": {""friendly_name"": ""Date & Time"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:39:03.474094+00:00"", ""last_updated"": ""2020-11-07T20:39:03.474094+00:00"", ""context"": {""id"": ""0aef9cfd89d12bf2c0602afe4d8dcde4"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.474150+00:00"", ""context"": {""id"": ""0aef9cfd89d12bf2c0602afe4d8dcde4"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.date_time_iso"", ""old_state"": {""entity_id"": ""sensor.date_time_iso"", ""state"": ""2020-11-07T21:38:00"", ""attributes"": {""friendly_name"": ""Date & Time (ISO)"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:38:00.920648+00:00"", ""last_updated"": ""2020-11-07T20:38:00.920648+00:00"", ""context"": {""id"": ""9bf55b69d779b7202ecf9e7537ee7ff0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.date_time_iso"", ""state"": ""2020-11-07T21:39:00"", ""attributes"": {""friendly_name"": ""Date & Time (ISO)"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:39:03.475150+00:00"", ""last_updated"": ""2020-11-07T20:39:03.475150+00:00"", ""context"": {""id"": ""e371b6d6d7b9f1c77666f78b321a9830"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.475207+00:00"", ""context"": {""id"": ""e371b6d6d7b9f1c77666f78b321a9830"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1723666496] Sending {""id"": 2, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.time_date"", ""old_state"": {""entity_id"": ""sensor.time_date"", ""state"": ""21:38, 2020-11-07"", ""attributes"": {""friendly_name"": ""Time & Date"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:38:00.938435+00:00"", ""last_updated"": ""2020-11-07T20:38:00.938435+00:00"", ""context"": {""id"": ""da4e34ea7257ad001f6a90d3e93d94fd"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.time_date"", ""state"": ""21:39, 2020-11-07"", ""attributes"": {""friendly_name"": ""Time & Date"", ""icon"": ""mdi:calendar-clock""}, ""last_changed"": ""2020-11-07T20:39:03.476102+00:00"", ""last_updated"": ""2020-11-07T20:39:03.476102+00:00"", ""context"": {""id"": ""7f8ee838a688c3e45707c62a6e67119c"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.476168+00:00"", ""context"": {""id"": ""7f8ee838a688c3e45707c62a6e67119c"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption"", ""old_state"": {""entity_id"": ""sensor.power_consumption"", ""state"": ""0.99"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Consumption"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.641492+00:00"", ""last_updated"": ""2020-11-07T20:38:44.641492+00:00"", ""context"": {""id"": ""5478aba806322ca2922af53843f97a34"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption"", ""state"": ""0.99"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Consumption"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.453621+00:00"", ""last_updated"": ""2020-11-07T20:39:03.453621+00:00"", ""context"": {""id"": ""29eed7d9062fc2f2437c5b17a3368806"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.453723+00:00"", ""context"": {""id"": ""29eed7d9062fc2f2437c5b17a3368806"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production"", ""old_state"": {""entity_id"": ""sensor.power_production"", ""state"": ""0.0"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Production"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.642369+00:00"", ""last_updated"": ""2020-11-07T20:38:44.642369+00:00"", ""context"": {""id"": ""a15d44b1f1f48ae678e99e747fe1ebb7"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production"", ""state"": ""0.0"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Production"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.454979+00:00"", ""last_updated"": ""2020-11-07T20:39:03.454979+00:00"", ""context"": {""id"": ""5d0841a70efe21abd6e4202e8a3e4672"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.455115+00:00"", ""context"": {""id"": ""5d0841a70efe21abd6e4202e8a3e4672"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_tariff"", ""old_state"": {""entity_id"": ""sensor.power_tariff"", ""state"": ""low"", ""attributes"": {""friendly_name"": ""Power Tariff"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.643544+00:00"", ""last_updated"": ""2020-11-07T20:38:44.643544+00:00"", ""context"": {""id"": ""efdc192816ba332010ddcbe30ad1bc4e"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_tariff"", ""state"": ""low"", ""attributes"": {""friendly_name"": ""Power Tariff"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.455788+00:00"", ""last_updated"": ""2020-11-07T20:39:03.455788+00:00"", ""context"": {""id"": ""9caa9fd1c749de724453563ea6c20693"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.455832+00:00"", ""context"": {""id"": ""9caa9fd1c749de724453563ea6c20693"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_consumption_total"", ""old_state"": {""entity_id"": ""sensor.energy_consumption_total"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Energy Consumption (total)""}, ""last_changed"": ""2020-11-07T20:38:44.644356+00:00"", ""last_updated"": ""2020-11-07T20:38:44.644356+00:00"", ""context"": {""id"": ""2e97a2a303f8e2a155581c802261e197"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_consumption_total"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Energy Consumption (total)""}, ""last_changed"": ""2020-11-07T20:39:03.456143+00:00"", ""last_updated"": ""2020-11-07T20:39:03.456143+00:00"", ""context"": {""id"": ""cde8a74fee03a5f520d45fded7204964"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.456175+00:00"", ""context"": {""id"": ""cde8a74fee03a5f520d45fded7204964"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_consumption_tarif_1"", ""old_state"": {""entity_id"": ""sensor.energy_consumption_tarif_1"", ""state"": ""28025.679"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Consumption (tarif 1)""}, ""last_changed"": ""2020-11-07T20:38:44.645114+00:00"", ""last_updated"": ""2020-11-07T20:38:44.645114+00:00"", ""context"": {""id"": ""08c28ad603823a3004b8296b5cd52416"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_consumption_tarif_1"", ""state"": ""28025.682"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Consumption (tarif 1)""}, ""last_changed"": ""2020-11-07T20:39:03.456522+00:00"", ""last_updated"": ""2020-11-07T20:39:03.456522+00:00"", ""context"": {""id"": ""93fe12313406de02781adde5d6ed94f4"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.456553+00:00"", ""context"": {""id"": ""93fe12313406de02781adde5d6ed94f4"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_consumption_tarif_2"", ""old_state"": {""entity_id"": ""sensor.energy_consumption_tarif_2"", ""state"": ""23266.809"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Consumption (tarif 2)""}, ""last_changed"": ""2020-11-07T20:38:44.645834+00:00"", ""last_updated"": ""2020-11-07T20:38:44.645834+00:00"", ""context"": {""id"": ""fbc61530cd688ec895014bc55c556352"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_consumption_tarif_2"", ""state"": ""23266.809"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Consumption (tarif 2)""}, ""last_changed"": ""2020-11-07T20:39:03.456894+00:00"", ""last_updated"": ""2020-11-07T20:39:03.456894+00:00"", ""context"": {""id"": ""91898d2955bf936c40bfd58c4c3e00d5"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.456925+00:00"", ""context"": {""id"": ""91898d2955bf936c40bfd58c4c3e00d5"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_production_tarif_1"", ""old_state"": {""entity_id"": ""sensor.energy_production_tarif_1"", ""state"": ""0.007"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Production (tarif 1)""}, ""last_changed"": ""2020-11-07T20:38:44.646567+00:00"", ""last_updated"": ""2020-11-07T20:38:44.646567+00:00"", ""context"": {""id"": ""0d4b17cbc6eb5730bd848d110cda4ee0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_production_tarif_1"", ""state"": ""0.007"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Production (tarif 1)""}, ""last_changed"": ""2020-11-07T20:39:03.457227+00:00"", ""last_updated"": ""2020-11-07T20:39:03.457227+00:00"", ""context"": {""id"": ""80e16c2eb3ea545fa993a5b46ad43ce2"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.457257+00:00"", ""context"": {""id"": ""80e16c2eb3ea545fa993a5b46ad43ce2"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.energy_production_tarif_2"", ""old_state"": {""entity_id"": ""sensor.energy_production_tarif_2"", ""state"": ""0.03"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Production (tarif 2)""}, ""last_changed"": ""2020-11-07T20:38:44.647281+00:00"", ""last_updated"": ""2020-11-07T20:38:44.647281+00:00"", ""context"": {""id"": ""6a991b1acad1c009cfedae9f8b1f23db"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.energy_production_tarif_2"", ""state"": ""0.03"", ""attributes"": {""unit_of_measurement"": ""kWh"", ""friendly_name"": ""Energy Production (tarif 2)""}, ""last_changed"": ""2020-11-07T20:39:03.457538+00:00"", ""last_updated"": ""2020-11-07T20:39:03.457538+00:00"", ""context"": {""id"": ""fb557f84cc0c3fb9964b7599e37ca5bd"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.457568+00:00"", ""context"": {""id"": ""fb557f84cc0c3fb9964b7599e37ca5bd"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption_phase_l1"", ""old_state"": {""entity_id"": ""sensor.power_consumption_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L1"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.647974+00:00"", ""last_updated"": ""2020-11-07T20:38:44.647974+00:00"", ""context"": {""id"": ""2b1525e0052c4e67a67dc8a8c02fddee"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L1"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.457859+00:00"", ""last_updated"": ""2020-11-07T20:39:03.457859+00:00"", ""context"": {""id"": ""ea978c5b9eb8f94dcd9a7ecba79100e2"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.457890+00:00"", ""context"": {""id"": ""ea978c5b9eb8f94dcd9a7ecba79100e2"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption_phase_l2"", ""old_state"": {""entity_id"": ""sensor.power_consumption_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L2"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.648812+00:00"", ""last_updated"": ""2020-11-07T20:38:44.648812+00:00"", ""context"": {""id"": ""ab771c96da0a15ca8bc276606c120b5b"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L2"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.458167+00:00"", ""last_updated"": ""2020-11-07T20:39:03.458167+00:00"", ""context"": {""id"": ""89cf37065939559234eb8ee4df5f96c3"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.458197+00:00"", ""context"": {""id"": ""89cf37065939559234eb8ee4df5f96c3"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption_phase_l3"", ""old_state"": {""entity_id"": ""sensor.power_consumption_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L3"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.649495+00:00"", ""last_updated"": ""2020-11-07T20:38:44.649495+00:00"", ""context"": {""id"": ""f4c243fbbf00ff2014053ee03fd543c1"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Consumption Phase L3"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.458511+00:00"", ""last_updated"": ""2020-11-07T20:39:03.458511+00:00"", ""context"": {""id"": ""69dbd06fdd7a360bc3585a4b4bb40abf"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.458543+00:00"", ""context"": {""id"": ""69dbd06fdd7a360bc3585a4b4bb40abf"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production_phase_l1"", ""old_state"": {""entity_id"": ""sensor.power_production_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L1"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.650168+00:00"", ""last_updated"": ""2020-11-07T20:38:44.650168+00:00"", ""context"": {""id"": ""f0ece7db80959ee8d177c46e55878b1f"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L1"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.458815+00:00"", ""last_updated"": ""2020-11-07T20:39:03.458815+00:00"", ""context"": {""id"": ""d60afc624dadeef5ac42d20cdef9be0e"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.458846+00:00"", ""context"": {""id"": ""d60afc624dadeef5ac42d20cdef9be0e"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production_phase_l2"", ""old_state"": {""entity_id"": ""sensor.power_production_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L2"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.650847+00:00"", ""last_updated"": ""2020-11-07T20:38:44.650847+00:00"", ""context"": {""id"": ""1d276742407639c1f721718b2d047392"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L2"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.459133+00:00"", ""last_updated"": ""2020-11-07T20:39:03.459133+00:00"", ""context"": {""id"": ""21d63e7388d30babc61df99e48bee57d"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.459164+00:00"", ""context"": {""id"": ""21d63e7388d30babc61df99e48bee57d"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production_phase_l3"", ""old_state"": {""entity_id"": ""sensor.power_production_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L3"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:38:44.651523+00:00"", ""last_updated"": ""2020-11-07T20:38:44.651523+00:00"", ""context"": {""id"": ""72fb2dca2ba7f884053cf3686c08ad0e"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Power Production Phase L3"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.459441+00:00"", ""last_updated"": ""2020-11-07T20:39:03.459441+00:00"", ""context"": {""id"": ""a0b852b0892a681c3c77af32a3cae377"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.459472+00:00"", ""context"": {""id"": ""a0b852b0892a681c3c77af32a3cae377"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.short_power_failure_count"", ""old_state"": {""entity_id"": ""sensor.short_power_failure_count"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Short Power Failure Count"", ""icon"": ""mdi:flash-off""}, ""last_changed"": ""2020-11-07T20:38:44.652199+00:00"", ""last_updated"": ""2020-11-07T20:38:44.652199+00:00"", ""context"": {""id"": ""cce89f7c3820e14cf8db832070515658"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.short_power_failure_count"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Short Power Failure Count"", ""icon"": ""mdi:flash-off""}, ""last_changed"": ""2020-11-07T20:39:03.459754+00:00"", ""last_updated"": ""2020-11-07T20:39:03.459754+00:00"", ""context"": {""id"": ""4e5e2bb3efe093859bc4d5fad9347d33"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.459784+00:00"", ""context"": {""id"": ""4e5e2bb3efe093859bc4d5fad9347d33"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.long_power_failure_count"", ""old_state"": {""entity_id"": ""sensor.long_power_failure_count"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Long Power Failure Count"", ""icon"": ""mdi:flash-off""}, ""last_changed"": ""2020-11-07T20:38:44.652877+00:00"", ""last_updated"": ""2020-11-07T20:38:44.652877+00:00"", ""context"": {""id"": ""4c3d36ea644f6b759545219b20650159"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.long_power_failure_count"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Long Power Failure Count"", ""icon"": ""mdi:flash-off""}, ""last_changed"": ""2020-11-07T20:39:03.460173+00:00"", ""last_updated"": ""2020-11-07T20:39:03.460173+00:00"", ""context"": {""id"": ""5fa7281a85919effce52077804d806eb"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.460215+00:00"", ""context"": {""id"": ""5fa7281a85919effce52077804d806eb"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_sags_phase_l1"", ""old_state"": {""entity_id"": ""sensor.voltage_sags_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L1"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.653548+00:00"", ""last_updated"": ""2020-11-07T20:38:44.653548+00:00"", ""context"": {""id"": ""8c9b99b546bc0b807500143d7db45cf0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_sags_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L1"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.460512+00:00"", ""last_updated"": ""2020-11-07T20:39:03.460512+00:00"", ""context"": {""id"": ""7b61a8e4f410ea0746449f82d5179fb3"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.460543+00:00"", ""context"": {""id"": ""7b61a8e4f410ea0746449f82d5179fb3"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_sags_phase_l2"", ""old_state"": {""entity_id"": ""sensor.voltage_sags_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L2"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.654281+00:00"", ""last_updated"": ""2020-11-07T20:38:44.654281+00:00"", ""context"": {""id"": ""90ef420e9c142c15d5ad53cdbe3a2f07"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_sags_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L2"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.460807+00:00"", ""last_updated"": ""2020-11-07T20:39:03.460807+00:00"", ""context"": {""id"": ""abc408a78cc4af1a59445f0d6730d443"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.460837+00:00"", ""context"": {""id"": ""abc408a78cc4af1a59445f0d6730d443"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_sags_phase_l3"", ""old_state"": {""entity_id"": ""sensor.voltage_sags_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L3"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.654953+00:00"", ""last_updated"": ""2020-11-07T20:38:44.654953+00:00"", ""context"": {""id"": ""7b8892af474555eec4bdbbd4612bdf3d"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_sags_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Sags Phase L3"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.461097+00:00"", ""last_updated"": ""2020-11-07T20:39:03.461097+00:00"", ""context"": {""id"": ""afbca9a91b43fcae3722269f59e0c60d"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.461127+00:00"", ""context"": {""id"": ""afbca9a91b43fcae3722269f59e0c60d"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_swells_phase_l1"", ""old_state"": {""entity_id"": ""sensor.voltage_swells_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L1"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.655626+00:00"", ""last_updated"": ""2020-11-07T20:38:44.655626+00:00"", ""context"": {""id"": ""e357ceb9c6c67f8ff40b8ce75af08879"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_swells_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L1"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.461389+00:00"", ""last_updated"": ""2020-11-07T20:39:03.461389+00:00"", ""context"": {""id"": ""235bd997a3e4c42a67bb370f4af5e75e"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.461418+00:00"", ""context"": {""id"": ""235bd997a3e4c42a67bb370f4af5e75e"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_swells_phase_l2"", ""old_state"": {""entity_id"": ""sensor.voltage_swells_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L2"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.656292+00:00"", ""last_updated"": ""2020-11-07T20:38:44.656292+00:00"", ""context"": {""id"": ""38c74e9116fb81f62095c6900d18cba6"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_swells_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L2"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.463366+00:00"", ""last_updated"": ""2020-11-07T20:39:03.463366+00:00"", ""context"": {""id"": ""cd6a6af20197efd0bd52a3a966111162"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.463424+00:00"", ""context"": {""id"": ""cd6a6af20197efd0bd52a3a966111162"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_swells_phase_l3"", ""old_state"": {""entity_id"": ""sensor.voltage_swells_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L3"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:38:44.656966+00:00"", ""last_updated"": ""2020-11-07T20:38:44.656966+00:00"", ""context"": {""id"": ""fcfdd846afcd1e92a35c34fa171770f6"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_swells_phase_l3"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Swells Phase L3"", ""icon"": ""mdi:pulse""}, ""last_changed"": ""2020-11-07T20:39:03.463723+00:00"", ""last_updated"": ""2020-11-07T20:39:03.463723+00:00"", ""context"": {""id"": ""daaeb3213847620b92f5d8e05717285e"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.463754+00:00"", ""context"": {""id"": ""daaeb3213847620b92f5d8e05717285e"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_phase_l1"", ""old_state"": {""entity_id"": ""sensor.voltage_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L1""}, ""last_changed"": ""2020-11-07T20:38:44.657639+00:00"", ""last_updated"": ""2020-11-07T20:38:44.657639+00:00"", ""context"": {""id"": ""c7a1d77a239116afac1fb3af67cc2bf0"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_phase_l1"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L1""}, ""last_changed"": ""2020-11-07T20:39:03.464147+00:00"", ""last_updated"": ""2020-11-07T20:39:03.464147+00:00"", ""context"": {""id"": ""1150a7ded66ff6a52851f1ea045357c6"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.464182+00:00"", ""context"": {""id"": ""1150a7ded66ff6a52851f1ea045357c6"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Sending {""id"": 13, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.voltage_phase_l2"", ""old_state"": {""entity_id"": ""sensor.voltage_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L2""}, ""last_changed"": ""2020-11-07T20:38:44.658312+00:00"", ""last_updated"": ""2020-11-07T20:38:44.658312+00:00"", ""context"": {""id"": ""26544f2e2d2ebe9053b2a2c724d5ca6f"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.voltage_phase_l2"", ""state"": ""unknown"", ""attributes"": {""friendly_name"": ""Voltage Phase L2""}, ""last_changed"": ""2020-11-07T20:39:03.464470+00:00"", ""last_updated"": ""2020-11-07T20:39:03.464470+00:00"", ""context"": {""id"": ""0f996cd12e6b274ebe8f98b8d3b79327"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:03.464502+00:00"", ""context"": {""id"": ""0f996cd12e6b274ebe8f98b8d3b79327"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 INFO (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Connection closed by client
2020-11-07 21:39:04 WARNING (MainThread) [asyncio] socket.send() raised exception.
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1822411240] Disconnected
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption"", ""old_state"": {""entity_id"": ""sensor.power_consumption"", ""state"": ""0.99"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Consumption"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.453621+00:00"", ""last_updated"": ""2020-11-07T20:39:03.453621+00:00"", ""context"": {""id"": ""29eed7d9062fc2f2437c5b17a3368806"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption"", ""state"": ""0.98"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Consumption"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:04.732063+00:00"", ""last_updated"": ""2020-11-07T20:39:04.732063+00:00"", ""context"": {""id"": ""22006c0c0d925ec711f87c07833d79df"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:04.732139+00:00"", ""context"": {""id"": ""22006c0c0d925ec711f87c07833d79df"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_consumption"", ""old_state"": {""entity_id"": ""sensor.power_consumption"", ""state"": ""0.99"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Consumption"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.453621+00:00"", ""last_updated"": ""2020-11-07T20:39:03.453621+00:00"", ""context"": {""id"": ""29eed7d9062fc2f2437c5b17a3368806"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_consumption"", ""state"": ""0.98"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Consumption"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:04.732063+00:00"", ""last_updated"": ""2020-11-07T20:39:04.732063+00:00"", ""context"": {""id"": ""22006c0c0d925ec711f87c07833d79df"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:04.732139+00:00"", ""context"": {""id"": ""22006c0c0d925ec711f87c07833d79df"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production"", ""old_state"": {""entity_id"": ""sensor.power_production"", ""state"": ""0.0"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Production"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.454979+00:00"", ""last_updated"": ""2020-11-07T20:39:03.454979+00:00"", ""context"": {""id"": ""5d0841a70efe21abd6e4202e8a3e4672"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production"", ""state"": ""0.0"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Production"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:04.739065+00:00"", ""last_updated"": ""2020-11-07T20:39:04.739065+00:00"", ""context"": {""id"": ""eea0477e205d9f1e210e2af01e3724ed"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:04.739140+00:00"", ""context"": {""id"": ""eea0477e205d9f1e210e2af01e3724ed"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_production"", ""old_state"": {""entity_id"": ""sensor.power_production"", ""state"": ""0.0"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Production"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.454979+00:00"", ""last_updated"": ""2020-11-07T20:39:03.454979+00:00"", ""context"": {""id"": ""5d0841a70efe21abd6e4202e8a3e4672"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_production"", ""state"": ""0.0"", ""attributes"": {""unit_of_measurement"": ""kW"", ""friendly_name"": ""Power Production"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:04.739065+00:00"", ""last_updated"": ""2020-11-07T20:39:04.739065+00:00"", ""context"": {""id"": ""eea0477e205d9f1e210e2af01e3724ed"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:04.739140+00:00"", ""context"": {""id"": ""eea0477e205d9f1e210e2af01e3724ed"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 3, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_tariff"", ""old_state"": {""entity_id"": ""sensor.power_tariff"", ""state"": ""low"", ""attributes"": {""friendly_name"": ""Power Tariff"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.455788+00:00"", ""last_updated"": ""2020-11-07T20:39:03.455788+00:00"", ""context"": {""id"": ""9caa9fd1c749de724453563ea6c20693"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_tariff"", ""state"": ""low"", ""attributes"": {""friendly_name"": ""Power Tariff"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:04.739538+00:00"", ""last_updated"": ""2020-11-07T20:39:04.739538+00:00"", ""context"": {""id"": ""d878a08f554b533994c09a5c8345698a"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:04.739579+00:00"", ""context"": {""id"": ""d878a08f554b533994c09a5c8345698a"", ""parent_id"": null, ""user_id"": null}}}
2020-11-07 21:39:04 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.1692519920] Sending {""id"": 8, ""type"": ""event"", ""event"": {""event_type"": ""state_changed"", ""data"": {""entity_id"": ""sensor.power_tariff"", ""old_state"": {""entity_id"": ""sensor.power_tariff"", ""state"": ""low"", ""attributes"": {""friendly_name"": ""Power Tariff"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:03.455788+00:00"", ""last_updated"": ""2020-11-07T20:39:03.455788+00:00"", ""context"": {""id"": ""9caa9fd1c749de724453563ea6c20693"", ""parent_id"": null, ""user_id"": null}}, ""new_state"": {""entity_id"": ""sensor.power_tariff"", ""state"": ""low"", ""attributes"": {""friendly_name"": ""Power Tariff"", ""icon"": ""mdi:flash""}, ""last_changed"": ""2020-11-07T20:39:04.739538+00:00"", ""last_updated"": ""2020-11-07T20:39:04.739538+00:00"", ""context"": {""id"": ""d878a08f554b533994c09a5c8345698a"", ""parent_id"": null, ""user_id"": null}}}, ""origin"": ""LOCAL"", ""time_fired"": ""2020-11-07T20:39:04.739579+00:00"", ""context"": {""id"": ""d878a08f554b533994c09a5c8345698a"", ""parent_id"": null, ""user_id"": null}}}

```

## Additional information

"
42947,Nest (SDM) Google Pubsub stops working after 60 mins with Observed non-recoverable stream error 401 Request had invalid authentication credentials,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Nest (SDM) Google Pubsub stops working after 60 mins with Observed non-recoverable stream error 401 Request had invalid authentication credentials. Sensors thermostats etc stop updating. Restarting Home Assistant of reloading the Nest Integration resolves the issue for another 60 minutes.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.117.5 with PR's
- Last working Home Assistant Core release (if known): N/A
- Operating environment (OS/Container/Supervised/Core): Container
- Integration causing this issue: Nest
- Link to integration documentation on our website: https://github.com/home-assistant/home-assistant.io/blob/next/source/_integrations/nest.markdown

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
nest:
  project_id: ****
  subscriber_id: projects/****/subscriptions/****
  client_id: ****.apps.googleusercontent.com
  client_secret: ****

logger:
  default: warning
  logs:
    homeassistant.components.nest: debug
    google.cloud.pubsub_v1: debug
    google.cloud.pubsub_v1.subscriber._protocol.leaser: debug
    google.cloud.pubsub_v1.subscriber._protocol.streaming_pull_manager: debug
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-11-07 23:12:48 INFO (Thread-6) [google.cloud.pubsub_v1.subscriber._protocol.streaming_pull_manager] Observed non-terminating stream error 500 Received RST_STREAM with error code 2
2020-11-07 23:12:48 INFO (Thread-6) [google.cloud.pubsub_v1.subscriber._protocol.streaming_pull_manager] Observed recoverable stream error 500 Received RST_STREAM with error code 2
2020-11-07 23:12:48 INFO (Thread-ConsumeBidirectionalStream) [google.cloud.pubsub_v1.subscriber._protocol.streaming_pull_manager] Observed non-terminating stream error 500 Received RST_STREAM with error code 2
2020-11-07 23:12:48 INFO (Thread-ConsumeBidirectionalStream) [google.cloud.pubsub_v1.subscriber._protocol.streaming_pull_manager] Observed recoverable stream error 500 Received RST_STREAM with error code 2
2020-11-07 23:12:48 INFO (Thread-6) [google.cloud.pubsub_v1.subscriber._protocol.streaming_pull_manager] Observed non-terminating stream error 401 Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.
2020-11-07 23:12:48 INFO (Thread-6) [google.cloud.pubsub_v1.subscriber._protocol.streaming_pull_manager] Observed non-recoverable stream error 401 Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.
2020-11-07 23:12:48 INFO (Thread-6) [google.cloud.pubsub_v1.subscriber._protocol.streaming_pull_manager] RPC termination has signaled streaming pull manager shutdown.
2020-11-07 23:12:48 DEBUG (Thread-OnRpcTerminated) [google.cloud.pubsub_v1.subscriber._protocol.streaming_pull_manager] Stopping consumer.
2020-11-07 23:12:48 INFO (Thread-ConsumeBidirectionalStream) [google.cloud.pubsub_v1.subscriber._protocol.streaming_pull_manager] Observed non-terminating stream error 401 Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.
2020-11-07 23:12:48 INFO (Thread-ConsumeBidirectionalStream) [google.cloud.pubsub_v1.subscriber._protocol.streaming_pull_manager] Observed non-recoverable stream error 401 Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.
2020-11-07 23:12:48 DEBUG (Thread-OnRpcTerminated) [google.cloud.pubsub_v1.subscriber._protocol.streaming_pull_manager] Stopping scheduler.
2020-11-07 23:12:48 DEBUG (Thread-OnRpcTerminated) [google.cloud.pubsub_v1.subscriber._protocol.streaming_pull_manager] Stopping leaser.
2020-11-07 23:12:48 INFO (Thread-LeaseMaintainer) [google.cloud.pubsub_v1.subscriber._protocol.leaser] Thread-LeaseMaintainer exiting.
2020-11-07 23:12:48 DEBUG (Thread-OnRpcTerminated) [google.cloud.pubsub_v1.subscriber._protocol.streaming_pull_manager] Stopping dispatcher.
2020-11-07 23:12:48 DEBUG (Thread-CallbackRequestDispatcher) [google.cloud.pubsub_v1.subscriber._protocol.helper_threads] Exiting the QueueCallbackWorker.
2020-11-07 23:12:48 DEBUG (Thread-OnRpcTerminated) [google.cloud.pubsub_v1.subscriber._protocol.streaming_pull_manager] Stopping heartbeater.
2020-11-07 23:12:48 INFO (Thread-Heartbeater) [google.cloud.pubsub_v1.subscriber._protocol.heartbeater] Thread-Heartbeater exiting.
2020-11-07 23:12:48 DEBUG (Thread-OnRpcTerminated) [google.cloud.pubsub_v1.subscriber._protocol.streaming_pull_manager] Finished stopping manager.
```

## Additional information
Here are the packages I updated from the standard 0.117.5 install from requirements_all.txt

```txt
Installing collected packages: mypy-extensions, typing-inspect, libcst, proto-plus, grpc-google-iam-v1, google-cloud-pubsub, google-nest-sdm
  Attempting uninstall: grpc-google-iam-v1
    Found existing installation: grpc-google-iam-v1 0.11.4
    Uninstalling grpc-google-iam-v1-0.11.4:
      Successfully uninstalled grpc-google-iam-v1-0.11.4
  Attempting uninstall: google-cloud-pubsub
    Found existing installation: google-cloud-pubsub 0.39.1
    Uninstalling google-cloud-pubsub-0.39.1:
      Successfully uninstalled google-cloud-pubsub-0.39.1
  Attempting uninstall: google-nest-sdm
    Found existing installation: google-nest-sdm 0.1.6
    Uninstalling google-nest-sdm-0.1.6:
      Successfully uninstalled google-nest-sdm-0.1.6
Successfully installed google-cloud-pubsub-2.1.0 google-nest-sdm-0.1.13 grpc-google-iam-v1-0.12.3 libcst-0.3.13 mypy-extensions-0.4.3 proto-plus-1.11.0 typing-inspect-0.6.0
```"
42927,MQTT: client_id is empty; breaks ejabberd mqtt broker connections,"## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

By default the mqtt component sends an empty client ID also the official documentation says a random client id would be used:
 
```
Frame 118: 185 bytes on wire (1480 bits), 185 bytes captured (1480 bits) on interface -, id 0
Linux cooked capture
Internet Protocol Version 6, Src: ::1, Dst: ::1
Transmission Control Protocol, Src Port: 43396, Dst Port: 1883, Seq: 1, Ack: 1, Len: 97
MQ Telemetry Transport Protocol, Connect Command
    Header Flags: 0x10, Message Type: Connect Command
    Msg Len: 95
    Protocol Name Length: 4
    Protocol Name: MQTT
    Version: MQTT v3.1.1 (4)
    Connect Flags: 0xc6, User Name Flag, Password Flag, QoS Level: At most once delivery (Fire and Forget), Will Flag, Clean Session Flag
        1... .... = User Name Flag: Set
        .1.. .... = Password Flag: Set
        ..0. .... = Will Retain: Not set
        ...0 0... = QoS Level: At most once delivery (Fire and Forget) (0)
        .... .1.. = Will Flag: Set
        .... ..1. = Clean Session Flag: Set
        .... ...0 = (Reserved): Not set
    Keep Alive: 60
    Client ID Length: 0
    Client ID: 
    Will Topic Length: 20
    Will Topic: homeassistant/status
    Will Message Length: 7
    Will Message: 6f66666c696e65
    User Name Length: 16
    User Name: hass@thalheim.io
    Password Length: 32
    Password: <REDACTED>
```

Even though the password is correct ejabberd refuses the connection:

```
Frame 120: 92 bytes on wire (736 bits), 92 bytes captured (736 bits) on interface -, id 0
Linux cooked capture
Internet Protocol Version 6, Src: ::1, Dst: ::1
Transmission Control Protocol, Src Port: 1883, Dst Port: 43396, Seq: 1, Ack: 98, Len: 4
MQ Telemetry Transport Protocol, Connect Ack
    Header Flags: 0x20, Message Type: Connect Ack
    Msg Len: 2
    Acknowledge Flags: 0x00
    Return Code: Connection Refused: not authorized (5)
```

After setting client_id to connections works as expected.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: -
- Last working Home Assistant Core release (if known): -
- Operating environment (OS/Container/Supervised/Core): NixOS
- Integration causing this issue: mqtt
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/sensor.mqtt

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
mqtt:
  broker: mqtt.thalheim.io
  certificate: auto
  # this unbreaks ejabberd
  #client_id: hass
  password: !secret ldap_password
  port: '8883'
  username: hass@thalheim.io
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Nov 07 06:51:58 eve hass[770]: 2020-11-07 06:51:58 ERROR (Thread-5) [homeassistant.components.mqtt] Unable to connect to the MQTT broker: Connection Refused: not authorised.
Nov 07 06:51:58 eve hass[770]: 2020-11-07 06:51:58 WARNING (Thread-5) [homeassistant.components.mqtt] Disconnected from MQTT server mqtt.thalheim.io:8883 (5)
Nov 07 06:53:58 eve hass[770]: 2020-11-07 06:53:58 ERROR (Thread-5) [homeassistant.components.mqtt] Unable to connect to the MQTT broker: Connection Refused: not authorised.
Nov 07 06:53:58 eve hass[770]: 2020-11-07 06:53:58 WARNING (Thread-5) [homeassistant.components.mqtt] Disconnected from MQTT server mqtt.thalheim.io:8883 (5)
Nov 07 06:55:58 eve hass[770]: 2020-11-07 06:55:58 ERROR (Thread-5) [homeassistant.components.mqtt] Unable to connect to the MQTT broker: Connection Refused: not authorised.
Nov 07 06:55:58 eve hass[770]: 2020-11-07 06:55:58 WARNING (Thread-5) [homeassistant.components.mqtt] Disconnected from MQTT server mqtt.thalheim.io:8883 (5)
```

## Additional information

Proposed fix. Actually generate a random client id.
"
42921,Nest (SDM) ECO Mode adds temperature range to Climate which is not supported by Thermostat,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I using the latest dev version of Nest (SDM) for Climate and it adds an extra mode ""auto"", when my thermostat only supports ""heat"" and ""off"". THERMOSTAT_ECO_MODE mode adds it because it assumes SUPPORT_TARGET_TEMPERATURE_RANGE, and the trait returns both heatCelsius and coolCelsius even thought only heatCelsius is configurable for my thermostat.

Would it make more sense for THERMOSTAT_ECO_MODE mode to map temperatures based on supported modes? If it didn't support HVAC_MODE_HEAT_COOL or HVAC_MODE_HEAT and HVAC_MODE_COOL it would just use a temperature set point instead of a temperature range.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.117.4 with Nest PR's
- Last working Home Assistant Core release (if known): NA
- Operating environment (OS/Container/Supervised/Core): Container
- Integration causing this issue: Nest
- Link to integration documentation on our website: https://github.com/home-assistant/home-assistant.io/blob/next/source/_integrations/nest.markdown

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
nest:
  project_id: ****
  subscriber_id: projects/****/subscriptions/****
  client_id: ****.apps.googleusercontent.com
  client_secret: ****
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
No errors of log messages
```

## Additional information

"
42912,Plex integration failure using Obtain a new token from plex.tv method,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
I try to add plex media server integration from UI integration. When choosing _Obtain a new token from plex.tv_ method, I'm redirected to plex.tv and get this screen message: 

<img width=""719"" alt=""Screenshot 2020-11-06 at 16 49 09"" src=""https://user-images.githubusercontent.com/7801817/98386293-490d1a00-2050-11eb-8aae-3fc892e827f3.png"">

EN translate: Unable to meet demand. You will be redirected automatically.

Other users are facing this [issue](https://community.home-assistant.io/t/is-plex-integration-broken/242323/11)

## Environment
arch | aarch64
-- | --
chassis | embedded
dev | false
docker | true
docker_version | 19.03.11
hassio | true
host_os | HassOS 4.15
installation_type | Home Assistant OS
os_name | Linux
os_version | 4.19.127-v8
python_version | 3.8.6
supervisor | 2020.11.0
timezone | Europe/Paris
version | 0.117.4
virtualenv | false

- Home Assistant Core release with the issue: 0.117.4
- Last working Home Assistant Core release (if known): Never tried before
- Operating environment (OS/Container/Supervised/Core): HassOS 4.15
- Integration causing this issue: plex
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/plex/

## Problem-relevant `configuration.yaml`
N/A as integration is done through UI

## Traceback/Error logs
No issue in logs

## Additional information
Tried to remove connected device from plex and restart server
Tried to restart HA

First time I report issue. Do not hesitate if you need additional information
"
42911,Unable to find token seed! Did https://translate.google.com change?,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
PR #42405 should have fixed issue #42255, but problem still occurs (sporadically?)

Many users seems to have the same issue: https://community.home-assistant.io/t/ha-117-unable-to-find-token-seed-did-https-translate-google-com-change/238237


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 117.4
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): HassOS 5.4
- Integration causing this issue: Google TTS
- Link to integration documentation on our website: https://rc.home-assistant.io/integrations/google_translate/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
tts:
  - platform: google_translate
    service_name: google_say
    cache: false
```

## Traceback/Error logs
```txt
2020-11-06 12:18:55 WARNING (MainThread) [homeassistant.components.google_translate.tts] Unable to find token seed! Did https://translate.google.com change?
2020-11-06 12:18:55 ERROR (MainThread) [homeassistant.components.tts] Error on init TTS: No TTS from google_translate for ‘this is the second try’
2020-11-06 12:19:19 WARNING (MainThread) [homeassistant.components.google_translate.tts] Unable to find token seed! Did https://translate.google.com change?
2020-11-06 12:19:19 ERROR (MainThread) [homeassistant.components.tts] Error on init TTS: No TTS from google_translate for ‘this is the fifth try’
2020-11-06 12:19:41 WARNING (MainThread) [homeassistant.components.google_translate.tts] Unable to find token seed! Did https://translate.google.com change?
2020-11-06 12:19:41 ERROR (MainThread) [homeassistant.components.tts] Error on init TTS: No TTS from google_translate for ‘this is the seventh try’
```

So, the first, third, fourth and sixth message made it through and I was able to hear them, but not the ones mentioned in the log.

## Additional information

"
42873,rpi_gpio_pwm error after upgrade to 0.117.* ('NoneType' object has no attribute 'send'),"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Error on rpi_gpio_pwm integration after upgrade to 0.117.*
AttributeError: 'NoneType' object has no attribute 'send'

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: Home Assistant 0.117.4
- Last working Home Assistant Core release (if known): 0.116.*
- Operating environment (OS/Container/Supervised/Core): OS
- Integration causing this issue: Upgrade
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/rpi_gpio_pwm/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
light:
  - platform: rpi_gpio_pwm
    leds:
      - name: Cpu Fan
        driver: gpio
        pins: [14]
        type: simple
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Logger: homeassistant.components.light
Source: components/rpi_gpio_pwm/light.py:82
Integration: Освещение (documentation, issues)
First occurred: 14:33:09 (1 occurrences)
Last logged: 14:33:09

Error while setting up rpi_gpio_pwm platform for light
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 197, in _async_setup_platform
    await asyncio.shield(task)
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/rpi_gpio_pwm/light.py"", line 82, in setup_platform
    driver = GpioDriver(pins, **opt_args)
  File ""/usr/local/lib/python3.8/site-packages/pwmled/driver/gpio.py"", line 28, in __init__
    self._pi.set_PWM_frequency(pin, freq)
  File ""/usr/local/lib/python3.8/site-packages/pigpio.py"", line 1537, in set_PWM_frequency
    _pigpio_command(self.sl, _PI_CMD_PFS, user_gpio, frequency))
  File ""/usr/local/lib/python3.8/site-packages/pigpio.py"", line 977, in _pigpio_command
    sl.s.send(struct.pack('IIII', cmd, p1, p2, 0))
AttributeError: 'NoneType' object has no attribute 'send'
```

## Additional information

"
42847,Netatmo partially broken,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## Netatmo not working
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
After updating to 117.4 some Netatmo values broken. Netatmo public all values unavalable, from outdoor station some ok some not - for example temp ok, min temp not. Indoor all values fine.




## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue:  117.4
- Last working Home Assistant Core release (if known): 117.0/117.1
- Operating environment (OS/Container/Supervised/Core):  Hassio
- Integration causing this issue:  Netatmo
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-11-04 20:26:06 ERROR (MainThread) [homeassistant.components.sensor] Error while setting up netatmo platform for sensor
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 197, in _async_setup_platform
    await asyncio.shield(task)
  File ""/usr/src/homeassistant/homeassistant/components/netatmo/sensor.py"", line 227, in async_setup_entry
    await add_public_entities(False)
  File ""/usr/src/homeassistant/homeassistant/components/netatmo/sensor.py"", line 201, in add_public_entities
    await data_handler.register_data_class(
  File ""/usr/src/homeassistant/homeassistant/components/netatmo/data_handler.py"", line 149, in register_data_class
    await self.async_fetch_data(
  File ""/usr/src/homeassistant/homeassistant/components/netatmo/data_handler.py"", line 117, in async_fetch_data
    self.data[data_class_entry] = await self.hass.async_add_executor_job(
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
TypeError: __init__() got an unexpected keyword argument 'LAT_NE'

```

## Additional information

"
42814,SimpliSafe: No Sensor Entities created,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
I have a simplisafe v3 system
Added simplisafe integration and only one entity was created (the Alarm Control Panel).
I do not see any of my entry sensors.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: Home Assistant 0.116.4
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): Docker container
- Integration causing this issue: Simplisafe
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/simplisafe/

## Problem-relevant `configuration.yaml`
N/A
Configured via UI


## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->
no error messages in log

## Additional information

"
42781,RFXtrx integration remains in automatic add state.,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->

RFXtrx integration remains in automatic add state.

Got a device that seems to change what is reporting generating a lot of ""devices"", but as the subject states... The problem is that it gets added when it should not.

I feels like a UI glitch, as in some conditions it goes longer periods of time with it working correctly.

Is there some other place I can look and see if the automatic add state is active or not?

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: Home Assistant 0.117.2
- Last working Home Assistant Core release (if known): Seen this since 0.113 at least
- Operating environment (OS/Container/Supervised/Core): 
- Integration causing this issue: RFXtrx
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/rfxtrx/


## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```2020-11-02 11:22:48 INFO (MainThread) [homeassistant.components.rfxtrx.binary_sensor] Added binary sensor (Device ID: ffffff:32 Class: RFXtrxDevice Sub: 10 Event: 08200a00ffffff0649)
2020-11-02 11:22:48 INFO (MainThread) [homeassistant.helpers.entity_registry] Registered new sensor.rfxtrx entity: sensor.rm174rf_smoke_detector_ffffff_32_rssi_numeric
2020-11-02 11:22:48 INFO (MainThread) [homeassistant.components.sensor] Not adding entity RM174RF Smoke Detector ffffff:32 Rssi numeric because it's disabled
2020-11-02 11:22:48 INFO (MainThread) [homeassistant.helpers.entity_registry] Registered new sensor.rfxtrx entity: sensor.rm174rf_smoke_detector_ffffff_32_sensor_status
2020-11-02 11:22:48 INFO (MainThread) [homeassistant.components.sensor] Not adding entity RM174RF Smoke Detector ffffff:32 Sensor Status because it's disabled
2020-11-02 11:22:48 INFO (MainThread) [homeassistant.helpers.entity_registry] Registered new sensor.rfxtrx entity: sensor.rm174rf_smoke_detector_ffffff_32_battery_numeric
2020-11-02 11:22:48 INFO (MainThread) [homeassistant.components.sensor] Not adding entity RM174RF Smoke Detector ffffff:32 Battery numeric because it's disabled
2020-11-02 11:22:48 INFO (MainThread) [homeassistant.helpers.entity_registry] Registered new binary_sensor.rfxtrx entity: binary_sensor.rm174rf_smoke_detector_ffffff_32
2020-11-02 11:22:48 INFO (MainThread) [homeassistant.components.binary_sensor] Not adding entity RM174RF Smoke Detector ffffff:32 because it's disabled
```

## Additional information

![image](https://user-images.githubusercontent.com/46381052/97959722-3eccf080-1db0-11eb-8d49-ced2f25b644e.png)


![image](https://user-images.githubusercontent.com/46381052/97959491-c23a1200-1daf-11eb-9fb3-1c6f4f1cad44.png)


"
42764,Existing synology_dsm config entries cannot be setup.,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

This was regressed in https://github.com/home-assistant/core/pull/42539

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.118dev
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): 
- Integration causing this issue: 
- Link to integration documentation on our website: 


## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-11-02 19:28:57 ERROR (MainThread) [homeassistant.config_entries] Error setting up entry 192.168.107.5 for synology_dsm
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 234, in async_setup
    result = await component.async_setup_entry(hass, self)  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/__init__.py"", line 172, in async_setup_entry
    await api.async_setup()
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/__init__.py"", line 266, in async_setup
    self._entry.data[CONF_VERIFY_SSL],
KeyError: 'verify_ssl'
```

## Additional information

"
42754,Rocket launch_library requires update to new api,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
when launch_library is used, it returns ""update to the new API""
-->


## Environment
<!--
pi 3
Hass 0.117.1
SuperVisor 2020.10.0
-->

- Home Assistant Core release with the issue: 
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): 
- Integration causing this issue: 
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  add launch_library sensor, view the sensor detail
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
42745,ISY 994i :  dimmer devices don't work,"<!-- READ THIS FIRST:
- If you need additional help with this template please refer to https://www.home-assistant.io/help/reporting_issues/
- Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/home-assistant/releases
- Do not report issues for custom Lovelace cards.
- Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->

## Checklist

- [x] I have updated to the latest available Home Assistant version.
- [x] I have cleared the cache of my browser.
- [x] I have tried a different browser to see if it is related to my browser.

## The problem

<!--
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us about the current behavior.
  If possible provide a screenshot with a description.
-->

## Expected behavior

<!--
  Describe what you expected to happen or it should look/behave.
  If possible provide a screenshot with a description.
-->

## Steps to reproduce

<!--
  Provide steps for us, that helps reproducing your issue.
  For example:
    1. Add a climate integration
    2. Navigate to Lovelace
    3. Click more info of the climate entity
    4. Set the HVAC action to heat
    5. Set the temperature higher than the current temperature
    6. Set the HVAC action to cool
-->

## Environment

<!--
  Provide details about the versions you are using, which helps us reproducing
  and finding the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.

  Browser version and operating system is important! Please try to replicate
  your issue in a different browser and be sure to include your findings.
-->

- Home Assistant release with the issue:
- Last working Home Assistant release (if known):
- Browser and browser version:
- Operating system:

## State of relevant entities

<!--
  If your issue is about how an entity is shown in the UI, please add the state
  and attributes for all situations with a screenshot of the UI.
  You can find this information at `/developer-tools/state`
-->

```yaml

```

## Problem-relevant configuration

<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Javascript errors shown in your browser console/inspector

<!--
  If you come across any javascript or other error logs, e.g., in your browser
  console/inspector please provide them.
-->

```txt

```

## Additional information
"
42687,0.117 - RFXtrx serial error,"## The problem
RFXtrx stopped working since upgrading to HA 0.117.  
Error message from the log
```
2020-10-31 17:48:08 ERROR (Thread-8) [root] Uncaught thread exception
Traceback (most recent call last):
  File ""/usr/local/share/hass/lib/python3.8/site-packages/serial/serialposix.py"", line 500, in read
    raise SerialException(
serial.serialutil.SerialException: device reports readiness to read but returned no data (device disconnected or multiple access on port?)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/threading.py"", line 932, in _bootstrap_inner
    self.run()
  File ""/usr/local/lib/python3.8/threading.py"", line 870, in run
    self._target(*self._args, **self._kwargs)
  File ""/usr/local/share/hass/lib/python3.8/site-packages/RFXtrx/__init__.py"", line 862, in _connect
    self._status = self.send_get_status()
  File ""/usr/local/share/hass/lib/python3.8/site-packages/RFXtrx/__init__.py"", line 928, in send_get_status
    return self.transport.receive_blocking()
  File ""/usr/local/share/hass/lib/python3.8/site-packages/RFXtrx/__init__.py"", line 684, in receive_blocking
    data = self.serial.read(pkt[0])
  File ""/usr/local/share/hass/lib/python3.8/site-packages/serial/serialposix.py"", line 509, in read
    raise SerialException('read failed: {}'.format(e))
serial.serialutil.SerialException: read failed: device reports readiness to read but returned no data (device disconnected or multiple access on port?)

Downgrading to 0.116.x fixes the issue
```


## Environment
- Home Assistant Core release with the issue:   0.117.1
- Last working Home Assistant Core release (if known):   0.116.4
- Operating environment (OS/Container/Supervised/Core):  FreeBSD 12.2-RELEASE
- Integration causing this issue: RFXtrx
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/rfxtrx/

## Problem-relevant `configuration.yaml`
Note this is the entry as it was for 0.116.4. I've also tried to remove it for 0.117.1, did not fix the issue

```yaml
rfxtrx:
  device: /dev/rfx
  devices:
    0a520d52fd0100d8430189: # Outside Alecto sensor
    115a02018bf2010000092e00000000000089: # Electricity sensor
    0b11003b020A100801010f60: # Lighting Terrace Garland
    0b11003b020A100901010f60: # Lighting Entrance Side
    0b11003b020A100701010f60: # Lighting Entrance Main door
    0b11003b020A101001010f60: # Lighting Terrace Lamps    
    0b11003b0101023202010f60: # Extractor Bathroom
    0b11003b0104091116010f60: # Lighting Sleigh
    0b11003b000C050005010f60: # Lighting Entrance Parking
```

## Traceback/Error logs
See above. Also captured IO to RFXtrx device below. /dev/rfx is a symlink to /dev/cuaU0
```
openat(AT_FDCWD,""/dev/rfx"",O_RDWR|O_NONBLOCK|O_NOCTTY|O_CLOEXEC,00) = 41 (0x29)
ioctl(41,TIOCGETA,0x7fffdf7f9c40)                = 0 (0x0)
ioctl(41,TIOCGETA,0x7fffdf7f9c40)                = 0 (0x0)
ioctl(41,TIOCSETA,0x7fffdf7f9c40)                = 0 (0x0)
ioctl(41,TIOCMBIS,0x7fffdf7f9a30)                = 0 (0x0)
ioctl(41,TIOCMBIS,0x7fffdf7f9a30)                = 0 (0x0)
ioctl(41,TIOCFLUSH,0x7fffdf7f9dcc)               = 0 (0x0)
write(41,""\r\0\0\0\0\0\0\0\0\0\0\0\0\0"",14)      = 14 (0xe)
ioctl(41,TIOCFLUSH,0x7fffd8fe0e9c)               = 0 (0x0)
write(41,""\r\0\0\^A\^B\0\0\0\0\0\0\0\0\0"",14)    = 14 (0xe)
read(41,0x80643e3b0,1)                           = 0 (0x0)
```

## Additional information
Downgrading to 0.116.4 fixes the issue.
Device permissions are correct. 
May be related to pyRFXtrx version change (0.116 uses pyRFXtrx==0.25, 0.117 uses pyRFXtrx==0.26)
Tested pyRFXtrx with the included test program pyRFXtrx/examples/receive.py , both versions 0.25 and 0.26 work fine, able to see rfx device and messages from sensors.
Also tried to remove and add again the RFXtrx integration, no improvement.

"
42663,evohome: Coroutine not allowed to be passed to HassJob,"Home Assistant: Synology docker container
Version problem: 0.117

There is an issue with the Evohome integration. When changing temperatures or something else we get the followong warning/errror:

Logger: homeassistant.components.websocket_api.http.connection.140083459620240
Source: core.py:174
Integration: Home Assistant WebSocket API (documentation, issues)
First occurred: 9:04:17 (2 occurrences)
Last logged: 9:04:22

```
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/websocket_api/commands.py"", line 135, in handle_call_service
    await hass.services.async_call(
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1448, in async_call
    task.result()
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1483, in _execute_service
    await handler.job.target(service_call)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_component.py"", line 204, in handle_service
    await self.hass.helpers.service.entity_service_call(
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 482, in entity_service_call
    future.result()  # pop exception if have
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 664, in async_request_call
    await coro
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 519, in _handle_entity_call
    await result
  File ""/usr/src/homeassistant/homeassistant/components/climate/__init__.py"", line 544, in async_service_temperature_set
    await entity.async_set_temperature(**kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/evohome/climate.py"", line 241, in async_set_temperature
    await self._evo_broker.call_client_api(
  File ""/usr/src/homeassistant/homeassistant/components/evohome/__init__.py"", line 434, in call_client_api
    self.hass.helpers.event.async_call_later(1, self.async_update())
  File ""/usr/src/homeassistant/homeassistant/helpers/event.py"", line 1160, in async_call_later
    return async_track_point_in_utc_time(
  File ""/usr/src/homeassistant/homeassistant/helpers/event.py"", line 1134, in async_track_point_in_utc_time
    job = action if isinstance(action, HassJob) else HassJob(action)
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 174, in __init__
    raise ValueError(""Coroutine not allowed to be passed to HassJob"")
ValueError: Coroutine not allowed to be passed to HassJob
```
It seems to change everyting correctly on the evohome app en controller though. 

Home Assistant Core release with the issue: 0.117.0/.1

Last working Home Assistant 
Core release (if known): 0.116.4

Operating environment (OS/Container/Supervised/Core): Container

Integration causing this issue: evohome"
42653,Lutron Caseta integration never completes setup on 0.117.1,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Lutron Caseta never fully initializes and devices never become available.  Sadly, no specific errors are recorded anywhere that I could find but seems related to the pylutron-caseta module being upgraded for this release.



## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.117.1
- Last working Home Assistant Core release (if known): 0.116.4
- Operating environment (OS/Container/Supervised/Core): Supervised
- Integration causing this issue: Lutron Caseta
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/lutron_caseta/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
lutron_caseta:
  host: #.#.#.#
  keyfile: caseta.key
  certfile: caseta.crt
  ca_certs: caseta-bridge.crt
```

## Traceback/Error logs
With lutron_caseta set to debug log level these messages are emitted every minute or so.
```txt
2020-10-30 14:41:44 DEBUG (MainThread) [pylutron_caseta.leap] sending b'{""CommuniqueType"": ""ReadRequest"", ""Header"": {""ClientTag"": ""91b43414-3dd3-4810-8b57-4dca94f4f98d"", ""Url"": ""/server/1/status/ping""}}'
2020-10-30 14:41:44 DEBUG (MainThread) [pylutron_caseta.leap] received: {'CommuniqueType': 'ReadResponse', 'Header': {'MessageBodyType': 'OnePingResponse', 'StatusCode': '200 OK', 'Url': '/server/1/status/ping'}, 'Body': {'PingResponse': {'LEAPVersion': 1.113}}}
2020-10-30 14:42:22 WARNING (MainThread) [homeassistant.bootstrap] Waiting on integrations to complete setup: lutron_caseta
```

## Additional information
Managed to track it down to the pylutron-caseta module being upgraded for this release (upgraded to 0.7.0).  I setup a python venv and tried rolling it back to 0.6.1 and everything works again.  I even tried interfacing with the pylutron-caseta module directly using their example code and it just hangs on the latest version.  Haven't dug into their code yet as there seems to be a ton of changes between 0.6.1 and 0.7.0
"
42623,Fix #42300 breaks thermostat support for Fibaro HC2,After upgrading to 0.117 my Fibaro HC2 thermostat shows up as unavailable.  I think it is the fix #42300 by @airthusiast that is causing this issue.
42568,"Opentherm_gw options config_flow ""User input malformed"" after Precision=0 is saved","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
If precision=0 is stored via the options dialog, the next time the options dialog is opened it shows no value for Precision and saving results in `User input malformed`

Steps to reproduce:

- Open options dialog for integration
- Set Precision to 0
- Save the options
- Reopen the options dialog, now the Precision field is empty, although the code expects a default of 0 to be set.
- Try to save the options without editing Precision
- Error: User input malformed

This is probably due to config_flow.py lines 117 and 118:
https://github.com/home-assistant/core/blob/bebbafdabac07ba07d39068599ea75e3889b7add/homeassistant/components/opentherm_gw/config_flow.py#L117-L118

The [get operator](https://docs.python.org/3/library/types.html#types.MappingProxyType.get) for MappingProxyType probably returns None if the property is known but set to None. Therefore, line 128 https://github.com/home-assistant/core/blob/bebbafdabac07ba07d39068599ea75e3889b7add/homeassistant/components/opentherm_gw/config_flow.py#L127 does not set the default of 0.
## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.117
- Last working Home Assistant Core release (if known): unknown
- Operating environment (OS/Container/Supervised/Core): Ubuntu
- Integration causing this issue: Opentherm_gw
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/opentherm_gw

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
Not applicable
```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->
No errors.
```txt

```

## Additional information

"
42554,ZHA device states not restored after restart,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

Before 117 if a light or plug/outlet was on when HA was restarted once it had started again the states the devices were in at time of restart where restored so it would still show them as on or off.

But now all ZHA devices show as off after restart. other devices are unaffected Z wave switches restore correctly so do wifi switches only seems to affect ZHA.

Edit: seems to only actually be happening to light entities so maybe its meant to be like this? All my lights are zigbee so dont know if its ZHA or HA issue.

got 2 smartthings outlets one is set as switch in config for ZHA one is set to light the light one defaults to off on restart but the switch one shows the state it was before restart as expected.

these plugs dont seem to get polled so the state never seems to get updated in HA if it gets out of sync.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 117
- Last working Home Assistant Core release (if known): 116.4 I think used to work very recently
- Operating environment (OS/Container/Supervised/Core): OS
- Integration causing this issue: ZHA
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

this is the only error i can find to do with zigbee but have no idea if its related to this issue or not.

```Logger: zigpy.util
Source: /usr/local/lib/python3.8/site-packages/zigpy/util.py:49
First occurred: 6:48:31 (1 occurrences)
Last logged: 6:48:31

Error calling listener.attribute_updated: UNIQUE constraint failed: attributes.ieee, attributes.endpoint_id, attributes.cluster, attributes.attrid

```

## Additional information

"
42543,geo_rss_events causing error during config check,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
My geo_rss_events configuration haven't changed in long time, but recently (0.117 or maybe 0.116) it started erroring on config check. 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.117
- Last working Home Assistant Core release (if known): 0.114
- Operating environment (OS/Container/Supervised/Core): Supervised
- Integration causing this issue: geo_rss_events
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/geo_rss_events/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
sensor:
  - platform: geo_rss_events
    name: ""Recent UK earthquakes (British Geological Survey)""
    unit_of_measurement: 'Alerts'
    url: http://quakes.bgs.ac.uk/feeds/MhSeismology.xml
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Platform error sensor.geo_rss_events - No module named 'georss_client.generic_feed'
```

## Additional information

"
42528,aiohomekit and cryptography 3.2 version incompatible,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
aiohomekit 0.2.53 requires cryptography<3.0.0,>=2.9.2, but you'll have cryptography 3.2 which is incompatible.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.117.0
- Last working Home Assistant Core release (if known): 0.116.4
- Operating environment (OS/Container/Supervised/Core): Core in venv
- Integration causing this issue: aiohomekit
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->
After install 0.117.0
```
aiohomekit 0.2.53 requires cryptography<3.0.0,>=2.9.2, but you'll have cryptography 3.2 which is incompatible.
```
but if downgrade aiohomekit to 2.9.2
```
homeassistant 0.117.0 requires cryptography==3.2.0, but you'll have cryptography 2.9.2 which is incompatible.
```
## Additional information

I've lost my (old) Apple TV"
42526,Somfy : Cannot update devices: 404,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

Error when setup Somfy integration with Developper Account : no entities are imported and an error ""Cannot update devices: 404"" is raised

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.117.0 (same issue on 0.116)
- Last working Home Assistant Core release (if known): NA
- Operating environment (OS/Container/Supervised/Core): HassOS 4.15 on Pi3
- Integration causing this issue: Somfy
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/somfy/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
somfy:
  client_id: XXXX
  client_secret: YYYY
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-10-28 22:02:54 INFO (MainThread) [homeassistant.components.somfy.config_flow] Successfully authenticated
2020-10-28 22:02:58 WARNING (MainThread) [homeassistant.components.somfy] Cannot update devices: 404
```

## Additional information
I have a Connexoon bridge.
I tried manually to call Somfy API from https://developer.somfy.com/somfy-open-api/apis/get/site and I successfully accessed to my Sites and Devices :

```txt
GET https://api.somfy.com/api/v1/site
[
  {
    ""id"": ""XXX"",
    ""label"": ""Maison XXX""
  },
  {
    ""id"": ""YYYY"",
    ""label"": ""Maison YYY""
  },
  {
    ""id"": ""ZZZ"",
    ""label"": ""Connexoon""
  }
]
GET https://api.somfy.com/api/v1/site/ZZZZ/device
[
  {
    ""id"": ""AAAAAA"",
    ""type"": ""roller_shutter_positionable_stateful_rs100"",
    ""parent_id"": ""BBBBB"",
    ""categories"": [
      ""actuator"",
      ""roller_shutter""
    ],
    ""states"": [
      {
        ""name"": ""position"",
        ""value"": 100,
        ""type"": ""integer""
      }
    ],
etc...
```
I have 6 Roller Shutter available in Somfy API."
42503,Homematic IP Access Point Firmware: 2.2.18 has lost connection with the cloud,"## The problem
The following, I work with homematic IP and recently with HA, among other things I have installed a nuki lock.
I have created the following automation that when I deactivate the alarm, the door lock unlocks / or the door opens.
Since today I have received several unexpected messages from HA that the alarm has been deactivated, so the nuki was also addressed.
the homematic regularly loses its connection to the cloud, after it has found itself the alarm is deactivated (although it was not activated at all)

now with the new homematic version 2.2.18 i have these problems, with the old version 2.0.36 there were no problems


## Environment



Home Assistant Core release with the issue: 0.116.4
Last working Home Assistant Core release (if known): 0.116.4
Operating environment (OS/Container/Supervised/Core): Supervised
Integration causing this issue: Homematic IP Access Point Firmware: 2.2.18
Link to integration documentation on our website: https://www.home-assistant.io/integrations/homematicip_cloud/

## Problem-relevant 

homematic ip not in config.yaml

## Traceback/Error logs

Logger: homematicip.base.enums
Source: /usr/local/lib/python3.8/site-packages/homematicip/base/enums.py:33
First occurred: 14:45:30 (559 occurrences)
Last logged: 21:43:59
'HOME_CONTROL_ACCESS_POINT' isn't a valid option for class 'DeviceType'
'ACCESS_CONTROLLER_CHANNEL' isn't a valid option for class 'FunctionalChannelType'

Logger: homematicip.device
Source: /usr/local/lib/python3.8/site-packages/homematicip/device.py:194
First occurred: 14:45:30 (279 occurrences)
Last logged: 21:43:59
There is no class for functionalChannel 'ACCESS_CONTROLLER_CHANNEL' yet

Logger: homeassistant.components.homematicip_cloud.hap
Source: components/homematicip_cloud/hap.py:128
Integration: HomematicIP Cloud (documentation, issues)
First occurred: 15:44:40 (2 occurrences)
Last logged: 20:48:43
HMIP access point has lost connection with the cloud

## Additional information

"
42493,Synology DSM no longer working with 2FA authentication from 0.117.0b5,"## The problem
My Synology integration has stopped working since upgrading to 0.117.0b5. Everything has worked fine previously, but I know have no devices & no entities tied to the intregration. 

## Environment
- Home Assistant Core release with the issue: 0.117.0b5
- Last working Home Assistant Core release (if known): 0.116.4
- Operating environment (OS/Container/Supervised/Core): Supervised
- Integration causing this issue: SynologyDSM
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/synology_dsm

## Problem-relevant `configuration.yaml`
```yaml
  - platform: synology_dsm
    host: <<IP_ADDRESS>>
    username: !secret synology_username
    password: !secret synology_password
```

## Traceback/Error logs
```txt
Logger: homeassistant.config_entries
Source: components/synology_dsm/__init__.py:262
First occurred: 9:34:19 (2 occurrences)
Last logged: 9:35:47

Error setting up entry 192.168.1.221 for synology_dsm
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 234, in async_setup
    result = await component.async_setup_entry(hass, self)  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/__init__.py"", line 168, in async_setup_entry
    await api.async_setup()
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/__init__.py"", line 262, in async_setup
    await self._hass.async_add_executor_job(
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/local/lib/python3.8/site-packages/synology_dsm/synology_dsm.py"", line 160, in login
    raise switcher.get(
synology_dsm.exceptions.SynologyDSMLogin2SAFailedException: {'api': 'SYNO.API.Auth', 'code': 404, 'reason': 'One time password authenticate failed', 'details': 'Two-step authentication failed, retry with a new pass code'}
Home Assistant has started!
```

## Additional information
I have removed and re-added the integration several times, also tried adding via UI and via configuration, both show the same error.

I have tried creating an entirely new user in DSM, still the same result."
42465,Date sensor does not update at all when daylight saving time changed,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
Date sensor does not update at all when daylight saving time changed, see screenshot. Daylight saving time changed on 26th October.
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.116.4
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): HassOS 4.15
- Integration causing this issue: time_date
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/time_date/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
sensor:
  - platform: time_date
    display_options:
      - 'date'
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information
Timezone: Europe/Prague
![date](https://user-images.githubusercontent.com/260445/97318519-3d5d6e80-186c-11eb-9e87-c75419a2b0ee.png)
"
42451,State of switch pi4ioe5v9xxxx not equal to hardware state on startup if inverted,"## The problem
In the configuration file the parameter ""invert_logic"" can be set true. If that is the case, on startup the switches in the GUI will be switched off, but the hardware will be in 'on' state as the  pi4ioe5v9xxxx chips are initialized in 0-state. Code should be added to explicit initialize the hardware on startup.


## Environment


- Home Assistant Core release with the issue: 0.117.0.dev0
- Last working Home Assistant Core release (if known): -
- Operating environment (OS/Container/Supervised/Core):  RPi
- Integration causing this issue:  pi4ioe5v9xxxx
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/pi4ioe5v9xxxx/

## Problem-relevant `configuration.yaml`
```yaml
switch:
  - platform: pi4ioe5v9xxxx
    i2c_bus: 1
    invert_logic: True
    pins:
      01: MainRelay 230V
```


"
42444,Homekit state of covers in Home App sometimes not correct,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I am using the Apple Home App as UI with the Homekit integration of Home Assistant. I have integrated a lot of Homematic devices, but with covers I sometimes have this problem:

When I open or close a cover via the physical wall button the Home App stayes in ""closing""/""opening"" state, even if the cover itself is closed/opened completly. In the Home Assistant UI the cover state is showed correctly, only in the Apple Home App the cover state keeps wrong. A restart of the Home App does not help. I even tried to completly resetup my Home in the App, but the error is still there.

This only happens when using the physical button, and only sometimes (5 out of 10 tries) when using the Home App UI to open/close the covers all covers are always shown with the correct state.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.116.4
- Last working Home Assistant Core release (if known): na
- Operating environment (OS/Container/Supervised/Core): Container
- Integration causing this issue: Homekit
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/homekit/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
42390,ONVIF Integration May Leak Memory,"## The problem
HA failing 30 - 60 minutes after restarting HA.
Python3 memory consumption increases until it runs out.
Problem seen immediately after upgrade to first beta of 117 and with each succeeding beta

## Environment
'Community Guide' installation: Raspberry Pi 4, 4GB, Raspberry Pi OS, Docker

## Problem-relevant `configuration.yaml`
ONVIF set up through UI.

## Traceback/Error logs


## Additional information
Restoring release version of 116 fixes it.
Removing the 8 ONVIF camera integrations I have also fixes it.

"
42356,Aftership throws [You have exceeded the API call rate limit.],"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
AfterShip component throws API request rate exceeded error and stops working after 100 requests. Right now we request new date from AfterShip API every 5 minutes. My proposal would be to increase this time to 15 minutes (then we would meet the Free tier limit). We can also leave 5m update by default and add additional config property to change it to another value.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.118.0 (most likely affects all versions with this component)
- Last working Home Assistant Core release (if known): -
- Operating environment (OS/Container/Supervised/Core): Container (most likely all of them)
- Integration causing this issue: AfterShip
- Link to integration documentation on our website: [AfterShip | Home Assistant](https://www.home-assistant.io/integrations/aftership/)

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
sensor:
  - platform: aftership
    api_key: <API_KEY>
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Error code 429 - You have exceeded the API call rate limit. 
Default limit is 100 request per day for free user. 
The limit will be reset at 2020-10-24 17:53:53+00:00. 
Select a plan at https://admin.aftership.com/settings/billing to have bigger rate limit
```

## Additional information

"
42345,zha is doing I/O in the event loop by accessing an sqlite3 database,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
zha is doing I/O in the event loop by accessing an sqlite3 database

zigpy.appdb is running in the event loop instead of the executor.

<img width=""844"" alt=""Screen Shot 2020-10-25 at 8 36 01 AM"" src=""https://user-images.githubusercontent.com/663432/97108830-0afe1680-169e-11eb-99db-c8c63e4311ea.png"">
<img width=""730"" alt=""Screen Shot 2020-10-25 at 8 36 04 AM"" src=""https://user-images.githubusercontent.com/663432/97108835-0df90700-169e-11eb-8007-f515dbb44f0a.png"">
"
42285,Mqtt integration is removing auto discovered entities on reload instead of yaml configured entities,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
_Somtimes_ (approximately once a day, maybe twice), the mqtt integration is unsubscribing from all topics I have. (I have some sonoff 6.X/tasmota 8.5 (sonoff, shelly, blitzwolf devices), and zigbee2mqtt clients). It means it makes ~150 entities unavailable. 

I can see my devices are still sending data to the broker without any error, so I believe the broker is still ok.  

See debug log below.

There is no useful logs on the broker addon (nor on the supervisor logs). 
Only solution for now is to restart the broker addon. 

I created a post on the forum: https://community.home-assistant.io/t/mqtt-integration-unsubscribing-from/238091, but no solution. 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.116.4
- Last working Home Assistant Core release (if known): 0.116.4
- Operating environment (OS/Container/Supervised/Core): 4.13, 4.14, 4.15 ~(not yet updated to 4.15)~
- Integration causing this issue: MQTT
- Link to integration documentation on our website: https://www.home-assistant.io/docs/mqtt/
- Mosquitto broker addon 5.1

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

The integration is configured via the UI, it's using the core-mosquitto broker.

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

No error

## Additional information

```
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from sonoff7_th10/tele/SENSOR, mid: 223
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_1/tele/HASS_STATE, mid: 224
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from bw_shp6_1/tele/SENSOR, mid: 225
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from bw_shp6_1/tele/HASS_STATE, mid: 226
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_2/tele/HASS_STATE, mid: 227
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_3/tele/HASS_STATE, mid: 228
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from sonoffth10_1/tele/SENSOR, mid: 229
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from sonoffth10_1/tele/HASS_STATE, mid: 230
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from tasmota/tele/HASS_STATE, mid: 231
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_7/tele/HASS_STATE, mid: 232
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_8/tele/HASS_STATE, mid: 233
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_9/tele/HASS_STATE, mid: 234
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_5/tele/HASS_STATE, mid: 235
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_4/tele/HASS_STATE, mid: 236
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from bw_shp6_3/tele/HASS_STATE, mid: 237
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from tele/tasmota_12B210/HASS_STATE, mid: 238
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from sonoff6_s26/tele/HASS_STATE, mid: 239
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from sonoff7_th10/tele/HASS_STATE, mid: 240
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from tele/tasmota_26C2BC/SENSOR, mid: 241
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from tele/tasmota_26C2BC/HASS_STATE, mid: 242
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from tele/tasmota_26DD0B/SENSOR, mid: 243
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from tele/tasmota_26DD0B/HASS_STATE, mid: 244
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from zigbee2mqtt/Porte abri jardin, mid: 245
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from zigbee2mqtt/Porte tondeuse, mid: 246
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from zigbee2mqtt/Luminosité, mid: 247
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from zigbee2mqtt/living_room_lamp, mid: 248
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from sonoff2_basic/tele/STATE, mid: 249
2020-10-22 19:15:58 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from sonoff2_basic/tele/LWT, mid: 250
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from tele/tasmota_12B210/STATE, mid: 251
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from tele/tasmota_12B210/LWT, mid: 252
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from sonoff6_s26/tele/STATE, mid: 253
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from sonoff6_s26/tele/LWT, mid: 254
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from sonoff7_th10/tele/STATE, mid: 255
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from sonoff7_th10/tele/LWT, mid: 256
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from sonoff1_basic/tele/STATE, mid: 257
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from sonoff1_basic/tele/LWT, mid: 258
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_1/tele/STATE, mid: 259
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_1/tele/LWT, mid: 260
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from bw_shp6_1/tele/STATE, mid: 261
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from bw_shp6_1/tele/LWT, mid: 262
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_2/tele/STATE, mid: 263
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_2/tele/LWT, mid: 264
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_3/tele/STATE, mid: 265
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_3/tele/LWT, mid: 266
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from sonoffth10_1/tele/STATE, mid: 267
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from sonoffth10_1/tele/LWT, mid: 268
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from tasmota/tele/STATE, mid: 269
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from tasmota/tele/LWT, mid: 270
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_7/tele/STATE, mid: 271
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_7/tele/LWT, mid: 272
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_8/tele/STATE, mid: 273
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_8/tele/LWT, mid: 274
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_9/tele/STATE, mid: 275
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_9/tele/LWT, mid: 276
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_5/tele/STATE, mid: 277
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_5/tele/LWT, mid: 278
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_4/tele/STATE, mid: 279
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from shelly1_4/tele/LWT, mid: 280
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from bw_shp6_3/tele/STATE, mid: 281
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from bw_shp6_3/tele/LWT, mid: 282
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from tele/tasmota_26C2BC/STATE, mid: 283
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from tele/tasmota_26C2BC/LWT, mid: 284
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from tele/tasmota_26DD0B/STATE, mid: 285
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from tele/tasmota_26DD0B/LWT, mid: 286
2020-10-22 19:15:59 DEBUG (MainThread) [homeassistant.components.mqtt] Unsubscribing from zigbee2mqtt/Prise voiture, mid: 287
```"
42281,Not receiving MFA email when configuring SimpliSafe Integration,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

**I'm trying to add the SimpliSafe integration to my HA. I'm getting as far as, it recognises that my username and password is correct but after that, I'm seeing any devices. I'm also not receiving the MFA email from SimpliSafe. If I login via a normal web browsers, I'm getting the MFA email within 30 seconds.**


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: **249**
- Last working Home Assistant Core release (if known): **Never worked**
- Operating environment (OS/Container/Supervised/Core): **HassOS 4.15**
- Integration causing this issue: 
- Link to integration documentation on our website: **https://www.home-assistant.io/integrations/simplisafe/**

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

**Here is a log that I've pulled out:
Traceback (most recent call last): File ""/usr/src/homeassistant/homeassistant/configentries.py"", line 231, in async_setup result = await component.async_setup_entry(hass, self) # type: ignore File ""/usr/src/homeassistant/homeassistant/components/simplisafe/init.py"", line 246, in async_setup_entry await simplisafe.async_init() File ""/usr/src/homeassistant/homeassistant/components/simplisafe/init.py"", line 483, in async_init self.systems = await self._api.get_systems() File ""/usr/local/lib/python3.8/site-packages/simplipy/api.py"", line 254, in get_systems system = system_class( File ""/usr/local/lib/python3.8/site-packages/simplipy/system/init.py"", line 176, in __init_ self.state: SystemStates = self._coerce_state_from_raw_value( File ""/usr/local/lib/python3.8/site-packages/simplipy/system/init.py"", line 267, in _coerce_state_from_raw_value return self.state File ""/usr/local/lib/python3.8/site-packages/simplipy/system/init_.py"", line 232, in state return self._state AttributeError: 'SystemV2' object has no attribute '_state'**

## Additional information

"
42258,Enigma2 Media Player does not report power off state,"## The problem
I am using **enigma2 media player** integration and I always turn off my satellite receiver to deep off (power off) not standby.
Unfortunately the integration does not show this state correctly and most often, despite disconnecting the power supply, it still shows the ON status on my media_player.sat .
Also lovelace still show media player with last screenshot as if the device was working...

Viewing the integration code at [media_player.py](https://github.com/home-assistant/core/blob/dev/homeassistant/components/enigma2/media_player.py) I noticed that only the **in_standby** state is considered for returning state but the base module also has the **is_offline** state.
I think the code should be modified to check both states.

Please consider making the following changes (in two places):
```diff
138c138,141
<         return STATE_OFF if self.e2_box.in_standby else STATE_ON
---
>         elif self.e2_box.in_standby or self.e2_box.is_offline:
>             return STATE_OFF
>         else:
>             return STATE_ON
257c260
<         if not self.e2_box.in_standby:
---
>         if not self.e2_box.in_standby and not self.e2_box.is_offline:
```
so that the **state** function finally looks like this:
```python3
    @property
    def state(self):
        """"""Return the state of the device.""""""
        if self.e2_box.is_recording_playback:
            return STATE_PLAYING
        elif self.e2_box.in_standby or self.e2_box.is_offline:
            return STATE_OFF
        else:
            return STATE_ON
```

and **device_state_attributes** function finally like this:
```python3
    @property
    def device_state_attributes(self):
        """"""Return device specific state attributes.

        isRecording:        Is the box currently recording.
        currservice_fulldescription: Full program description.
        currservice_begin:  is in the format '21:00'.
        currservice_end:    is in the format '21:00'.
        """"""
        attributes = {}
        if not self.e2_box.in_standby and not self.e2_box.is_offline:
            attributes[ATTR_MEDIA_CURRENTLY_RECORDING] = self.e2_box.status_info[
                ""isRecording""
            ]
            attributes[ATTR_MEDIA_DESCRIPTION] = self.e2_box.status_info[
                ""currservice_fulldescription""
            ]
            attributes[ATTR_MEDIA_START_TIME] = self.e2_box.status_info[
                ""currservice_begin""
            ]
            attributes[ATTR_MEDIA_END_TIME] = self.e2_box.status_info[""currservice_end""]

        return attributes
```

## Environment
1 | 2
-- | --
arch | armv7l
dev | false
docker | false
hassio | false
installation_type | Home Assistant Core
os_name | Linux
os_version | 5.4.51-v7+
python_version | 3.8.0
timezone | Europe/Warsaw
version | 0.116.4
virtualenv | true

- Home Assistant Core release with the issue:  all
- Last working Home Assistant Core release (if known):
- Integration causing this issue: enigma2 media_player
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/enigma2/
"
42255,Unable to find token seed! Did https://translate.google.com change?,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
upon updating to HA 117.0b1 this error appears in the logs when a tts action is fired

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue:  117.0b1
- Last working Home Assistant Core release (if known): 116.4
- Operating environment (OS/Container/Supervised/Core): OS
- Integration causing this issue: Google TTS
- Link to integration documentation on our website: https://rc.home-assistant.io/integrations/google_translate/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
tts:
  - platform: google_translate
    service_name: google_say
    cache: false
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Logger: homeassistant.components.automation.notify_espresso_ready
Source: components/google_translate/tts.py:126 
Integration: Automation (documentation, issues) 
First occurred: 7:38:56 AM (2 occurrences) 
Last logged: 7:38:56 AM

Notify Espresso ready: Error executing script. Unexpected error for call_service at pos 1: Unable to find token seed! Did https://translate.google.com change?
While executing automation automation.notify_espresso_ready
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/script.py"", line 253, in _async_step
    await getattr(
  File ""/usr/src/homeassistant/homeassistant/helpers/script.py"", line 463, in _async_call_service_step
    await self._async_run_long_action(service_task)
  File ""/usr/src/homeassistant/homeassistant/helpers/script.py"", line 422, in _async_run_long_action
    long_task.result()
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1448, in async_call
    task.result()
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1483, in _execute_service
    await handler.job.target(service_call)
  File ""/usr/src/homeassistant/homeassistant/components/script/__init__.py"", line 215, in service_handler
    await script_entity.async_turn_on(
  File ""/usr/src/homeassistant/homeassistant/components/script/__init__.py"", line 320, in async_turn_on
    await coro
  File ""/usr/src/homeassistant/homeassistant/helpers/script.py"", line 1010, in async_run
    await asyncio.shield(run.async_run())
  File ""/usr/src/homeassistant/homeassistant/helpers/script.py"", line 245, in async_run
    await self._async_step(log_exceptions=False)
  File ""/usr/src/homeassistant/homeassistant/helpers/script.py"", line 253, in _async_step
    await getattr(
  File ""/usr/src/homeassistant/homeassistant/helpers/script.py"", line 460, in _async_call_service_step
    await service_task
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1448, in async_call
    task.result()
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1483, in _execute_service
    await handler.job.target(service_call)
  File ""/usr/src/homeassistant/homeassistant/components/tts/__init__.py"", line 168, in async_say_handle
    url = await tts.async_get_url(
  File ""/usr/src/homeassistant/homeassistant/components/tts/__init__.py"", line 341, in async_get_url
    filename = await self.async_get_tts_audio(
  File ""/usr/src/homeassistant/homeassistant/components/tts/__init__.py"", line 353, in async_get_tts_audio
    extension, data = await provider.async_get_tts_audio(message, language, options)
  File ""/usr/src/homeassistant/homeassistant/components/google_translate/tts.py"", line 126, in async_get_tts_audio
    part_token = await self.hass.async_add_executor_job(
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/local/lib/python3.8/site-packages/gtts_token/gtts_token.py"", line 28, in calculate_token
    seed = self._get_token_key()
  File ""/usr/local/lib/python3.8/site-packages/gtts_token/gtts_token.py"", line 58, in _get_token_key
    raise ValueError(
ValueError: Unable to find token seed! Did https://translate.google.com change?
```

## Additional information

"
42253,Update for switch.diskstation_home_mode fails HA 0.116.4,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem

  The Synology integration throws numerous errors: see below
  It seems to be connected to ""surveillance station"" (this is new, buggy?!)


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: Home Assistant 0.116.4
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): ubuntu 20.04, hassio, docker, supervized *)
- Integration causing this issue: synology_dsm
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/synology_dsm

```
*) https://www.smarthomebeginner.com/install-hass-io-on-docker-linux/

# sudo su
# curl -sL https://raw.githubusercontent.com/home-assistant/supervised-installer/master/installer.sh | bash -s -- -m intel-nuc -d /var/opt/hassio/
```

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
NO YAML CONFIG. 
```

Integration options: 
```
Options
 
Minutes between scans
15
 
Timeout (seconds)
10
```

## Synology info

```
Device info
DS213j
by Synology
Synology NAS
Firmware: 8.2.8-6335
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
  2020-10-22 22:30:29 ERROR (MainThread) [homeassistant.helpers.entity] Update for switch.diskstation_home_mode fails
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 278, in async_update_ha_state
    await self.async_device_update()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 469, in async_device_update
    await self.async_update()  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/switch.py"", line 66, in async_update
    self._api.surveillance_station.get_home_mode_status
AttributeError: 'NoneType' object has no attribute 'get_home_mode_status'
```

## Additional information

"
42230,broadlink remote automatically disabled,"## The problem

Sometime after a restart, my broadlink remote entity will be disabled (can't send or learn commands). Re-enabling it manually make it works. I do it from integrations. Why the integration automatically disable it?

## Environment
- Home Assistant Core release with the issue: 0.116.4
- Last working Home Assistant Core release (if known): 0.115.X 
- Operating environment (OS/Container/Supervised/Core): HassOS
- Integration causing this issue: Broadlink
- Link to integration documentation on our website: - 


## Additional information
![Schermata 2020-10-22 alle 22 24 33](https://user-images.githubusercontent.com/169086/96926317-b5671580-14b5-11eb-95ff-fa90471cdff9.png)

"
42222,tplink switch doesn't handle connection failures gracefully,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

When a tplink switch is unavailable or another host temporarily is assigned its IP via DHCP, the tplink component fails with uncaught exception errors.

## Environment

Version 0.117b1 (may have occurred in previous versions and I didn't see it before upgrading)

## Traceback/Error logs

```txt
2020-10-22 10:53:23 ERROR (MainThread) [homeassistant.components.switch] Error while setting up tplink platform for switch
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/pyHS100/smartdevice.py"", line 115, in _query_helper
    response = self.protocol.query(
  File ""/usr/local/lib/python3.8/site-packages/pyHS100/protocol.py"", line 47, in query
    sock = socket.create_connection((host, port), timeout)
  File ""/usr/local/lib/python3.8/socket.py"", line 808, in create_connection
    raise err
  File ""/usr/local/lib/python3.8/socket.py"", line 796, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 193, in _async_setup_platform
    await asyncio.shield(task)
  File ""/usr/src/homeassistant/homeassistant/components/tplink/switch.py"", line 35, in async_setup_entry
    await hass.async_add_executor_job(get_devices_sysinfo, devices)
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/tplink/switch.py"", line 45, in get_devices_sysinfo
    device.get_sysinfo()
  File ""/usr/local/lib/python3.8/site-packages/pyHS100/smartdevice.py"", line 196, in get_sysinfo
    return self._query_helper(""system"", ""get_sysinfo"")
  File ""/usr/local/lib/python3.8/site-packages/pyHS100/smartdevice.py"", line 120, in _query_helper
    raise SmartDeviceException('Communication error') from ex
pyHS100.smartdevice.SmartDeviceException: Communication error
```

## Additional information

"
42207,Netatmo outdoor signal level has no unit,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## Netatmo outdoor signal level has no unit

Netatmo integration has one i think bug - netatmo outdoor station signal level has no unit.

1. HA frontend doesn't draw line graph bad unusable ""bar"" graph
2. This value has to be in some units. Maybe %, maybe dB, ..

<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 116.4
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): Hassio
- Integration causing this issue: Netatmo
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
42205,Panasonic Viera integration error on start up,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Running beta 0.117.0b1 on restarting home assistant I receive this error:

```
Logger: homeassistant.components.panasonic_viera
Source: components/panasonic_viera/__init__.py:96
Integration: Panasonic Viera (documentation, issues)
First occurred: 16:15:06 (1 occurrences)
Last logged: 16:15:06
Couldn't gather device info. Please restart Home Assistant with your TV turned on and connected to your network. 
```

This did not occur with 0.116.4


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.117.0b1
- Last working Home Assistant Core release (if known): 0.116.4
- Operating environment (OS/Container/Supervised/Core): HassOS 4.14 
- Integration causing this issue: Panasonic Viera
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/panasonic_viera/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
Nil, set up in the UI.
```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

When this television is off there is no network interface. So no wonder it has a problem, however in 0.116.4 this merely resulted in the state of the device being 'Unknown'."
42192,"SimpliSafe Gen 2 Repeatedly saying, ""Your Settings Have been Synchronized""","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 

-->
In the beta, the SimpliSafe is Repeatedly saying, ""Your Settings have been Synchronized"". I assume it is do to the fact that it is Gen 2 and the integration is pulling sensor data.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.117.0b1
- Last working Home Assistant Core release (if known): n/a
- Operating environment (OS/Container/Supervised/Core): OS
- Integration causing this issue: SimpliSafe
- Link to integration documentation on our website: https://rc.home-assistant.io/integrations/simplisafe/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
N/A
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
N/A
```

## Additional information

Is their a way to fix this or suppress the noise on SimpliSafe's end?"
42188,[Doorbird] API causing 500 Internal Service Error,"## The problem
When the doorbird sends an HTTP(S) call to Home Assistant, Home Assistant's response is 500 Internal Service Error.  If I send the HTTP(S) call to another webserver, it works fine.  

## Environment
- Home Assistant Core release with the issue: 
- Last working Home Assistant Core release (if known):  unknown
- Operating environment (OS/Container/Supervised/Core):  HassOS 4.14
Home Assistant 116.4
Supervisor 249

- Integration causing this issue: 
Doorbird

- Link to integration documentation on our website: 
https://www.home-assistant.io/integrations/doorbird/

## Problem-relevant `configuration.yaml`

```Configuring using webui.```

## Traceback/Error logs
```2020-10-21 18:49:59 ERROR (MainThread) [aiohttp.server] Error handling request
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/usr/local/lib/python3.8/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/usr/local/lib/python3.8/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/forwarded.py"", line 71, in forwarded_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/request_context.py"", line 18, in request_context_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 129, in handle
    result = await result
  File ""/usr/src/homeassistant/homeassistant/components/doorbird/__init__.py"", line 358, in get
    device = get_doorstation_by_token(hass, token)
  File ""/usr/src/homeassistant/homeassistant/components/doorbird/util.py"", line 16, in get_doorstation_by_token
    doorstation = hass.data[DOMAIN][config_entry_id][DOOR_STATION]
KeyError: 'door_station'
```

Request URL:
```
http://172.16.0.40/api/doorbird/doorbird_motion?token=bc2a8d5513e011ebbcc12b5bcb728712
```

## Additional information

I thought it might be related to my auth_providers.  I removed the trusted_networks however, the issue still occured.  172.16.0.0/12 is in the trusted_networks.
"
42139,BMW Connected Drive: Authentication failed. Maybe your password is invalid?,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
As of today, the BMW Connected Drive integration is giving authentication errors. However, my password has not changed and I’m still able to login to the app and website using the same credentials.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.116.4
- Last working Home Assistant Core release (if known): 0.116.4
- Operating environment (OS/Container/Supervised/Core): HassOS 4.14
- Integration causing this issue: bmw_connected_drive
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/bmw_connected_drive/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
# Example configuration.yaml entry
bmw_connected_drive:
  name:
    username: !secret bmw_username
    password: !secret bmw_password
    region: rest_of_world
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-10-20 19:26:24 ERROR (SyncWorker_15) [bimmer_connected.account] Authentication failed. Maybe your password is invalid?
2020-10-20 19:26:24 ERROR (SyncWorker_15) [bimmer_connected.account] ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 670, in urlopen
    httplib_response = self._make_request(
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 426, in _make_request
    six.raise_from(e, None)
  File ""<string>"", line 3, in raise_from
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 421, in _make_request
    httplib_response = conn.getresponse()
  File ""/usr/local/lib/python3.8/http/client.py"", line 1347, in getresponse
    response.begin()
  File ""/usr/local/lib/python3.8/http/client.py"", line 307, in begin
    version, status, reason = self._read_status()
  File ""/usr/local/lib/python3.8/http/client.py"", line 276, in _read_status
    raise RemoteDisconnected(""Remote end closed connection without""
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/requests/adapters.py"", line 439, in send
    resp = conn.urlopen(
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 726, in urlopen
    retries = retries.increment(
  File ""/usr/local/lib/python3.8/site-packages/urllib3/util/retry.py"", line 403, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File ""/usr/local/lib/python3.8/site-packages/urllib3/packages/six.py"", line 734, in reraise
    raise value.with_traceback(tb)
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 670, in urlopen
    httplib_response = self._make_request(
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 426, in _make_request
    six.raise_from(e, None)
  File ""<string>"", line 3, in raise_from
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 421, in _make_request
    httplib_response = conn.getresponse()
  File ""/usr/local/lib/python3.8/http/client.py"", line 1347, in getresponse
    response.begin()
  File ""/usr/local/lib/python3.8/http/client.py"", line 307, in begin
    version, status, reason = self._read_status()
  File ""/usr/local/lib/python3.8/http/client.py"", line 276, in _read_status
    raise RemoteDisconnected(""Remote end closed connection without""
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/bimmer_connected/account.py"", line 111, in _get_oauth_token
    response = self.send_request(url, data=data, headers=headers, allow_redirects=False,
  File ""/usr/local/lib/python3.8/site-packages/bimmer_connected/account.py"", line 154, in send_request
    response = requests.post(url, headers=headers, data=data, allow_redirects=allow_redirects,
  File ""/usr/local/lib/python3.8/site-packages/requests/api.py"", line 119, in post
    return request('post', url, data=data, json=json, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/requests/api.py"", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/requests/sessions.py"", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File ""/usr/local/lib/python3.8/site-packages/requests/sessions.py"", line 643, in send
    r = adapter.send(request, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/requests/adapters.py"", line 498, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2020-10-20 19:26:30 ERROR (MainThread) [homeassistant.setup] Error during setup of component bmw_connected_drive
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 670, in urlopen
    httplib_response = self._make_request(
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 426, in _make_request
    six.raise_from(e, None)
  File ""<string>"", line 3, in raise_from
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 421, in _make_request
    httplib_response = conn.getresponse()
  File ""/usr/local/lib/python3.8/http/client.py"", line 1347, in getresponse
    response.begin()
  File ""/usr/local/lib/python3.8/http/client.py"", line 307, in begin
    version, status, reason = self._read_status()
  File ""/usr/local/lib/python3.8/http/client.py"", line 276, in _read_status
    raise RemoteDisconnected(""Remote end closed connection without""
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/requests/adapters.py"", line 439, in send
    resp = conn.urlopen(
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 726, in urlopen
    retries = retries.increment(
  File ""/usr/local/lib/python3.8/site-packages/urllib3/util/retry.py"", line 403, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File ""/usr/local/lib/python3.8/site-packages/urllib3/packages/six.py"", line 734, in reraise
    raise value.with_traceback(tb)
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 670, in urlopen
    httplib_response = self._make_request(
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 426, in _make_request
    six.raise_from(e, None)
  File ""<string>"", line 3, in raise_from
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 421, in _make_request
    httplib_response = conn.getresponse()
  File ""/usr/local/lib/python3.8/http/client.py"", line 1347, in getresponse
    response.begin()
  File ""/usr/local/lib/python3.8/http/client.py"", line 307, in begin
    version, status, reason = self._read_status()
  File ""/usr/local/lib/python3.8/http/client.py"", line 276, in _read_status
    raise RemoteDisconnected(""Remote end closed connection without""
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/bimmer_connected/account.py"", line 111, in _get_oauth_token
    response = self.send_request(url, data=data, headers=headers, allow_redirects=False,
  File ""/usr/local/lib/python3.8/site-packages/bimmer_connected/account.py"", line 154, in send_request
    response = requests.post(url, headers=headers, data=data, allow_redirects=allow_redirects,
  File ""/usr/local/lib/python3.8/site-packages/requests/api.py"", line 119, in post
    return request('post', url, data=data, json=json, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/requests/api.py"", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/requests/sessions.py"", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File ""/usr/local/lib/python3.8/site-packages/requests/sessions.py"", line 643, in send
    r = adapter.send(request, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/requests/adapters.py"", line 498, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/setup.py"", line 213, in _async_setup_component
    result = await task
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/bmw_connected_drive/__init__.py"", line 52, in setup
    accounts.append(setup_account(account_config, hass, name))
  File ""/usr/src/homeassistant/homeassistant/components/bmw_connected_drive/__init__.py"", line 80, in setup_account
    cd_account = BMWConnectedDriveAccount(username, password, region, name, read_only)
  File ""/usr/src/homeassistant/homeassistant/components/bmw_connected_drive/__init__.py"", line 127, in __init__
    self.account = ConnectedDriveAccount(username, password, region)
  File ""/usr/local/lib/python3.8/site-packages/bimmer_connected/account.py"", line 61, in __init__
    self._get_vehicles()
  File ""/usr/local/lib/python3.8/site-packages/bimmer_connected/account.py"", line 226, in _get_vehicles
    self._get_oauth_token()
  File ""/usr/local/lib/python3.8/site-packages/bimmer_connected/account.py"", line 117, in _get_oauth_token
    raise OSError(msg) from exception
OSError: Authentication failed. Maybe your password is invalid?
```

## Additional information

Appears to be related to https://github.com/bimmerconnected/bimmer_connected/issues/208"
42138,KeyError: 'host' when adding Hue,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

Trying to add a hue bridge (manually), in the UI I get ""Unknown error occurred"":

![image](https://user-images.githubusercontent.com/444037/96622587-0c2bee00-1302-11eb-87fb-b2a33ecb8f08.png)

Logs from my pod:

```
2020-10-20 17:24:59 ERROR (MainThread) [aiohttp.server] Error handling request
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/usr/local/lib/python3.8/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/usr/local/lib/python3.8/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/request_context.py"", line 18, in request_context_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/ban.py"", line 72, in ban_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 129, in handle
    result = await result
  File ""/usr/src/homeassistant/homeassistant/components/config/config_entries.py"", line 169, in post
    return await super().post(request, flow_id)
  File ""/usr/src/homeassistant/homeassistant/components/http/data_validator.py"", line 60, in wrapper
    result = await method(view, request, *args, **kwargs)
  File ""/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py"", line 106, in post
    result = await self._flow_mgr.async_configure(flow_id, data)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 156, in async_configure
    result = await self._async_handle_step(flow, cur_step[""step_id""], user_input)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 204, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/hue/config_flow.py"", line 124, in async_step_manual
    if any(
  File ""/usr/src/homeassistant/homeassistant/components/hue/config_flow.py"", line 125, in <genexpr>
    user_input[""host""] == entry.data[""host""]
KeyError: 'host'
```

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue:   homeassistant/home-assistant:0.116.4
- Last working Home Assistant Core release (if known): unknown
- Operating environment (OS/Container/Supervised/Core): linux/ubuntu/kubernetes
- Integration causing this issue: Hue
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-10-20 17:24:59 ERROR (MainThread) [aiohttp.server] Error handling request
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/usr/local/lib/python3.8/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/usr/local/lib/python3.8/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/request_context.py"", line 18, in request_context_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/ban.py"", line 72, in ban_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 129, in handle
    result = await result
  File ""/usr/src/homeassistant/homeassistant/components/config/config_entries.py"", line 169, in post
    return await super().post(request, flow_id)
  File ""/usr/src/homeassistant/homeassistant/components/http/data_validator.py"", line 60, in wrapper
    result = await method(view, request, *args, **kwargs)
  File ""/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py"", line 106, in post
    result = await self._flow_mgr.async_configure(flow_id, data)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 156, in async_configure
    result = await self._async_handle_step(flow, cur_step[""step_id""], user_input)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 204, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/hue/config_flow.py"", line 124, in async_step_manual
    if any(
  File ""/usr/src/homeassistant/homeassistant/components/hue/config_flow.py"", line 125, in <genexpr>
    user_input[""host""] == entry.data[""host""]
KeyError: 'host'
```

## Additional information

"
42090,Onkyo media_player volume_level issue when max_volume set,"## The problem

Trying to set `volume_level` based on `volume_level` from an automation did not work as expected when having `max_volume: 75` set for a `media_player` using the `onkyo` platform.

## Environment

- Home Assistant Core release with the issue: 0.116.2
- Last working Home Assistant Core release (if known): n/a
- Operating environment (OS/Container/Supervised/Core): Hassio 4.13 (Pi3B+)
- Integration causing this issue: Onkyo
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/onkyo/

## Problem-relevant `configuration.yaml`

```yaml
media_player:
  - platform: onkyo
    host: tx-nr717.marmotte.ici
    name: Onkyo TX-NR717
    # In percent, so 60 vs. original 80
    max_volume: 75
    sources:
      bd: 'Wii'
      cbl: 'Pi3'
      stb: 'Wii U'
      game: 'S. Nintendo'
      aux1: 'AUX'
```

## Traceback/Error logs

No errors, just unexpected behavior.

## Additional information

Initially reported at https://community.home-assistant.io/t/cant-seem-to-set-volume-level-based-on-itself-from-data-template/237089/4 because I thought I was doing something wrong. I was trying to get this working:

```yaml
service: media_player.volume_set
entity_id: media_player.onkyo_tx_nr717
data_template:
  volume_level: >-
    {% if trigger.event.data.event | int > 0 %}
    {{ state_attr('media_player.onkyo_tx_nr717', 'volume_level') | float + 0.05 }}
    {% else %}
    {{ state_attr('media_player.onkyo_tx_nr717', 'volume_level') | float - 0.05 }}
    {% endif %}
```
And the volume was going down in non-equal steps when expected to go up, and going down to very low values when expected to go down normally. Getting the `volume_level` from the states and template pages of the Developer Tools section always worked fine, showing the proper current value in the 0-1 range, which was quite misleading.

Simply commenting out the `max_volume: 75` line made everything work as expected, so it seems like it's interfering somehow. I had set it in order to never be able to raise the volume to dangerous levels using HA."
42085,ZHA Dropout Until HA Restarted,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
For quite a while now I have been having issues with ZHA where all of my devices would begin dropping out. I noticed an exception in the HA logs related to ZHA and soon after my devices start going unavailable until HA is restarted. During this down time, the Conbee II hardware watchdog is triggered and the device reconnects to my system hourly. The only action required to fix the issue is to restart Home Assistant (not the server, just the HA process). At this point, I get about 24 hours or so before the issue pops up again and the cycle repeats. 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: Home Assistant 0.115.6
- Last working Home Assistant Core release (if known): Unknown, but the issue has been around for many releases.
- Operating environment (OS/Container/Supervised/Core): Debian Linux 10, Core
- Integration causing this issue: ZHA
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/zha

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
N/A - ZHA setup through GUI.
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-10-19 04:19:32 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback SerialTransport._read_ready()
Traceback (most recent call last):
  File ""/usr/lib/python3.7/asyncio/events.py"", line 88, in _run
    self._context.run(self._callback, *self._args)
  File ""/srv/homeassistant/lib/python3.7/site-packages/serial_asyncio/__init__.py"", line 106, in _read_ready
    self._protocol.data_received(data)
  File ""/srv/homeassistant/lib/python3.7/site-packages/zigpy_deconz/uart.py"", line 85, in data_received
    self._api.data_received(frame)
  File ""/srv/homeassistant/lib/python3.7/site-packages/zigpy_deconz/api.py"", line 350, in data_received
    fut.set_result(data)
asyncio.base_futures.InvalidStateError: invalid state
2020-10-19 04:19:32 WARNING (MainThread) [zigpy_deconz.api] No response to 'Command.aps_data_confirm' command with seq id '0xd8'
2020-10-19 04:19:32 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.7/site-packages/zigpy_deconz/api.py"", line 304, in _command
    return await asyncio.wait_for(fut, timeout=COMMAND_TIMEOUT)
  File ""/usr/lib/python3.7/asyncio/tasks.py"", line 423, in wait_for
    raise futures.TimeoutError()
concurrent.futures._base.TimeoutError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.7/site-packages/zigpy_deconz/api.py"", line 522, in _aps_data_confirm
    r = await self._command(Command.aps_data_confirm, 0)
  File ""/srv/homeassistant/lib/python3.7/site-packages/zigpy_deconz/api.py"", line 309, in _command
    self._awaiting.pop(seq)
KeyError: 216
2020-10-19 04:19:54 WARNING (MainThread) [homeassistant.helpers.entity] Update of sensor.office_vent_output is taking over 10 seconds
2020-10-19 04:20:13 WARNING (MainThread) [homeassistant.components.sensor] Updating zha sensor took longer than the scheduled update interval 0:00:30
```

## Additional information
My coordinator is a Conbee II dongle. Running in a ESXi environment with the Conbee passed through to the HA VM. The issue seems to be wholly rooted in Home Assistant as restarting the service solves the problem for the next 24-48 hour or so though I have had instances here it came back in just a few hours.
"
42076,FritzLookUpError: 'UPnPError: \nerrorCode: 714\nerrorDescription: NoSuchEntryInArray',"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Home Assitant log file is full with error : fritzconnection.core.exceptions.FritzLookUpError: 'UPnPError: \nerrorCode: 714\nerrorDescription: NoSuchEntryInArray'

<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment : 
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0,112.2
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core):  Synology Docker
- Integration causing this issue: Fritz
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/fritz/

## Problem-relevant `configuration.yaml`

<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
- platform: fritz
  host: !secret fritz_add
  username: !secret ha_fritz_ID
  password: !secret ha_fritz_PW
  interval_seconds: 10
  consider_home: 180
  new_device_defaults:
    track_new_devices: true
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
fritzconnection.core.exceptions.FritzLookUpError: 'UPnPError: \nerrorCode: 714\nerrorDescription: NoSuchEntryInArray'
2020-10-19 11:26:18 ERROR (MainThread) [homeassistant.core] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/device_tracker/setup.py"", line 171, in async_device_tracker_scan
    extra_attributes = await scanner.async_get_extra_attributes(mac)
  File ""/usr/src/homeassistant/homeassistant/components/device_tracker/legacy.py"", line 498, in async_get_extra_attributes
    return await self.hass.async_add_job(self.get_extra_attributes, device)
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/fritz/device_tracker.py"", line 84, in get_extra_attributes
    ip_device = self.fritz_box.get_specific_host_entry(device).get(""NewIPAddress"")
  File ""/usr/local/lib/python3.7/site-packages/fritzconnection/lib/fritzhosts.py"", line 51, in get_specific_host_entry
    result = self._action('GetSpecificHostEntry', NewMACAddress=mac_address)
  File ""/usr/local/lib/python3.7/site-packages/fritzconnection/lib/fritzhosts.py"", line 29, in _action
    return self.fc.call_action(SERVICE, actionname, **kwargs)
  File ""/usr/local/lib/python3.7/site-packages/fritzconnection/core/fritzconnection.py"", line 207, in call_action
    return self.soaper.execute(service, action_name, arguments)
  File ""/usr/local/lib/python3.7/site-packages/fritzconnection/core/soaper.py"", line 170, in execute
    return handle_response(response)
  File ""/usr/local/lib/python3.7/site-packages/fritzconnection/core/soaper.py"", line 153, in handle_response
    raise_fritzconnection_error(response)
  File ""/usr/local/lib/python3.7/site-packages/fritzconnection/core/soaper.py"", line 82, in raise_fritzconnection_error
    raise exception(message)
```

## Additional information
Fritz Box : 7490
Fritzos : 7.21

Above error is logging in every 30~35 seconds. "
41957,Broadlink integration sends more packets than configured,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Scripts using Broadlink remote started to take way longer to execute than before. LED on the device that indicates sending commands is active exactly 3x times than before. Network capture confirms that too many packets are sent to the device.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.116.2
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): Debian 9/LXC/Core
- Integration causing this issue: Broadlink
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/broadlink/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
service: remote.send_command
      data:
        entity_id: remote.living_room_broadlink_remote
        command: b64:sv8kAAUGEwYGDAsGBgYGBgUMCwsLBgUGBgYGBgYGBgsLCwYGCwYGDAAAAAA==
```

Problem can also be reproduced by using ""remote.send_command"" from developer tools. If service data looks like this:  

```
entity_id: remote.living_room_broadlink_remote
command: b64:sv8kAAUGEwYGDAsGBgYGBgUMCwsLBgUGBgYGBgYGBgsLCwYGCwYGDAAAAAA==
num_repeats: 0
```
no packets to broadlink are sent.  

If service data looks like this (default behaviour):  
```
entity_id: remote.living_room_broadlink_remote
command: b64:sv8kAAUGEwYGDAsGBgYGBgUMCwsLBgUGBgYGBgYGBgsLCwYGCwYGDAAAAAA==
```
3 packets are sent.  

if service data looks like this:  
```
entity_id: remote.living_room_broadlink_remote
command: b64:sv8kAAUGEwYGDAsGBgYGBgUMCwsLBgUGBgYGBgYGBgsLCwYGCwYGDAAAAAA==
num_repeats: 1
```
4 packets are sent.

Any value set for num_repeats > 0 sends 3 additional packets above the specified value. If property num_repeats is not specified, 3 packets instead of 1 are sent.  
This behaviour is also present in ""switch"" part of the integration where num_packets is not a valid property, which defaults number of packets for Broadlink-operated switches to 3 instead of 1.

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

Broadlink protocol has built-in support for repetition, as shown [here](https://github.com/mjg59/python-broadlink/blob/master/protocol.md) under paragraph ""Sending data"". 5th byte allows to specify how many times device itself will repeat the command, allowing the client to only send one packet to Broadlink device, and Broadlink does the rest itself. Using this feature is much more efficient than current implementation in HomeAssistant's Broadlink integration."
41886,Onvif fails to start on Home Assistant 0.116.3,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

Onvif integration fails to start on Home Assistant 0.116.3


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->


HassOS 4.13 on Raspberry Pi 4

- Home Assistant Core release with the issue: 0.116.3
- Last working Home Assistant Core release (if known): 0.116.2
- Operating environment (OS/Container/Supervised/Core): HassOS 4.13, supervised
- Integration causing this issue: onvif
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/onvif/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

N/A

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Setup failed for onvif: Unable to import component: No module named 'zeep.asyncio'
```

## Additional information

Worked fine on 0.116.2. Issue seems to be with asyncio."
41862,Insteon python3.8 error,"## The problem
After updating to Python 3.8.x, this error message started to occur. The error only occurs when starting HASS. The error does not occur with Python 3.7. When upgraded, I followed the normal procedure by creating a new virtual environment and executing a new install command. 


## Environment
- Home Assistant Core release with the issue: 0.115.6
- Last working Home Assistant Core release (if known): 0.115.6
- Operating environment (OS/Container/Supervised/Core): venv
- Integration causing this issue: Insteon


## Problem-relevant `configuration.yaml`
```yaml
Configuration not set via yaml. 

2448A7 USB stick
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Oct 14 17:49:04 hasstardis hass[838]: 2020-10-14 17:49:04 DEBUG (MainThread) [homeassistant.components.insteon] Insteon device count: 28
Oct 14 17:49:04 hasstardis hass[838]: 2020-10-14 17:49:04 DEBUG (MainThread) [homeassistant.components.insteon.utils] Insteon Services registered
Oct 14 17:49:04 hasstardis hass[838]: 2020-10-14 17:49:04 ERROR (MainThread) [homeassistant.config_entries] Error setting up entry  for insteon
Oct 14 17:49:04 hasstardis hass[838]: Traceback (most recent call last):
Oct 14 17:49:04 hasstardis hass[838]:   File ""/srv/homeassistant/lib/python3.8/site-packages/homeassistant/config_entries.py"", line 228, in async_setup
Oct 14 17:49:04 hasstardis hass[838]:     result = await component.async_setup_entry(hass, self)  # type: ignore
Oct 14 17:49:04 hasstardis hass[838]:   File ""/srv/homeassistant/lib/python3.8/site-packages/homeassistant/components/insteon/__init__.py"", line 162, in async_setup_entry
Oct 14 17:49:04 hasstardis hass[838]:     model=f""{devices.modem.model} (0x{devices.modem.cat:02x}, 0x{devices.modem.subcat:02x})"",
Oct 14 17:49:04 hasstardis hass[838]:   File ""/usr/local/lib/python3.8/enum.py"", line 669, in __format__
Oct 14 17:49:04 hasstardis hass[838]:     return cls.__format__(val, format_spec)
Oct 14 17:49:04 hasstardis hass[838]: ValueError: Unknown format code 'x' for object of type 'str'

```

## Additional information

"
41755,Tesla Integration not reporting state of charge switch,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Using Home Assistant 0.116.2 (installed via the VMware OVA file), and connected to my Tesla Model 3, I can set the charge state remotely using HA. However, there is no feedback information to the switch. If the charger was set on the Tesla mobile app, or from in the car, then HA does not have an ability to see this.
This leaves no way to use this in a condition or trigger, preventing automation of charger events.
Using the charger lock status is a not a useful alternative, as this can be set even with the car not charging.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 
Home Assistant 0.116.2
- Last working Home Assistant Core release (if known): 
Unknown
- Operating environment (OS/Container/Supervised/Core): 
Core: HassOS 4.13, Supervisor 247 (production)
- Integration causing this issue: 
Tesla
- Link to integration documentation on our website: 
https://www.home-assistant.io/integrations/tesla

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
Configured using config flow, so no entries in configuration.yaml

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->
No logs or error messages seen

## Additional information

"
41721,Reconfigure Integration gets triggered multiple times due to an error.,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

I setup the air visual platform via the ui a while back and I noticed with the latest 0.116.x releases I'm getting errors in the logs but also asked to reconfigure many many many times the same integration. If I reconfigure one, they all stay there and one gets removed. It keeps coming back saying I need to reconfigure every few hours.
![Screen Shot 2020-10-12 at 9 53 14 AM](https://user-images.githubusercontent.com/1020579/95760977-4a297200-0c71-11eb-9c4c-32b6a3fa33b7.png)



## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue:  0.116.0+
- Last working Home Assistant Core release (if known): 0.115.latest
- Operating environment (OS/Container/Supervised/Core): Ubuntu 20.04.1 LTS / 0.116.2 / generic install.
- Integration causing this issue: air visual
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 201, in _async_setup_platform
    await asyncio.gather(*pending)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 310, in async_add_entities
    await asyncio.gather(*tasks)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 481, in _async_add_entity
    await entity.add_to_platform_finish()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 521, in add_to_platform_finish
    await self.async_added_to_hass()
  File ""/usr/src/homeassistant/homeassistant/components/airvisual/__init__.py"", line 401, in async_added_to_hass
    self.update_from_latest_data()
  File ""/usr/src/homeassistant/homeassistant/components/airvisual/sensor.py"", line 168, in update_from_latest_data
    data = self.coordinator.data[""current""][""pollution""]
TypeError: 'NoneType' object is not subscriptable
```

## Additional information

"
41665,Not possible unbinding coordinator from controlling devices in ZHA.,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Some devices like Philips HUE Dimmer Switch (RWL021) need being unbinded from the coordinator before one new binding (to one light groupe) is working.

ZHA devices.
In one controller device:
Manage Clusters.
Device Binding.
Bind and unbind devices.
Bindable Devices.

In the dropdown list its only all the devices that is possible un/binding but the coordinator is not in the list = not possible unbinding.

Then its not possible unbinding the coordinator from the device => not possible binding the controller device to one group in ZHA (possible making the binding but its not working).

Have trying pairing and binding the RWL021 with lights groups in Tasmota Zigbee bridge and its possible doing the group binding of cluster 6 (On/Off) and 8 (Level) but its not working (no commands is sending to the bonded group).
After sending one unbind to the device with 0X000 (coordinator) as payload its start working with On/Off and dimmer up and down.

Suggestion: 
Implanting coordinator in the un/binding list of controlling devices so its being possible making binding working for this devices (and other that must being unbinded from the coordinator).

 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.116.2
- Last working Home Assistant Core release (if known): Non
- Operating environment (OS/Container/Supervised/Core):  RP 3a+ Docker Supervised
- Integration causing this issue: ZHA
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/zha
- NCP Radio = IKEA Billy (= EZSP)

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
No errors with all debug aktivated.
```

## Additional information

Great work done with Bellows and zigpy !!!"
41576,0.116: Poeschl PicoTTS broken in 116.0 -116.2: 'en-GB' not a frame instance,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Calling the service tts.picotts_remote_say with a correct entity_id and message causes an error ""'en-GB' not a frame instance.  A similar issue occurred when moving from .114 to .115 but was fixed (#40244). The problem has reappeared in .116.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 116.2
- Last working Home Assistant Core release (if known): 115.6
- Operating environment (OS/Container/Supervised/Core): Supervised
- Integration causing this issue: tts
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/tts/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
tts:
  - platform: picotts_remote
    host: 'localhost'
    port: 59126
    language: 'en-GB'
    cache: false
```

## Traceback/Error logs

<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/script.py"", line 247, in _async_step
    await getattr(
  File ""/usr/src/homeassistant/homeassistant/helpers/script.py"", line 454, in _async_call_service_step
    await service_task
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1335, in async_call
    task.result()
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1370, in _execute_service
    await handler.func(service_call)
  File ""/usr/src/homeassistant/homeassistant/components/tts/__init__.py"", line 168, in async_say_handle
    url = await tts.async_get_url(
  File ""/usr/src/homeassistant/homeassistant/components/tts/__init__.py"", line 341, in async_get_url
    filename = await self.async_get_tts_audio(
  File ""/usr/src/homeassistant/homeassistant/components/tts/__init__.py"", line 368, in async_get_tts_audio
    data = self.write_tags(filename, data, provider, message, language, options)
  File ""/usr/src/homeassistant/homeassistant/components/tts/__init__.py"", line 476, in write_tags
    tts_file[""artist""] = artist
  File ""/usr/local/lib/python3.8/site-packages/mutagen/_file.py"", line 74, in __setitem__
    self.tags[key] = value
  File ""/usr/local/lib/python3.8/site-packages/mutagen/id3/_tags.py"", line 339, in __setitem__
    raise TypeError(""%r not a Frame instance"" % tag)
TypeError: 'en-GB' not a Frame instance
```

## Additional information

"
41570,Xiaomi EU Gateway don't support illuminance sensor,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I have an Xiaomi EU Gateway `lumi.gateway.mieu01` and don't support the illuminance sensor.
I have also tested from commandline with the same timeout exception.
## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.6
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): HassOS 3.13
- Integration causing this issue: xiaomi_miio
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/xiaomi_miio/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

**N/A**

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-10-09 20:08:56 WARNING (MainThread) [homeassistant.components.sensor] Setup of sensor platform xiaomi_miio is taking over 10 seconds.
2020-10-09 20:09:06 ERROR (SyncWorker_5) [miio.miioprotocol] Got error when receiving: timed out
2020-10-09 20:09:06 ERROR (MainThread) [homeassistant.components.sensor] xiaomi_miio: Error on device update!
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/miio/miioprotocol.py"", line 192, in send
    data, addr = s.recvfrom(1024)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/miio/miioprotocol.py"", line 192, in send
    data, addr = s.recvfrom(1024)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/miio/miioprotocol.py"", line 192, in send
    data, addr = s.recvfrom(1024)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/miio/miioprotocol.py"", line 192, in send
    data, addr = s.recvfrom(1024)
socket.timeout: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 346, in _async_add_entity
    await entity.async_device_update(warning=False)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 469, in async_device_update
    await self.async_update()  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/xiaomi_miio/sensor.py"", line 325, in async_update
    self._state = await self.hass.async_add_executor_job(
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/local/lib/python3.8/site-packages/miio/gateway.py"", line 383, in get_illumination
    return self.send(""get_illumination"").pop()
  File ""/usr/local/lib/python3.8/site-packages/miio/device.py"", line 146, in send
    return self._protocol.send(
  File ""/usr/local/lib/python3.8/site-packages/miio/miioprotocol.py"", line 232, in send
    return self.send(
  File ""/usr/local/lib/python3.8/site-packages/miio/miioprotocol.py"", line 232, in send
    return self.send(
  File ""/usr/local/lib/python3.8/site-packages/miio/miioprotocol.py"", line 232, in send
    return self.send(
  File ""/usr/local/lib/python3.8/site-packages/miio/miioprotocol.py"", line 240, in send
    raise DeviceException(""No response from the device"") from ex
miio.exceptions.DeviceException: No response from the device

```

## Additional information

"
41564,KNX Binary sensor - Automation 'Already Running',"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Since the upgrade to 0.116, logs are filled with warnings on my automations: 'Already running'.
Seems to be caused by the update of xknx to version 0.14.4 (#40472).
My binary KNX sensors now generate 2 events within a few millis.
Simplified example. KNX physical motion sensor sends ""turn off actuator"", HA binary sensor is listening on related group address. This results in 2 HA state_changed events, where Event2 is produced almost immediately after Event1:
Event1: old_state (""on"", counter 0) new_state (""off"", counter 1)
Event2: old_state (""off"", counter 1) new_state (""off"", counter 0)

Since my automations listen on state change ""off"", they fire twice.

Is this a bug? Then I must not modify my config.
Or is it a feature to have a new state_changed event only because the counter attribute is reset to 0?

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.116
- Last working Home Assistant Core release (if known): < 0.116
- Operating environment (OS/Container/Supervised/Core): HassOS 4.13
- Integration causing this issue: KNX
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/knx

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
knx:
  binary_sensor:
  - name: ""motion_detector_light""
    state_address: '0/6/6'
    sync_state: False
automation:
  - alias: 'Do Something'
    trigger:
      - platform: event
        event_type: state_changed
        event_data:
          entity_id: binary_sensor.motion_detector_light
    condition:
      condition: and
      conditions:
        - condition: template
          value_template: ""{{ trigger.event.data.new_state.state == 'off' }}""
    action:
        - entity_id: light.myLight
          service: light.turn_off
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Logger: homeassistant.components.automation.doSomething
Source: helpers/script.py:1097
Integration: Automation (documentation, issues)
First occurred: October 7, 2020, 5:50:06 PM (843 occurrences)
Last logged: 6:06:36 PM

Do Something: Already running
```

## Additional information

"
41560,Shelly RGBW2 light entities no longer available after 0.116 upgrade,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
After an update to 0.116 the 4 light entities of the rgbw2 are no longer available, the only sensor available is binary_sensor.shellyrgbw2_XXXXXX_overpowering. I have tried removing and re-adding the integration, I upgraded to 0.116.1, and rebooted the shelly device


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.116
- Last working Home Assistant Core release (if known): 0.115.X
- Operating environment (OS/Container/Supervised/Core):  HassOS 4.13
- Integration causing this issue: Shelly
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/shelly


## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
N/a
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
N/a
```

## Additional information
The Shelly is running the latest firmware available
"
41507,Yeelight integration broken in 0.116.1,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Got this error after docker updated today, Yeelight light bulbs do not connect.
```
 File ""/usr/src/homeassistant/homeassistant/components/yeelight/light.py"", line 140, in <module>
    EFFECT_RANDOM_LOOP: yee_transitions.randomloop,
AttributeError: module 'yeelight.transitions' has no attribute 'randomloop'
```

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.116.1
- Last working Home Assistant Core release (if known): 0.116.0
- Operating environment (OS/Container/Supervised/Core): homeassistant/home-assistant docker
- Integration causing this issue: Yeelight
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/yeelight/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
yeelight: !include yeelights.yaml
```

```yaml
devices:
  192.168.x.x:
    name: Kitchen light bulb
    model: color2
  192.168.x.x:
    name: Living room light bulb 1
    model: color2
  192.168.x.x:
    name: Living room light bulb 2
    model: color2
  192.168.x.x:
    name: Living room light bulb 3
    model: color2
  192.168.x.x:
    name: Desk light bulb
    model: color2
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-10-08 19:07:43 WARNING (MainThread) [homeassistant.loader] You are using a custom integration for hacs which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant.
2020-10-08 19:07:45 ERROR (MainThread) [homeassistant.config_entries] Error setting up entry Living room light bulb 3 for light
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 231, in async_setup
    result = await component.async_setup_entry(hass, self)  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/light/__init__.py"", line 287, in async_setup_entry
    return await hass.data[DOMAIN].async_setup_entry(entry)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_component.py"", line 140, in async_setup_entry
    platform = await async_prepare_setup_platform(
  File ""/usr/src/homeassistant/homeassistant/setup.py"", line 298, in async_prepare_setup_platform
    platform = integration.get_platform(domain)
  File ""/usr/src/homeassistant/homeassistant/loader.py"", line 401, in get_platform
    cache[full_name] = importlib.import_module(
  File ""/usr/local/lib/python3.8/importlib/__init__.py"", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File ""<frozen importlib._bootstrap>"", line 1014, in _gcd_import
  File ""<frozen importlib._bootstrap>"", line 991, in _find_and_load
  File ""<frozen importlib._bootstrap>"", line 975, in _find_and_load_unlocked
  File ""<frozen importlib._bootstrap>"", line 671, in _load_unlocked
  File ""<frozen importlib._bootstrap_external>"", line 783, in exec_module
  File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed
  File ""/usr/src/homeassistant/homeassistant/components/yeelight/light.py"", line 140, in <module>
    EFFECT_RANDOM_LOOP: yee_transitions.randomloop,
AttributeError: module 'yeelight.transitions' has no attribute 'randomloop'
2020-10-08 19:07:45 ERROR (MainThread) [homeassistant.config_entries] Error setting up entry Living room light bulb 1 for light
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 231, in async_setup
    result = await component.async_setup_entry(hass, self)  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/light/__init__.py"", line 287, in async_setup_entry
    return await hass.data[DOMAIN].async_setup_entry(entry)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_component.py"", line 140, in async_setup_entry
    platform = await async_prepare_setup_platform(
  File ""/usr/src/homeassistant/homeassistant/setup.py"", line 298, in async_prepare_setup_platform
    platform = integration.get_platform(domain)
  File ""/usr/src/homeassistant/homeassistant/loader.py"", line 401, in get_platform
    cache[full_name] = importlib.import_module(
  File ""/usr/local/lib/python3.8/importlib/__init__.py"", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File ""<frozen importlib._bootstrap>"", line 1014, in _gcd_import
  File ""<frozen importlib._bootstrap>"", line 991, in _find_and_load
  File ""<frozen importlib._bootstrap>"", line 975, in _find_and_load_unlocked
  File ""<frozen importlib._bootstrap>"", line 671, in _load_unlocked
  File ""<frozen importlib._bootstrap_external>"", line 783, in exec_module
  File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed
  File ""/usr/src/homeassistant/homeassistant/components/yeelight/light.py"", line 140, in <module>
    EFFECT_RANDOM_LOOP: yee_transitions.randomloop,
AttributeError: module 'yeelight.transitions' has no attribute 'randomloop'
2020-10-08 19:07:45 ERROR (MainThread) [homeassistant.config_entries] Error setting up entry Kitchen light bulb for light
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 231, in async_setup
    result = await component.async_setup_entry(hass, self)  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/light/__init__.py"", line 287, in async_setup_entry
    return await hass.data[DOMAIN].async_setup_entry(entry)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_component.py"", line 140, in async_setup_entry
    platform = await async_prepare_setup_platform(
  File ""/usr/src/homeassistant/homeassistant/setup.py"", line 298, in async_prepare_setup_platform
    platform = integration.get_platform(domain)
  File ""/usr/src/homeassistant/homeassistant/loader.py"", line 401, in get_platform
    cache[full_name] = importlib.import_module(
  File ""/usr/local/lib/python3.8/importlib/__init__.py"", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File ""<frozen importlib._bootstrap>"", line 1014, in _gcd_import
  File ""<frozen importlib._bootstrap>"", line 991, in _find_and_load
  File ""<frozen importlib._bootstrap>"", line 975, in _find_and_load_unlocked
  File ""<frozen importlib._bootstrap>"", line 671, in _load_unlocked
  File ""<frozen importlib._bootstrap_external>"", line 783, in exec_module
  File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed
  File ""/usr/src/homeassistant/homeassistant/components/yeelight/light.py"", line 140, in <module>
    EFFECT_RANDOM_LOOP: yee_transitions.randomloop,
AttributeError: module 'yeelight.transitions' has no attribute 'randomloop'
2020-10-08 19:07:45 ERROR (MainThread) [homeassistant.config_entries] Error setting up entry Living room light bulb 2 for light
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 231, in async_setup
    result = await component.async_setup_entry(hass, self)  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/light/__init__.py"", line 287, in async_setup_entry
    return await hass.data[DOMAIN].async_setup_entry(entry)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_component.py"", line 140, in async_setup_entry
    platform = await async_prepare_setup_platform(
  File ""/usr/src/homeassistant/homeassistant/setup.py"", line 298, in async_prepare_setup_platform
    platform = integration.get_platform(domain)
  File ""/usr/src/homeassistant/homeassistant/loader.py"", line 401, in get_platform
    cache[full_name] = importlib.import_module(
  File ""/usr/local/lib/python3.8/importlib/__init__.py"", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File ""<frozen importlib._bootstrap>"", line 1014, in _gcd_import
  File ""<frozen importlib._bootstrap>"", line 991, in _find_and_load
  File ""<frozen importlib._bootstrap>"", line 975, in _find_and_load_unlocked
  File ""<frozen importlib._bootstrap>"", line 671, in _load_unlocked
  File ""<frozen importlib._bootstrap_external>"", line 783, in exec_module
  File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed
  File ""/usr/src/homeassistant/homeassistant/components/yeelight/light.py"", line 140, in <module>
    EFFECT_RANDOM_LOOP: yee_transitions.randomloop,
AttributeError: module 'yeelight.transitions' has no attribute 'randomloop'
2020-10-08 19:07:45 ERROR (MainThread) [homeassistant.config_entries] Error setting up entry Desk light bulb for light
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 231, in async_setup
    result = await component.async_setup_entry(hass, self)  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/light/__init__.py"", line 287, in async_setup_entry
    return await hass.data[DOMAIN].async_setup_entry(entry)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_component.py"", line 140, in async_setup_entry
    platform = await async_prepare_setup_platform(
  File ""/usr/src/homeassistant/homeassistant/setup.py"", line 298, in async_prepare_setup_platform
    platform = integration.get_platform(domain)
  File ""/usr/src/homeassistant/homeassistant/loader.py"", line 401, in get_platform
    cache[full_name] = importlib.import_module(
  File ""/usr/local/lib/python3.8/importlib/__init__.py"", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File ""<frozen importlib._bootstrap>"", line 1014, in _gcd_import
  File ""<frozen importlib._bootstrap>"", line 991, in _find_and_load
  File ""<frozen importlib._bootstrap>"", line 975, in _find_and_load_unlocked
  File ""<frozen importlib._bootstrap>"", line 671, in _load_unlocked
  File ""<frozen importlib._bootstrap_external>"", line 783, in exec_module
  File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed
  File ""/usr/src/homeassistant/homeassistant/components/yeelight/light.py"", line 140, in <module>
    EFFECT_RANDOM_LOOP: yee_transitions.randomloop,
AttributeError: module 'yeelight.transitions' has no attribute 'randomloop'
```

## Additional information

"
41416,SynologyDSMAPIErrorException if no cameras starting 0.116.0,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
After updating to HA 0.116.0, the Synology DSM integration no longer works. I was using the integration for monitoring the disks and volumes on the NAS. 
I receive the following error (note, I do not use SurveillanceStation) ad none of the sensors work anymore :

`2020-10-07 19:36:26 ERROR (MainThread) [homeassistant.config_entries] Error setting up entry 192.168.1.2 for synology_dsm`

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.116.0
- Last working Home Assistant Core release (if known): 0.115.6
- Operating environment (OS/Container/Supervised/Core): hassio
- Integration causing this issue: synology_dsm
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/synology_dsm/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
Note, I'm using the UI to do the setup, not yaml.

```yaml
synology_dsm:
  - host: IP_ADDRESS_OR_HOSTNAME_OF_SYNOLOGY_NAS
    username: YOUR_USERNAME
    password: YOUR_PASSWORD
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->
```txt
2020-10-07 19:36:26 ERROR (MainThread) [homeassistant.config_entries] Error setting up entry 192.168.1.2 for synology_dsm
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 231, in async_setup
    result = await component.async_setup_entry(hass, self)  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/__init__.py"", line 165, in async_setup_entry
    await api.async_setup()
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/__init__.py"", line 267, in async_setup
    await self.async_update()
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/__init__.py"", line 358, in async_update
    await self._hass.async_add_executor_job(self.dsm.update, self._with_information)
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/local/lib/python3.8/site-packages/synology_dsm/synology_dsm.py"", line 326, in update
    self._surveillance.update()
  File ""/usr/local/lib/python3.8/site-packages/synology_dsm/api/surveillance_station/__init__.py"", line 39, in update
    live_view_data = self._dsm.get(
  File ""/usr/local/lib/python3.8/site-packages/synology_dsm/synology_dsm.py"", line 186, in get
    return self._request(""GET"", api, method, params, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/synology_dsm/synology_dsm.py"", line 246, in _request
    raise SynologyDSMAPIErrorException(
synology_dsm.exceptions.SynologyDSMAPIErrorException: {'api': 'SYNO.SurveillanceStation.Camera', 'code': 401, 'reason': 'Invalid parameter', 'details': None}
```

## Additional information

"
41258,maxcube radiator thermostats report wrong min_temp and max_temp,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
maxcube radiator vales via the maxcube integration report 
min_temp: 0
max_temp: 0
the effect is that the thermostat cards have no sliders and the temp can't be changed
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment
Homeassistant 0.115.6
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.6
- Last working Home Assistant Core release (if known): Something around june 2020. 
- Operating environment (OS/Container/Supervised/Core): Raspberry Pi 3 Model B via latest image.
- Integration causing this issue: maxcube
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/maxcube/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
maxcube:
  gateways:
    - host: 192.168.1.124

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-10-02 15:46:13 ERROR (SyncWorker_6) [homeassistant.components.maxcube.climate] Setting target temperature failed
2020-10-02 15:46:40 ERROR (MainThread) [homeassistant.core] Error executing service: <ServiceCall climate.set_hvac_mode (c:92b612b604b511eb8149e19d39478fbd): entity_id=['climate.salon_radiador_corredera'], hvac_mode=auto>
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1331, in catch_exceptions
    await coro_or_task
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1350, in _execute_service
    await handler.func(service_call)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_component.py"", line 204, in handle_service
    await self.hass.helpers.service.entity_service_call(
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 459, in entity_service_call
    future.result()  # pop exception if have
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 655, in async_request_call
    await coro
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 490, in _handle_entity_call
    await result
  File ""/usr/src/homeassistant/homeassistant/components/climate/__init__.py"", line 430, in async_set_hvac_mode
    await self.hass.async_add_executor_job(self.set_hvac_mode, hvac_mode)
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/maxcube/climate.py"", line 164, in set_hvac_mode
    cube.set_temperature_mode(device, temp, mode)
  File ""/usr/local/lib/python3.8/site-packages/maxcube/cube.py"", line 266, in set_temperature_mode
    target_temperature = int(temperature * 2) + (mode << 6)
TypeError: unsupported operand type(s) for *: 'NoneType' and 'int'
2020-10-02 16:52:43 ERROR (MainThread) [homeassistant.components.websocket_api.http.connection.1892108248] non-hexadecimal number found in fromhex() arg at position 21
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/websocket_api/commands.py"", line 137, in handle_call_service
    await hass.services.async_call(
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1315, in async_call
    task.result()
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1350, in _execute_service
    await handler.func(service_call)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_component.py"", line 204, in handle_service
    await self.hass.helpers.service.entity_service_call(
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 459, in entity_service_call
    future.result()  # pop exception if have
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 655, in async_request_call
    await coro
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 490, in _handle_entity_call
    await result
  File ""/usr/src/homeassistant/homeassistant/components/climate/__init__.py"", line 544, in async_service_temperature_set
    await entity.async_set_temperature(**kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/climate/__init__.py"", line 404, in async_set_temperature
    await self.hass.async_add_executor_job(
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/maxcube/climate.py"", line 212, in set_temperature
    cube.set_target_temperature(device, target_temperature)
  File ""/usr/local/lib/python3.8/site-packages/maxcube/cube.py"", line 246, in set_target_temperature
    self.set_temperature_mode(thermostat, temperature, thermostat.mode)
  File ""/usr/local/lib/python3.8/site-packages/maxcube/cube.py"", line 270, in set_temperature_mode
    command = 's:' + base64.b64encode(bytearray.fromhex(byte_cmd)).decode('utf-8') + '\r\n'
ValueError: non-hexadecimal number found in fromhex() arg at position 21
```

## Additional information

"
41187,Somfy Integration with own developer account error,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem

  I get this error once Somfy is configured with my own developer account.
The API on Somfy site doesn't report any error and the setup works...but no entities found and this:



## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.6
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): Core on Raspbian (RPI4)
- Integration causing this issue: Somfy
- Link to integration documentation on our website: [here](https://www.home-assistant.io/integrations/somfy/)

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```
# Somfy
somfy:
  client_id: ***myIDfromSOMFYapi***
  client_secret: ***mySECRETfromSOMFYapi***
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
 
Logger: homeassistant.config_entries
Source: components/somfy/__init__.py:97
First occurred: 10:49:30 (1 occurrences)
Last logged: 10:49:30

Error setting up entry Configuration.yaml for somfy
Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/config_entries.py"", line 228, in async_setup
    result = await component.async_setup_entry(hass, self)  # type: ignore
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/somfy/__init__.py"", line 97, in async_setup_entry
    devices = hass.data[DOMAIN][DEVICES]
KeyError: 'devices'



Logger: homeassistant.components.somfy
Source: components/somfy/__init__.py:181
Integration: Somfy (documentation, issues)
First occurred: 10:49:30 (1 occurrences)
Last logged: 10:49:30

Cannot update devices: 404

```

## Additional information"
41140,kodi.add_to_playlist service no longer working ,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
kodi.add_to_playlist service doesn't seem to reach Kodi when called 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.1 & 0.115.6
- Last working Home Assistant Core release (if known): Unsure, stopped working around the last two major releases (0.113/0.114) 
- Operating environment (OS/Container/Supervised/Core): HassOS 4.13
- Integration causing this issue: Kodi
- Link to integration documentation on our website:  https://www.home-assistant.io/integrations/kodi/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
dreamy:
  alias: Dreamy
  sequence:
  - data:
      entity_id: media_player.kodi
      method: Playlist.Clear
      playlistid: 0
    service: kodi.call_method
  - data:                                                          <------ This part never reaches Kodi
      entity_id: media_player.kodi
      media_id: 122
      media_type: ALBUM
    service: kodi.add_to_playlist
  - data:
      entity_id: media_player.kodi
      item:
        playlistid: 0
      method: Player.Open
    service: kodi.call_method
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->
Kodi Logs 
```txt
DEBUG: JSONRPC: Incoming request: {""jsonrpc"": ""2.0"", ""method"": ""Playlist.Clear"", ""params"": {""playlistid"": 0}, ""id"": 4063150}

DEBUG: JSONRPC: Incoming request: {""jsonrpc"": ""2.0"", ""method"": ""Player.Open"", ""params"": {""item"": {""playlistid"": 0, ""position"": 0}}, ""id"": 1999082978}
```

## Additional information

This also does not work when called from developer tools"
41041,tts using oggopus broken starting since 0.115.4 and later,"## The problem
Recent changes introduced in 0.115.4 in PR #40666 to TextFrame for tagging tts audio files kills yandextts component. The later fix that was introduced in #40740 does not fix the issue as well.

Looks like this happens because yandextts uses oggopus as a default codec (_the [component page](https://www.home-assistant.io/integrations/yandextts/) says the default one is mp3 but the documentation is outdated there. please [see here](https://cloud.yandex.com/docs/speechkit/tts/request) for the uptodate codecs info_)

if switching from oggopus to lpcm - everything is working fine so it definitely must be the way that TextFrame handles oggopus files.

using version 0.115.3 and earlier also causes no issues.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.6
- Last working Home Assistant Core release (if known): 0.115.3
- Operating environment (OS/Container/Supervised/Core): Core
- Integration causing this issue: tts

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```tts:
  - platform: yandextts
    api_key: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    language: 'ru-RU'
    voice: alena
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```2020-10-01 16:07:22 ERROR (MainThread) 
[homeassistant.components.websocket_api.http.connection.140588446053808] TextFrame(encoding=<Encoding.UTF8: 3>, text=['ru-RU']) needs to be str for key 'artist'
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/websocket_api/commands.py"", line 137, in handle_call_service
    await hass.services.async_call(
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1315, in async_call
    task.result()
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1350, in _execute_service
    await handler.func(service_call)
  File ""/usr/src/homeassistant/homeassistant/components/tts/__init__.py"", line 168, in async_say_handle
    url = await tts.async_get_url(
  File ""/usr/src/homeassistant/homeassistant/components/tts/__init__.py"", line 341, in async_get_url
    filename = await self.async_get_tts_audio(
  File ""/usr/src/homeassistant/homeassistant/components/tts/__init__.py"", line 368, in async_get_tts_audio
    data = self.write_tags(filename, data, provider, message, language, options)
  File ""/usr/src/homeassistant/homeassistant/components/tts/__init__.py"", line 474, in write_tags
    tts_file.save(data_bytes)
  File ""/usr/local/lib/python3.8/site-packages/mutagen/_util.py"", line 156, in wrapper
    return func(self, h, *args, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/mutagen/ogg.py"", line 587, in save
    self.tags._inject(filething.fileobj, padding)
  File ""/usr/local/lib/python3.8/site-packages/mutagen/oggopus.py"", line 122, in _inject
    vcomment_data = b""OpusTags"" + self.write(framing=False)
  File ""/usr/local/lib/python3.8/site-packages/mutagen/_vorbis.py"", line 178, in write
    self.validate()
  File ""/usr/local/lib/python3.8/site-packages/mutagen/_vorbis.py"", line 158, in validate
    raise ValueError(err)
ValueError: TextFrame(encoding=<Encoding.UTF8: 3>, text=['ru-RU']) needs to be str for key 'artist'

```"
40985,Broadlink A1 sensor update delay,"
## The problem
i integrated broadlink A1 sensor (by broadlink e-control app) and then by home assistant Integrations.
the sensor is shown ok, temperature, light and so on
the noise sensor have 3 options: 0 (quiet) 1 (regular) 2 noisy
most of the time the sensor stuck on 1
after high noise it take forever to change to 2 - and then stay there for a lot of time
then return to 1 - and cannot change to 2 with high noise for long time
all of that made me feel the the scan interval of the sensor is not good

-->


## Environment
home assistant on VM box
Home Assistant 0.115.0

https://www.home-assistant.io/integrations/broadlink
"
40818,SimpliSafe: Unknown system state: <blank>,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
SimpliSafe is logging a strange, blank ""unknown"" state at times. See traceback.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.116.0b0
- Last working Home Assistant Core release (if known): ?
- Operating environment (OS/Container/Supervised/Core): Container
- Integration causing this issue: `simplisafe`
- Link to integration documentation on our website: http://home-assistant.io/integrations/simplisafe/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Logger: simplipy.system
Source: /usr/local/lib/python3.8/site-packages/simplipy/system/__init__.py:266 
First occurred: September 28, 2020, 6:22:30 PM (4 occurrences) 
Last logged: September 29, 2020, 10:54:07 AM

Unknown system state:
```

## Additional information

Connected to https://github.com/bachya/simplisafe-python/issues/184."
40814,Zoneminder Config Flow requires username/password,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The new zoneminder config flow is requiring a username/password.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.116b0
- Last working Home Assistant Core release (if known): 0.115.6
- Operating environment (OS/Container/Supervised/Core): Container
- Integration causing this issue: zoneminder
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/zoneminder/

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->
![image](https://user-images.githubusercontent.com/1105672/94744088-46225980-032d-11eb-9f7c-bcc9603dd43c.png)


## Additional information

"
40810,Shelly devices not reconnecting after router reboot ,"## The problem
Using the new Shelly integration, devices are listed as  unavailable after the WifI router is restarted.

My router gets restarted each night and the Shelly devices are not reconnected. Only an HA restart resolves the issue.

The Shelly devices are fully accessible via ther IP addresses after the router reboot. No other network anomalies are occuring.

## Environment

- Home Assistant Core release with the issue: 0.115.5
- Last working Home Assistant Core release (if known): N/A
- Operating environment (OS/Container/Supervised/Core): HassOS 4.13
- Integration causing this issue: shelly
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/shelly/

## Problem-relevant `configuration.yaml`
Standard config flow implementation

## Traceback/Error logs
No log entries.

## Additional information"
40771,Smartthings Integration Not Authorizing,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.


-->
I'm unable to link Smartthings after an SD card failure. When I go to install the integration and the ""Authorize Home Assistant"" page comes up, it opens a new page that throws this error:

`{""requestId"":""ee96c3f4-9c4a-adbb-b0e6-b6c2bd0f9a37"",""error"":{""code"":""UnexpectedError"",""message"":""A non-recoverable error condition occurred."",""details"":[]}}`

I checked my SSL and it's working fine. The webhook address is fine and I am able to select my location after putting in the token. It worked fine until today when I had to start over with Home Assistant. I flashed a new card with HASSio and wiped and installed a backup from earlier in the day when it was working.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.5
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): HassOS 4.12
- Integration causing this issue: 
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
40717,Unable to sync devices with google_assistant,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I have been using the google_assistant component flawlessly for over a year now, however within the last 2 months, I have been unable to sync new devices. I attempted to delete my google project and start from scratch, but the issue persists even with the latest update.

The issue seems to be with the following line in the google_assistant component: https://github.com/home-assistant/core/blob/e5e6dda04fb42db057caaef99442002bd92c17b6/homeassistant/components/google_assistant/trait.py#L214

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.3
- Last working Home Assistant Core release (if known): ?
- Operating environment (OS/Container/Supervised/Core): Container (Docker)
- Integration causing this issue: google_assistant
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/google_assistant/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
google_assistant:
  project_id: redacted
  service_account: !include 'google_assistant.json'
  expose_by_default: true
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
20│2020-09-28 12:52:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Unexpected error                                                                                                                                                                                                         │
20│Traceback (most recent call last):                                                                                                                                                                                                                                                                                     │
00│  File ""/usr/src/homeassistant/homeassistant/components/google_assistant/smart_home.py"", line 57, in _process                                                                                                                                                                                                          │2520│    result = await handler(hass, data, inputs[0].get(""payload""))                                                                                                                                                                                                                                                       │
20│  File ""/usr/src/homeassistant/homeassistant/components/google_assistant/smart_home.py"", line 86, in async_devices_sync                                                                                                                                                                                                │
20│    entities = async_get_entities(hass, data.config)                                                                                                                                                                                                                                                                   │
20│  File ""/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py"", line 542, in async_get_entities                                                                                                                                                                                                  │
20│    if entity.is_supported():                                                                                                                                                                                                                                                                                          │
20│  File ""/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py"", line 375, in is_supported                                                                                                                                                                                                        │
20│    return bool(self.traits())                                                                                                                                                                                                                                                                                         │
20│  File ""/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py"", line 348, in traits                                                                                                                                                                                                              │
20│    self._traits = [                                                                                                                                                                                                                                                                                                   │
20│  File ""/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py"", line 351, in <listcomp>                                                                                                                                                                                                          │
20│    if Trait.supported(domain, features, device_class)                                                                                                                                                                                                                                                                 │
20│  File ""/usr/src/homeassistant/homeassistant/components/google_assistant/trait.py"", line 214, in supported                                                                                                                                                                                                             │
20│    return features & light.SUPPORT_BRIGHTNESS                                                                                                                                                                                                                                                                         │
20│TypeError: unsupported operand type(s) for &: 'str' and 'int'                                                                                                                                                                                                                                                          │
20│2020-09-28 12:52:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error handling message {'inputs': [{'intent': 'action.devices.SYNC'}], 'requestId': '13738726204471329798'}: {'errorCode': 'unknownError'}                                                                               │
20│2020-09-28 12:52:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Unexpected error                                                                                                                                                                                                         │
20│Traceback (most recent call last):                                                                                                                                                                                                                                                                                     │
20│  File ""/usr/src/homeassistant/homeassistant/components/google_assistant/smart_home.py"", line 57, in _process                                                                                                                                                                                                          │
20│    result = await handler(hass, data, inputs[0].get(""payload""))                                                                                                                                                                                                                                                       │
20│  File ""/usr/src/homeassistant/homeassistant/components/google_assistant/smart_home.py"", line 86, in async_devices_sync                                                                                                                                                                                                │
20│    entities = async_get_entities(hass, data.config)                                                                                                                                                                                                                                                                   │
20│  File ""/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py"", line 542, in async_get_entities                                                                                                                                                                                                  │
20│    if entity.is_supported():                                                                                                                                                                                                                                                                                          │
20│  File ""/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py"", line 375, in is_supported                                                                                                                                                                                                        │
20│    return bool(self.traits())                                                                                                                                                                                                                                                                                         │
20│  File ""/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py"", line 348, in traits                                                                                                                                                                                                              │
20│    self._traits = [                                                                                                                                                                                                                                                                                                   │
20│  File ""/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py"", line 351, in <listcomp>                                                                                                                                                                                                          │
20│    if Trait.supported(domain, features, device_class)                                                                                                                                                                                                                                                                 │
20│  File ""/usr/src/homeassistant/homeassistant/components/google_assistant/trait.py"", line 214, in supported                                                                                                                                                                                                             │
20│    return features & light.SUPPORT_BRIGHTNESS                                                                                                                                                                                                                                                                         │
20│TypeError: unsupported operand type(s) for &: 'str' and 'int'                                                                                                                                                                                                                                                          │
20│2020-09-28 12:52:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error handling message {'inputs': [{'intent': 'action.devices.SYNC'}], 'requestId': '8218638136097459616'}: {'errorCode': 'unknownError'}
```

## Additional information

"
40669,Netatmo Weather: Negative wind direction reported,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The Netatmo Integration reports a negative wind direction (e.g. -1°) for my wind sensor module.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.3
- Last working Home Assistant Core release (if known): -
- Operating environment (OS/Container/Supervised/Core): Supervised
- Integration causing this issue: Netatmo (Weather)
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/netatmo/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
# Netatmo component
netatmo:
  client_id: !secret netatmo_api_key
  client_secret: !secret netatmo_secret_key
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
-
```

## Additional information
The negative angle could cause problems in some automations which would expect a positive value. Additionaly since the last release the wind-direction is now provided as a string as well as the exact angle. This also could mess up the string. It looks like the data is provied wrong by netatmo in the first place, but until they fix it it would be great to handle this in HA until then."
40631,Gogogate2 integration becoming unavailable many times per day,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Gogogate2 integration is till becoming unavailable many times per day, same as https://github.com/home-assistant/core/issues/38379 that was closed recently. Once unavailable after 5 seconds (usually) it comes back online.
The gogogate2 app does not experience any disconnects and wifi signal is strong

![image](https://user-images.githubusercontent.com/17740184/94346749-a449f680-0026-11eb-9323-fb044485b8b6.png)



Can the timeouts/retries be increased further to resolve perhaps?

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->


- Home Assistant Core release with the issue: 0.115.3 
- Last working Home Assistant Core release (if known): Pre 0.114.0
- Operating environment (OS/Container/Supervised/Core): Docker
- Integration causing this issue: Gogogate2
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/gogogate2/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
N/A, configured from integrations page

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-09-26 18:22:49 ERROR (MainThread) [homeassistant.components.gogogate2.common] Error fetching gogogate2 data: Error communicating with API: 
2020-09-26 18:23:10 INFO (MainThread) [homeassistant.components.gogogate2.common] Fetching gogogate2 data recovered
```

## Additional information

"
40588,Neurio not working,"## The problem

Since a few weeks the Neurio (now called PWRview) component has stopped working for me. I suspect it's due to their move to Generac. I checked the API key and secret and both are correct.

## Environment

- Version 0.115.3
- Ubuntu 20.04
- https://www.home-assistant.io/integrations/neurio_energy/

## Problem-relevant `configuration.yaml`

```yaml
- platform: neurio_energy
  api_key: !secret neurio_api_key
  api_secret: !secret neurio_api_secret
```

## Traceback/Error logs

```txt
Logger: homeassistant.components.sensor
Source: components/neurio_energy/sensor.py:83
Integration: Sensor (documentation, issues)
First occurred: 12:24:46 PM (1 occurrences)
Last logged: 12:24:46 PM

Error while setting up neurio_energy platform for sensor
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 193, in _async_setup_platform
    await asyncio.shield(task)
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/neurio_energy/sensor.py"", line 47, in setup_platform
    data = NeurioData(api_key, api_secret, sensor_id)
  File ""/usr/src/homeassistant/homeassistant/components/neurio_energy/sensor.py"", line 83, in __init__
    self.neurio_client = neurio.Client(token_provider=neurio_tp)
  File ""/usr/local/lib/python3.8/site-packages/neurio/__init__.py"", line 96, in __init__
    self.__token = token_provider.get_token()
  File ""/usr/local/lib/python3.8/site-packages/neurio/__init__.py"", line 77, in get_token
    self.__token = r.json()[""access_token""]
KeyError: 'access_token'
```

## Additional information

Unfortunately I have very little Python experience to try to debug and fix it myself :-("
40552,Vesync fan speed,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
The new vesync integration for the Levoit fan LV-PUR131 isn't behaving as expected with regards to fan speed, the home assistant settings don't match up with the actual fan settings.

HA Setting | Fan action
------------ | -------------
auto | auto
off | fan goes to low and turns off
low | medium
medium | high
high | nothing

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 115.2
- Last working Home Assistant Core release (if known):  N/A
- Operating environment (OS/Container/Supervised/Core): Hassio
- Integration causing this issue: vesync
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/vesync/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

This integration was setup with the UI.

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
40543,New firmware breaks the Plugwise integration,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Due to a new firmware-release for the Plugwise Adam, the Plugwise integration is no longer working.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.2
- Last working Home Assistant Core release (if known): 0.115.2
- Operating environment (OS/Container/Supervised/Core): hassio
- Integration causing this issue: Plugwise
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/plugwise/

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->
Message in Logs:
```
Your version Smile identified as smile_open_therm_v32 seems unsupported by our plugin, please create an issue on github.com/plugwise/Plugwise-Smile!\
```

"
40529,DSMR over IP is not picking up anymore ,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  After upgrading from Home Assistant 0.114 to 0.115.2, my DSMR reading integration does not work anymore. The sensors within the group that I have, are having state""unknown"" and i can't fix it.
-->
  After upgrading from Home Assistant 0.114 to 0.115.2, my DSMR reading integration does not work anymore. The sensors within the group that I have, are having state""unknown"" and i can't fix it.

## Environment
<!--

arch | x86_64
-- | --
chassis | vm
dev | false
docker | true
docker_version | 19.03.11
hassio | true
host_os | HassOS 4.13
installation_type | Home Assistant OS
os_name | Linux
os_version | 5.4.63
python_version | 3.8.5
supervisor | 245
timezone | Europe/Amsterdam
version | 0.115.2
virtualenv | false

-->

- Home Assistant Core release with the issue:  0.115.2
- Last working Home Assistant Core release (if known): 0.114
- Integration causing this issue: DSMR 
- Link to integration documentation on our website:  https://www.home-assistant.io/integrations/dsmr/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
CONFIG
```
group: !include groups.yaml

sensor:
  - platform: dsmr
    host: 192.168.68.145
    port: 8088
    dsmr_version: 5
    reconnect_interval: 5


```
groups.yaml
```
meter_readings:
  name: Meter readings
  entities:
    - sensor.power_consumption_low
    - sensor.power_consumption_normal
    - sensor.power_production_low
    - sensor.power_production_normal
    - sensor.gas_consumption

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
state = unknown at developer tools, states, group.meter_readings,

```

## Additional information

"
40517,Fitbit component not starting,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
I am trying to use the Fitbit integration again after over a year of not using it.  I have it added to my configuration but on start up I get an error about NoURLAvailableError.  It looks like the recent change in [https://github.com/home-assistant/core/commit/5fd059a3b63cf00943fe7434d72d0c4da9f66bce#diff-37ce723fa98b838866f341fce3a0528b](url) adding the require_current_request=True causes it to break because it is being called in the init and there is no current request to the front end.




## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.2
- Last working Home Assistant Core release (if known): unknown just tried setting it up
- Operating environment (OS/Container/Supervised/Core): Docker container (homeassistant/home-assistant:latest)
- Integration causing this issue: fitbit
- Link to integration documentation on our website: [https://www.home-assistant.io/integrations/fitbit/](url)

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
sensor:
  - platform: fitbit
    clock_format: 12H
    unit_system: 'en_US'
    monitored_resources:
      - 'body/weight'
      - 'devices/battery'
      - 'activities/steps'
      - 'sleep/minutesAsleep'
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Logger: homeassistant.components.sensor
Source: helpers/network.py:43
Integration: Sensor (documentation, issues)
First occurred: 0:25:40 (1 occurrences)
Last logged: 0:25:40

Error while setting up fitbit platform for sensor
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 193, in _async_setup_platform
    await asyncio.shield(task)
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/fitbit/sensor.py"", line 249, in setup_platform
    request_app_setup(hass, config, add_entities, config_path, discovery_info=None)
  File ""/usr/src/homeassistant/homeassistant/components/fitbit/sensor.py"", line 189, in request_app_setup
    f""{get_url(hass, require_current_request=True)}{FITBIT_AUTH_CALLBACK_PATH}""
  File ""/usr/src/homeassistant/homeassistant/helpers/network.py"", line 43, in get_url
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
```

## Additional information

"
40487,Panasonic Viera TV integration: Issue with TX-65CX700,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Installed Panasonic Viera Integration and connected with my TV. I can put my Panasonic TV via entity control on, but no more off because the entity control on my dashboard is ""grey"" and the entity status is ""unavailable"".
If I do a ""restart"" via Server Controls -> Server management -> Restart, then I can switch the TV off again via entity control on my dashboard (but not more on, because it's again grey)

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.2 (Version 245, Beta channel)
- Last working Home Assistant Core release (if known): -
- Operating environment (OS/Container/Supervised/Core): Home Assistant (on RPi4)
- Integration causing this issue: Panasonic Viera
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/panasonic_viera

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```

# Configure a default setup of Home Assistant (frontend, api, etc)
default_config:

# Text to speech
tts:
  - platform: google_translate

group: !include groups.yaml
automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml

# HomeMatic
homematic:
  interfaces:
    Funk:
      host: 192.168.0.X
      port: 2001
      resolvenames: json
      username: Admin
      password: XXX
    HMIP:
      host: 192.168.0.X
      port: 2010
      resolvenames: json
      username: Admin
      password: XXX
    Wired:
      host: 192.168.0.X
      port: 2000
      resolvenames: json
      username: Admin
      password: XXX
    groups:
      host: 192.168.0.X
      port: 9292
      resolvenames: json
      username: Admin
      password: XXX
      path: /groups
  hosts:
    ccu2:
      host: 192.168.0.X
      username: Admin
      password: XXX

# Bose
media_player:
  - platform: soundtouch
    host: 192.168.0.X
    port: 8090
    name: Bose Soundtouch 300

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information
"
40482,With 0.115 kodi.call_method calls only work a few minutes after Kodi has started,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
After updating to HA 0.115 Kodi integration does not react immediately to service calls (kodi.call_method) after Kodi is started. It takes ~2 minutes before any kodi.call_method service call is working even if Kodi is already up and running.

With previous version 0.114.4 these service calls where possible immediately after Kodi has finished starting.

The YAML configuration for Kodi was removed completely from configuration.yaml. And integration was done as explained in the documentation (via integrations page).

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Kodi Version: LibreElec 9.2.4

- Home Assistant Core release with the issue: 0.115.2
- Last working Home Assistant Core release (if known): 0.114.4
- Operating environment (OS/Container/Supervised/Core): Container (on Synology NAS)
- Integration causing this issue: Kodi
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/kodi/

## Problem-relevant `configuration.yaml`
Since all configuration.yaml entries for Kodi are removed nothing to add here.
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->
If kodi.call_method is exectued within the the first ~2min after kodi has started in the log i can see following warnings. After ~2min all kodi.call_method calls are working without any issue.

```txt
WARNING (MainThread) [homeassistant.components.kodi.media_player] TransportError trying to run API method media_player.kodi_libreelec_local.Input.Down({})
```

## Additional information

"
40434,Alexa fails to control LG TV volume with soundbar,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I have an LG Smart TV which is integrated in Home Assistant. I also have a few Amazon Echo which are also integrated in HA.

Thus, I can control the LG TV with ""Alexa, turn tv volume up/down"" without any problems, or using the `media_player.volume_up` or `media_player.volume_down` services.

My TV is connected to an LG Soundbar via HDMI CEC, and this is where this issue is: **if I set the soundbar as the default sound output, the media player volume services work flawlessly, however the Alexa volume commands don't do anything at all!**

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.1
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): Container
- Integration causing this issue: webostv
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/webostv

## Additional information

I believe the issue is due to the fact that the TV is reporting `sound_output: external_speaker` and `supported_features: 20413`, meaning that it has the `SUPPORT_VOLUME_SET` flag set when in fact it cannot do that on an external speaker such as this one.

I've tested this theory by editing this line https://github.com/home-assistant/core/blob/5e90a4d000f4db4975b5f5db1de2b838121a5220/homeassistant/components/webostv/media_player.py#L308 and changing from ""external_arc"" to ""external_speaker"", deleting the TV from the alexa app and adding (discovering) it again, and then it started working fine!

I had previously opened this issue against the alexa integration (https://github.com/home-assistant/core/issues/40257), but from the above I now know this is a webostv integration problem"
40408,Gogogate2 integration becoming unavailable many times per day,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Gogogate2 integration is till becoming unavailable many times per day, same as https://github.com/home-assistant/core/issues/38379 that was closed recently. Once unavailable after 5 seconds (usually) it comes back online.
The gogogate2 app does not experience any disconnects and wifi signal is strong

![image](https://user-images.githubusercontent.com/17740184/93760836-a403c280-fc04-11ea-8432-a4876269fa87.png)


Can the timeouts/retries be increased further to resolve perhaps?

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->


- Home Assistant Core release with the issue: 0.115.2 
- Last working Home Assistant Core release (if known): Pre 0.114.0
- Operating environment (OS/Container/Supervised/Core): Docker
- Integration causing this issue: Gogogate2
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/gogogate2/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
N/A, configured from integrations page

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-09-21 12:01:02 ERROR (MainThread) [homeassistant.components.gogogate2.common] Error fetching gogogate2 data: Error communicating with API: 
2020-09-21 12:01:07 INFO (MainThread) [homeassistant.components.gogogate2.common] Fetching gogogate2 data recovered
```

## Additional information

"
40392,Modbus : coil index out of range (switch component) - 0.115.2,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

 Since upgrading to 0.115.2 with this fixed: https://github.com/home-assistant/core/issues/38145, I am getting out of range errors for the coils. I have ensured all coils exist on the PLC (which PyModbus communicates with). 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 
0.115.2
- Last working Home Assistant Core release (if known): 
0.115.1 (coil reads broken: https://github.com/home-assistant/core/issues/38145)
- Operating environment (OS/Container/Supervised/Core): 
OS
- Integration causing this issue: 
MODBUS
- Link to integration documentation on our website: 
https://www.home-assistant.io/integrations/modbus/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
binary_sensor:
  - platform: modbus
    scan_interval: 2
    inputs:
      - name: High High Temperature - Cabinet Alarm
        hub: Skylight Controller
        slave: 1
        address: 800
      - name: High Temperature - Cabinet Alarm
        hub: Skylight Controller
        slave: 1
        address: 801
      - name: Low Temperature - Cabinet Alarm
        hub: Skylight Controller
        slave: 1
        address: 802
      - name: High High Humidity - Cabinet Alarm
        hub: Skylight Controller
        slave: 1
        address: 816
      - name: High Humidity - Cabinet Alarm
        hub: Skylight Controller
        slave: 1
        address: 817
      - name: Low Humidity - Cabinet Alarm
        hub: Skylight Controller
        slave: 1
        address: 818
      - name: Bathroom Skylight Window - Open 
        hub: Skylight Controller
        slave: 1
        address: 145
      - name: Ensuite Skylight Window - Open 
        hub: Skylight Controller
        slave: 1
        address: 146


#Modbus TCP Connection (Siemens LOGO!)
modbus:
  - name: Skylight Controller
    type: tcp
    host: 192.168.80.155
    port: 502
  - name: Curtain Controller
    type: serial
    method: rtu
    port: /dev/serial/by-id/usb-www.freetronics.com_0003_95437313934351505191-if00
    baudrate: 9600
    stopbits: 1
    bytesize: 8
    parity: N
    timeout: 10

switch:

    # Modbus - PLC Cabinet
  - platform: modbus
    coils:
    # Climate Stats (Resets)
    - name: ""PLC Cabinet Daily Temperature Reset""
      hub: Skylight Controller
      slave: 1
      coil: 83
    - name: ""PLC Cabinet Daily Humidity Reset""
      hub: Skylight Controller
      slave: 1
      coil: 86
    - name: ""PLC Cabinet Maximum Daily Temperature Reset""
      hub: Skylight Controller
      slave: 1
      coil: 881
    - name: ""PLC Cabinet Minimum Daily Temperature Reset""
      hub: Skylight Controller
      slave: 1
      coil: 882
    - name: ""PLC Cabinet Maximum Daily Humidity Reset""
      hub: Skylight Controller
      slave: 1
      coil: 883
    - name: ""PLC Cabinet Minimum Daily Humidity Reset""
      hub: Skylight Controller
      slave: 1
      coil: 884
    ##DISABLED (UNUSED)
    #- name: ""PLC Cabinet Maximum Humidity Reset""
    #  hub: Skylight Controller
    #  slave: 1
    #  coil: 84
    ##DISABLED (UNUSED)
    #- name: ""PLC Cabinet Minimum Humidity Reset""
    #  hub: Skylight Controller
    #  slave: 1
    #  coil: 85
    ##DISABLED (UNUSED)
    #- name: ""PLC Cabinet Maximum Temperature Reset""
    #  hub: Skylight Controller
    #  slave: 1
    #  coil: 81
    ##DISABLED (UNUSED)
    #- name: ""PLC Cabinet Minimum Temperature Reset""
    #  hub: Skylight Controller
    #  slave: 1
    #  coil: 82

      # Skylight Control
    - name: ""PLC Cabinet Service Mode (Remote Activate)""
      hub: Skylight Controller
      slave: 1
      coil: 97

    - name: ""Skylight Control - All UP""
      hub: Skylight Controller
      slave: 1
      coil: 98

    - name: ""Skylight Control - All Down""
      hub: Skylight Controller
      slave: 1
      coil: 99

      # Individual Skylight Control
    - name: ""Skylight Control - Bathroom UP""
      hub: Skylight Controller
      slave: 1
      coil: 113

    - name: ""Skylight Control - Bathroom Down""
      hub: Skylight Controller
      slave: 1
      coil: 114

    - name: ""Skylight Control - Ensuite UP""
      hub: Skylight Controller
      slave: 1
      coil: 115

    - name: ""Skylight Control - Ensuite Down""
      hub: Skylight Controller
      slave: 1
      coil: 116

      # Skylight Time Set
    - name: ""Skylight Control - Ensuite On Time Set""
      hub: Skylight Controller
      slave: 1
      coil: 130

    - name: ""Skylight Control - Ensuite Off Time Set""
      hub: Skylight Controller
      slave: 1
      coil: 132

    - name: ""Skylight Control - Bathroom On Time Set""
      hub: Skylight Controller
      slave: 1
      coil: 129

    - name: ""Skylight Control - Bathroom Off Time Set""
      hub: Skylight Controller
      slave: 1
      coil: 131

      # Flow Totals Reset
    - name: ""Water Flow Totals - Daily Reset""
      hub: Skylight Controller
      slave: 1
      coil: 1600

    - name: ""Water Flow Totals - Monthly Reset""
      hub: Skylight Controller
      slave: 1
      coil: 1601

    - name: ""Water Flow Totals - Yearly Reset""
      hub: Skylight Controller
      slave: 1
      coil: 1602

      #Curtain Controller
    - name: ""Bedroom Curtain - UP""
      hub: Curtain Controller
      slave: 1
      coil: 0

    - name: ""Bedroom Curtain - Down""
      hub: Curtain Controller
      slave: 1
      coil: 1

    - name: ""Bedroom Curtain - Stop""
      hub: Curtain Controller
      slave: 1
      coil: 2



```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->


Logger: homeassistant.helpers.entity
--
  | Source: components/modbus/switch.py:174
  | First occurred: 15:47:30 (740 occurrences)
  | Last logged: 16:05:30
  |  
  | Update for switch.skylight_control_bathroom_on_time_set fails
  | Update for switch.skylight_control_bathroom_off_time_set fails
  | Update for switch.water_flow_totals_daily_reset fails
  | Update for switch.water_flow_totals_monthly_reset fails
  | Update for switch.water_flow_totals_yearly_reset fails
  | Traceback (most recent call last):
  | File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 278, in async_update_ha_state
  | await self.async_device_update()
  | File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 471, in async_device_update
  | await self.hass.async_add_executor_job(self.update)  # type: ignore
  | File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
  | result = self.fn(*self.args, **self.kwargs)
  | File ""/usr/src/homeassistant/homeassistant/components/modbus/switch.py"", line 159, in update
  | self._is_on = self._read_coil(self._coil)
  | File ""/usr/src/homeassistant/homeassistant/components/modbus/switch.py"", line 174, in _read_coil
  | return bool(result.bits[coil])
  | IndexError: list index out of range



```

## Additional information
N/A
"
40370,luci device_tracker fix from 0.115.x incorrectly reports devices status,"## The problem
I use this add-on to check the state of tv/sat/audio and many other devices.

My main openwrt device is a hp t5730 with old OpenWrt 18.06.1
and serves the network for cable devices via 1G switch
a TPLink(19.07.4) lan <-> wifi bridge is also connected to this switch.

So...luci-device-tracker is associated with the main cable router which is the dhcp server...
and everything was working fine until this: https://github.com/home-assistant/core/pull/40160.
From 0.115, some of my automations suddenly went crazy! and this applies to all devices, connected by cable and wifi
every ~2 minutes their status changed home/away/home etc...

Today i found this: https://github.com/home-assistant/core/pull/40160 and at 21:10 I removed the fix temporarily and everything seems to be working fine again!

![zoom](https://user-images.githubusercontent.com/4134851/93721248-e985a880-fb8e-11ea-8ba0-7a352ea63612.jpg)

![Clipboard01](https://user-images.githubusercontent.com/4134851/93721250-ec809900-fb8e-11ea-8c9f-e63b8c16e142.jpg)

P.S.
The fact that some devices remains in the dhcp table (after they physically disappear) I solved some time ago on openwrt router
via shell script which every 5 minutes (from crontab) performs a ping for all devices on my subnet.
This has completely eliminated reporting devices at HOME that are physically no longer in the network.
```
for i in $(seq 1 253)
do
  (ping 192.168.0.$i -c 1 -w 5  >/dev/null && echo ""192.168.0.$i"" &);
done

```
so it's not an add-on problem itself

## Environment
1 | 2
-- | --
arch | armv7l
dev | false
docker | false
hassio | false
installation_type | Home Assistant Core
os_name | Linux
os_version | 5.4.51-v7+
python_version | 3.7.3
timezone | Europe/Warsaw
version | 0.115.2
virtualenv | true

- Home Assistant Core release with the issue:  1.115.x
- Last working Home Assistant Core release (if known): 1.114.x
- Integration causing this issue: luci device_tracker
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/luci/
"
40363,Web based Kodi configuration does not handle no ws_port correctly,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

Upgraded to 0.115.2 and decided to switch my Kodi configuration over from YAML to the new web based hotness. Configuration took a long time to progress between configuration screens and when complete did not show any devices. Looking at the log showed a lot of:

`Sep 20 11:09:07 hass hass[5586]: 2020-09-20 11:09:07 WARNING (MainThread) [homeassistant.config_entries] Config entry for kodi not ready yet. Retrying in 5 seconds`

entries. Further investigation showed that Home Assistant was trying to connect to port 80 on the Kodi server, which is not open. Digging through the code I realised the problem is my Kodi instance does not current have the WS_PORT configured; this was working fine in the YAML setup, but with the web based configuration it gets set to 0. This then gets passed through to pykodi which tries a KodiWSConnection - in order to fall back to a plain HTTP connection ws_port needs to be set to `None`. Hard coding the passed in port to `None` in `homeassistant/components/kodi/__init__.py:async_setup_entry` fixed the issue.

I suspect the right fix is to pass None in if the port is set to 0. Clearing the port definition from the config json just resulted in a:

```
Sep 20 12:40:57 hass hass[6071]: KeyError: 'ws_port'
Sep 20 12:40:57 hass hass[6071]:     entry.data[CONF_WS_PORT],
```

error due to the lack of the `ws_port` entry.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.2
- Last working Home Assistant Core release (if known): Uknown, I was previously using YAML configuration
- Operating environment (OS/Container/Supervised/Core): Debian Buster with Home Assistant in virtualenv
- Integration causing this issue: kodi
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
N/A - this was web based config
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
40338,AXIS integration fails - module 'packaging' missing,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
AXIS integration fails to load in some installations. It complains that module 'packaging' is missing. It can be corrected by installing the module 'packaging' manually in the venv by ""pip install packaging"".
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->
Running in a venv

- Home Assistant Core release with the issue: 0.115.2
- Last working Home Assistant Core release (if known): 0.114.4 
- Operating environment (OS/Container/Supervised/Core): Core
- Integration causing this issue: Axis
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-09-20 11:36:19 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/config_entries.py"", line 527, in async_create_flow
    integration.get_platform(""config_flow"")
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/loader.py"", line 402, in get_platform
    f""{self.pkg_path}.{platform_name}""
  File ""/usr/lib/python3.7/importlib/__init__.py"", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File ""<frozen importlib._bootstrap>"", line 1006, in _gcd_import
  File ""<frozen importlib._bootstrap>"", line 983, in _find_and_load
  File ""<frozen importlib._bootstrap>"", line 953, in _find_and_load_unlocked
  File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed
  File ""<frozen importlib._bootstrap>"", line 1006, in _gcd_import
  File ""<frozen importlib._bootstrap>"", line 983, in _find_and_load
  File ""<frozen importlib._bootstrap>"", line 967, in _find_and_load_unlocked
  File ""<frozen importlib._bootstrap>"", line 677, in _load_unlocked
  File ""<frozen importlib._bootstrap_external>"", line 728, in exec_module
  File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/axis/__init__.py"", line 8, in <module>
    from .device import AxisNetworkDevice
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/axis/device.py"", line 6, in <module>
    import axis
  File ""/srv/homeassistant/lib/python3.7/site-packages/axis/__init__.py"", line 1, in <module>
    from .device import AxisDevice
  File ""/srv/homeassistant/lib/python3.7/site-packages/axis/device.py"", line 6, in <module>
    from .vapix import Vapix
  File ""/srv/homeassistant/lib/python3.7/site-packages/axis/vapix.py"", line 5, in <module>
    from packaging import version
ModuleNotFoundError: No module named 'packaging'


```

## Additional information

"
40325,Met.no fails to setup,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Setup of Met.no fails through the UI. Weather domain and entities are not created.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.2 (same issue on 0.115.1)
- Last working Home Assistant Core release (if known): Don't know. Previously had the yr integration through yaml.
- Operating environment (OS/Container/Supervised/Core): Core ( on an Ubuntu 20.04.1 LTS box)
- Integration causing this issue: Met.no
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/met/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

(no yaml config)

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
Logger: homeassistant.components.weather
Source: components/met/weather.py:218
Integration: Weather (documentation, issues)
First occurred: 7:19:15 PM (2 occurrences)
Last logged: 7:21:55 PM
Error while setting up met platform for weather

Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.8/site-packages/homeassistant/helpers/entity_platform.py"", line 201, in _async_setup_platform
    await asyncio.gather(*pending)
  File ""/srv/homeassistant/lib/python3.8/site-packages/homeassistant/helpers/entity_platform.py"", line 310, in async_add_entities
    await asyncio.gather(*tasks)
  File ""/srv/homeassistant/lib/python3.8/site-packages/homeassistant/helpers/entity_platform.py"", line 481, in _async_add_entity
    await entity.add_to_platform_finish()
  File ""/srv/homeassistant/lib/python3.8/site-packages/homeassistant/helpers/entity.py"", line 522, in add_to_platform_finish
    self.async_write_ha_state()
  File ""/srv/homeassistant/lib/python3.8/site-packages/homeassistant/helpers/entity.py"", line 296, in async_write_ha_state
    self._async_write_ha_state()
  File ""/srv/homeassistant/lib/python3.8/site-packages/homeassistant/helpers/entity.py"", line 322, in _async_write_ha_state
    attr.update(self.state_attributes or {})
  File ""/srv/homeassistant/lib/python3.8/site-packages/homeassistant/components/weather/__init__.py"", line 177, in state_attributes
    if self.forecast is not None:
  File ""/srv/homeassistant/lib/python3.8/site-packages/homeassistant/components/met/weather.py"", line 218, in forecast
    ha_item[ATTR_FORECAST_CONDITION]
KeyError: 'condition'

```

## Additional information

"
40268,Yeelight Integration uses SSDP even when adding device by IP,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
In 0.115.0, the Yeelight Integration was updated (see https://github.com/home-assistant/core/pull/37191) to use SSDP instead of mDNS discovery. This change, however, also introduced a new behavior, in which the capabilities of a configured device are retrieved on startup.

This capability discovery process is also done via SSDP, which means that the integration can no longer be used in setups where SSDP is unavailable, even when specifying the IP Address of the bulb (in my specific case, I have the bulb in another VLAN, which doesn't get Multicast traffic, and I'm not running Home Assistant with Host Networking enabled), resulting in a connection error.

Given this process is used to find the model and ID of the light (which are specified in the `configuration.yml`), it should be optional (as it used to be prior to 0.115.0).

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.0, 0.115.1
- Last working Home Assistant Core release (if known): 0.114.4
- Operating environment (OS/Container/Supervised/Core): Container (without Host Networking)
- Integration causing this issue: Yeelight
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/yeelight/
- Network setup: Home Assistant running on ""core"" VLAN and bulb in an isolated IoT-specific VLAN

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
yeelight:
   devices:
    10.142.50.18:
      name: Office Ceiling
      model: RGBW
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
ERROR (MainThread) [homeassistant.components.yeelight.config_flow] Failed to get capabilities from 10.142.50.18: timeout
```

## Additional information

Punching a few holes through the firewall so the Multicast traffic (and corresponding response) can flow through, and enabling Host Networking on the Home Assistant container restore the previous behavior."
40266,Google Pub/Sub component not working,"## The problem
  Configuration errors setting Gcloud Pub/sub



## Environment
  

arch | armv7l
-- | --
chassis | embedded
dev | false
docker | true
docker_version | 19.03.11
hassio | true
host_os | HassOS 4.13
installation_type | Home Assistant OS
os_name | Linux
os_version | 4.19.127-v7
python_version | 3.8.5
supervisor | 245
timezone | America/Bogota
version | 0.115.0
virtualenv | false




- Home Assistant Core release with the issue: 0.115
- Last working Home Assistant Core release (if known): -
- Operating environment (OS/Container/Supervised/Core):  HassOS
- Integration causing this issue: Google Pub/Sub
- Link to integration documentation on our website:  https://www.home-assistant.io/integrations/google_pubsub

## Problem-relevant `configuration.yaml`

```
google_pubsub:
  project_id: imp*****
  topic_name: start-instance-event
  credentials_json: *****.json
  filter:
    include_entity_globs:
      - input_boolean.*_server
```

## Traceback/Error logs

```
Component error: google_pubsub - Error relocating /usr/local/lib/python3.8/site-packages/grpc/_cython/cygrpc.cpython-38-arm-linux-gnueabihf.so: backtrace: symbol not found

```


"
40233,0.115 SolarEdge integration is working very unstable,"## The problem
After upgrading to HA 0.115 from 0.114.4 SolarEdge integration is working very unstable. I get errors in HA logs with info that update fails eventhough when I go to https://monitoringapi.solaredge.com/site/MY_SITE_ID/overview?api_key=MY_KEY i get info without any errors


## Environment
I am using HASSIO on RPi3

- Home Assistant Core release with the issue:  0.115
- Last working Home Assistant Core release (if known): 0.114.4
- Operating environment (OS/Container/Supervised/Core): HASSIO
- Integration causing this issue: SolarEdge 
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/solaredge/

## Problem-relevant `configuration.yaml`
Done  via UI

## Traceback/Error logs

```
2020-09-18 11:28:31 ERROR (MainThread) [homeassistant.components.solaredge.sensor] Could not retrieve details from SolarEdge API
(when booting)

(and the when readding integration)
Logger: homeassistant.helpers.entity
Source: components/solaredge/sensor.py:270
First occurred: 11:38:00 (1 occurrences)
Last logged: 11:38:00
Update for sensor.solaredge_storage_level fails

Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 278, in async_update_ha_state
    await self.async_device_update()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 471, in async_device_update
    await self.hass.async_add_executor_job(self.update)  # type: ignore
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/solaredge/sensor.py"", line 270, in update
    self._state = attr[""soc""]
TypeError: 'NoneType' object is not subscriptable
```

## Additional information

"
40232,After update 0.115 Update of binary_sensor.status_ps4 is taking over 10 seconds all ping sensors.,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
After update 0.105 Update of binary_sensor.status_ps4 is taking over 10 seconds etc.

![image](https://user-images.githubusercontent.com/59237288/93582340-a0710100-f9a2-11ea-9c86-a3826f9ab8b5.png)


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

Home Assistant Core release with the issue: 0.115
Last working Home Assistant Core release (if known):
Operating environment (OS/Container/Supervised/Core): HassOS 4.13
Integration causing this issue: kodi
Link to integration documentation on our website: https://www.home-assistant.io/integrations/ping/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
    - platform: ping
      host: 192.168.0.138
      scan_interval: 60
      name: 'Status PS4'

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
40225,"Broadlink 0x5f36 added to integration, but no devices or entity found","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Since upgrading to 0.115, I'm not able to add my broadlink remote rm3 mini (0x5f36).

Previous to 0.115, I was able to use the following:
```
  - platform: broadlink
    host: 192.168.1.112
    mac: '24:DF:A7:7A:D6:66'
    type: rm_mini3_newblackbean
```

After upgrading to 0.115, I re-added the broadlink device using the UI via the Integrations. The integration was added successfully, but no devices or entities are shown associated with the integration.

I tried resetting the device using the ihc app and also the broadlink app without completing the installation, but that did not work.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115
- Last working Home Assistant Core release (if known): 0.114
- Operating environment (OS/Container/Supervised/Core): 4.13
- Integration causing this issue: broadlink
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/broadlink

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->


## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

I see the following errors, but not sure if they are relevant:
```
Logger: homeassistant.components.broadlink.updater
Source: helpers/update_coordinator.py:165 
Integration: Broadlink (documentation, issues) 
First occurred: 16:02:32 (23 occurrences) 
Last logged: 16:26:34

Error fetching device data: The device storage is full
```

```
Logger: homeassistant.config_entries
Source: config_entries.py:239 
First occurred: 16:02:32 (25 occurrences) 
Last logged: 16:26:34

Config entry for broadlink not ready yet. Retrying in 5 seconds
Config entry for broadlink not ready yet. Retrying in 10 seconds
Config entry for broadlink not ready yet. Retrying in 20 seconds
Config entry for broadlink not ready yet. Retrying in 40 seconds
Config entry for broadlink not ready yet. Retrying in 80 seconds
```

## Additional information

Note that I have two other RM3 broadlink devices that have been added successfully with devices and entities added properly - (versions are 0x27c2/0x2737). The issue seems to be isolated to 0x5f36."
40224,Nightscout password,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
 There does not seem to be an option to add password to Nightscout
-->


## Environment
<!--

-->

- Home Assistant Core release with the issue: 
 0.115

- Last working Home Assistant Core release (if known): 

New integration in 0.115

- Operating environment (OS/Container/Supervised/Core): 

supervised

- Integration causing this issue: 

nightscout 

- Link to integration documentation on our website: 

https://www.home-assistant.io/integrations/nightscout/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

not configured via yaml

```yaml

```

## Traceback/Error logs
<!--
 
-->

```txt
2020-09-18 20:19:27 WARNING (MainThread) [homeassistant.components.nightscout.sensor] Empty reply found when expecting JSON data
```

## Additional information

Added Nightscout, no option to add password, and nothing about password in docs.
"
40217,115.0 Risco Alarm => part_arm state not working : TypeError: 'NoneType' object is not iterable,"## The problem
The part_arm state is giving issues, this state is not being passed to Risco Alarm Control panel
The armed and disarmed states are working fine

## Environment

- Home Assistant Core release with the issue:  115.0
- Last working Home Assistant Core release (if known):  none, new integration
- Operating environment (OS/Container/Supervised/Core): HassOS
- Integration causing this issue: Risco 
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/risco/

## Problem-relevant `configuration.yaml`
None, its an integration

## Traceback/Error logs

log : when reading state (part_arming from the risco panel)

```
2020-09-17 23:29:39 ERROR (MainThread) [homeassistant.components.alarm_control_panel] Error while setting up risco platform for alarm_control_panel
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 201, in _async_setup_platform
    await asyncio.gather(*pending)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 310, in async_add_entities
    await asyncio.gather(*tasks)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 481, in _async_add_entity
    await entity.add_to_platform_finish()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 522, in add_to_platform_finish
    self.async_write_ha_state()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 296, in async_write_ha_state
    self._async_write_ha_state()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 320, in _async_write_ha_state
    sstate = self.state
  File ""/usr/src/homeassistant/homeassistant/components/risco/alarm_control_panel.py"", line 112, in state
    for group, armed in self._partition.groups.items():
  File ""/usr/local/lib/python3.8/site-packages/pyrisco/risco.py"", line 83, in groups
    return {GROUP_ID_TO_NAME[g[""id""]]: g[""state""] == 3 for g in self._raw[""groups""]}
TypeError: 'NoneType' object is not iterable
```
log  : when part arming fro HA alarm control panel

```
2020-09-18 13:00:19 ERROR (MainThread) [homeassistant.components.websocket_api.http.connection.140507211234944] 'NoneType' object is not iterable
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/websocket_api/commands.py"", line 137, in handle_call_service
    await hass.services.async_call(
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1315, in async_call
    task.result()
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1350, in _execute_service
    await handler.func(service_call)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_component.py"", line 204, in handle_service
    await self.hass.helpers.service.entity_service_call(
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 459, in entity_service_call
    future.result()  # pop exception if have
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 655, in async_request_call
    await coro
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 490, in _handle_entity_call
    await result
  File ""/usr/src/homeassistant/homeassistant/components/risco/alarm_control_panel.py"", line 148, in async_alarm_arm_home
    await self._arm(STATE_ALARM_ARMED_HOME, code)
  File ""/usr/src/homeassistant/homeassistant/components/risco/alarm_control_panel.py"", line 175, in _arm
    await self._call_alarm_method(risco_state)
  File ""/usr/src/homeassistant/homeassistant/components/risco/alarm_control_panel.py"", line 180, in _call_alarm_method
    self.async_write_ha_state()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 296, in async_write_ha_state
    self._async_write_ha_state()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 320, in _async_write_ha_state
    sstate = self.state
  File ""/usr/src/homeassistant/homeassistant/components/risco/alarm_control_panel.py"", line 112, in state
    for group, armed in self._partition.groups.items():
  File ""/usr/local/lib/python3.8/site-packages/pyrisco/risco.py"", line 83, in groups
    return {GROUP_ID_TO_NAME[g[""id""]]: g[""state""] == 3 for g in self._raw[""groups""]}
TypeError: 'NoneType' object is not iterable
2020-09-18 13:00:25 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py"", line 118, in _handle_refresh_interval
    await self.async_refresh()
  File ""/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py"", line 192, in async_refresh
    update_callback()
  File ""/usr/src/homeassistant/homeassistant/components/risco/entity.py"", line 13, in _refresh_from_coordinator
    self.async_write_ha_state()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 296, in async_write_ha_state
    self._async_write_ha_state()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 320, in _async_write_ha_state
    sstate = self.state
  File ""/usr/src/homeassistant/homeassistant/components/risco/alarm_control_panel.py"", line 112, in state
    for group, armed in self._partition.groups.items():
  File ""/usr/local/lib/python3.8/site-packages/pyrisco/risco.py"", line 83, in groups
    return {GROUP_ID_TO_NAME[g[""id""]]: g[""state""] == 3 for g in self._raw[""groups""]}
TypeError: 'NoneType' object is not iterable
```

created an issue here @OnFreund  , strange that it was working before when i loaded it as custom
"
40196,Issue with CoolMasterNet,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
Upgraded to 0.115. Using Docker. The below appears for the CoolMasterNet integration. I downgraded back to 0.114 without issue. I tried to remove and re-add the integration and that also did not work.
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
2020-09-17 21:18:20 ERROR (MainThread) [homeassistant.config_entries] Error setting up entry 192.168.1.x for coolmaster
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 228, in async_setup
    result = await component.async_setup_entry(hass, self)  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/coolmaster/__init__.py"", line 28, in async_setup_entry
    info = await coolmaster.info()
  File ""/usr/local/lib/python3.8/site-packages/pycoolmasternet_async/coolmasternet.py"", line 45, in info
    return dict(key_values)
ValueError: dictionary update sequence element #2 has length 4; 2 is required

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115
- Last working Home Assistant Core release (if known):  0.114.4
- Operating environment (OS/Container/Supervised/Core): Docker / Synology
- Integration causing this issue: CoolMasterNet
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/coolmaster/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
40192,MCP23017 stopped to work after Core update to 0.115,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem

After HA Core update to 0.115 I have just lost my MCP23017 Expander for both: sensor and switch.
Example of config (the same setting was working perfect on previous version)



## Environment

- Home Assistant Core release with the issue: 0.115.0
- Last working Home Assistant Core release (if known): 0.114.4
- Operating environment (OS/Container/Supervised/Core): Supervised (docker_version: 19.03.12)
- Integration causing this issue: MCP23017
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/mcp23017/




## Problem-relevant `configuration.yaml`

```yaml
binary_sensor:
platform: mcp23017
i2c_address: 0x22
pins:
0: MCP_IN 8

#Switches
switch:
platform: mcp23017
i2c_address: 0x20
pins:
0: MCP 8
```

## Traceback/Error logs


```txt
Logger: homeassistant.components.binary_sensor
Source: components/mcp23017/binary_sensor.py:48
Integration: Sensor binarny (documentation, issues)
First occurred: 20:26:30 (2 occurrences)
Last logged: 20:26:30

Error while setting up mcp23017 platform for binary_sensor
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 193, in _async_setup_platform
    await asyncio.shield(task)
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/mcp23017/binary_sensor.py"", line 48, in setup_platform
    i2c = busio.I2C(board.SCL, board.SDA)
  File ""/usr/local/lib/python3.8/site-packages/busio.py"", line 18, in __init__
    self.init(scl, sda, frequency)
  File ""/usr/local/lib/python3.8/site-packages/busio.py"", line 38, in init
    from microcontroller.pin import i2cPorts
  File ""/usr/local/lib/python3.8/site-packages/microcontroller/__init__.py"", line 29, in <module>
    elif chip_id == ap_chip.STM32:
AttributeError: module 'adafruit_platformdetect.constants.chips' has no attribute 'STM32'

====

Logger: homeassistant.components.switch
Source: components/mcp23017/switch.py:41
Integration: Przełącznik (documentation, issues)
First occurred: 20:26:30 (2 occurrences)
Last logged: 20:26:30

Error while setting up mcp23017 platform for switch
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 193, in _async_setup_platform
    await asyncio.shield(task)
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/mcp23017/switch.py"", line 41, in setup_platform
    i2c = busio.I2C(board.SCL, board.SDA)
  File ""/usr/local/lib/python3.8/site-packages/busio.py"", line 18, in __init__
    self.init(scl, sda, frequency)
  File ""/usr/local/lib/python3.8/site-packages/busio.py"", line 38, in init
    from microcontroller.pin import i2cPorts
  File ""/usr/local/lib/python3.8/site-packages/microcontroller/__init__.py"", line 29, in <module>
    elif chip_id == ap_chip.STM32:
AttributeError: module 'adafruit_platformdetect.constants.chips' has no attribute 'STM32'
```

## Additional information

"
40184,Apprise is doing I/O inside the event loop,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
HA is reporting that apprise is doing I/O inside the event loop


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.0
- Last working Home Assistant Core release (if known): 0.114.4
- Operating environment (OS/Container/Supervised/Core): Container
- Integration causing this issue: apprise
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/apprise/

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Logger: homeassistant.util.async_
Source: util/async_.py:105
First occurred: 1:43:27 PM (1 occurrences)
Last logged: 1:43:27 PM

Detected I/O inside the event loop. This is causing stability issues. Please report issue for apprise doing I/O at homeassistant/components/apprise/notify.py, line 71: self.apprise.notify(body=message, title=title, tag=targets)
```

## Additional information

~~I can submit a fix for this, just wanted to report it as an FYI~~ See below thread"
40134,isy994i (pyisy) crashing,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The ISY994i integration is crashing (probably based on some input data from the ISY994 itself, based on the error outout).

Restarting the ISY integration gets it talking until it gets to whatever node it is that it's trying to pull data from and then it crashes.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.114.4
- Last working Home Assistant Core release (if known): Unknown (with this data input)
- Operating environment (OS/Container/Supervised/Core): HassOS 4.12
- Integration causing this issue: isy994i
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/isy994/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
logger:
 default: info
 logs:
   pyisy: debug
   homeassistant.components.isy994: debug
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
....
2020-09-16 06:46:58 DEBUG (Thread-167) [homeassistant.components.isy994] ISY Node Control Event: 51 1A FB 1 NodeProperty('OL': value='255' prec='0' uom='100' formatted='100%')
2020-09-16 06:46:58 DEBUG (Thread-167) [homeassistant.components.isy994] ISY Updated Node: 51 1A FB 1
2020-09-16 06:46:58 DEBUG (Thread-167) [homeassistant.components.isy994] ISY Node Control Event: 50 BE 48 1 NodeProperty('RR': value='28' prec='0' uom='57' formatted='28')
2020-09-16 06:46:58 DEBUG (Thread-167) [homeassistant.components.isy994] ISY Node Control Event: 50 BE 48 1 NodeProperty('OL': value='255' prec='0' uom='100' formatted='100%')
2020-09-16 06:46:58 DEBUG (Thread-167) [homeassistant.components.isy994] ISY Updated Node: 50 BE 48 1
2020-09-16 06:46:58 ERROR (Thread-167) [root] Uncaught thread exception
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/threading.py"", line 932, in _bootstrap_inner
    self.run()
  File ""/usr/local/lib/python3.8/threading.py"", line 870, in run
    self._target(*self._args, **self._kwargs)
  File ""/usr/local/lib/python3.8/site-packages/pyisy/events.py"", line 220, in watch
    events = event_reader.read_events(POLL_TIME)
  File ""/usr/local/lib/python3.8/site-packages/pyisy/eventreader.py"", line 53, in read_events
    events.append(body.decode(""utf-8""))
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xb5 in position 170: invalid start byte
```

## Additional information

I feel like the ""pyisy"" debug isn't working, or at least I don't see anything from the pyisy library.  Based on this log, I cannot tell what node is being read when the error comes in. 

I can obviously restart the ISY, but really, HA shouldn't be crashed based on inputs from the ISY."
40072,Rachio SSL errors using multiple accounts,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Attempting to have 2 separate Rachio accounts produces the following errors and ultimately crashes HA.

Initially loading the second account through the config flow is successful, but on restart the errors appear and the component never loads.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 114.3
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): Windows 10
- Integration causing this issue: Rachio
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/rachio/



## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-09-14 11:25:11 ERROR (MainThread) [homeassistant.components.rachio] Could not reach the Rachio API: [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:2488)
2020-09-14 11:25:11 WARNING (MainThread) [homeassistant.config_entries] Config entry for rachio not ready yet. Retrying in 5 seconds
2020-09-14 11:25:11 ERROR (MainThread) [homeassistant.components.rachio] Could not reach the Rachio API: [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:2488)
2020-09-14 11:25:11 WARNING (MainThread) [homeassistant.config_entries] Config entry for rachio not ready yet. Retrying in 5 seconds

```

## Additional information

"
40026,yandex_transport: Error on device update 0.115.0b8,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Trying to set up yandex map integration, but get error


## Environment

- Home Assistant Core release with the issue: 0.115.0b8
- Operating environment (OS/Container/Supervised/Core): docker, synology nas
- Integration causing this issue: yandex_transport
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/yandex_transport/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
- platform: yandex_transport
  stop_id: 10070990
  name: Dixie Bus stop
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Уровень: ERROR
Logger: homeassistant.components.sensor
Source: components/yandex_transport/sensor.py:78
Integration: Сенсор (documentation, issues)
First occurred: 17:52:53 (1 occurrences)
Last logged: 17:52:53

yandex_transport: Error on device update!
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 346, in _async_add_entity
    await entity.async_device_update(warning=False)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 469, in async_device_update
    await self.async_update()  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/yandex_transport/sensor.py"", line 78, in async_update
    stop_name = data[""name""]
TypeError: 'NoneType' object is not subscriptable
```

## Additional information

"
40008,Slack notifications no longer work (0.115b7),"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I am using Slack to receive notifications, and since upgrading to the 0.115 beta they have stopped working.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.0b7
- Last working Home Assistant Core release (if known): 0.114.3
- Operating environment (OS/Container/Supervised/Core): Ubuntu 18.04.4 LTS / HA Supervised
- Integration causing this issue: Slack
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/slack/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
- alias: SSL certificate expiration
  trigger:
    - at: '18:00'
      platform: time
  condition:
    - below: '15'
      condition: numeric_state
      entity_id: sensor.cert_expiry_esx
  action:
  - data_template:
      message: ""SSL certificate expiry""
      data:
        blocks_template:
        - type: section
          text:
            type: mrkdwn
            text: ""*SSL certificate expiry*""
        - type: section
          text:
            type: mrkdwn
            text: "":information_source: *SSL certificate will expire in {{states('sensor.cert_expiry_esx')}} days*""
    service: notify.slack_homeassistant
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Logger: homeassistant.components.automation.ssl_certificate_expiration
Source: components/slack/notify.py:205
Integration: Automation (documentation, issues)
First occurred: 0:44:49 (2 occurrences)
Last logged: 0:44:49

SSL certificate expiration: Error executing script. Unexpected error for call_service at pos 1: 'NoneType' object has no attribute 'lower'
While executing automation automation.ssl_certificate_expiration
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/script.py"", line 206, in _async_step
    await getattr(
  File ""/usr/src/homeassistant/homeassistant/helpers/script.py"", line 413, in _async_call_service_step
    await service_task
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1315, in async_call
    task.result()
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1350, in _execute_service
    await handler.func(service_call)
  File ""/usr/src/homeassistant/homeassistant/components/notify/__init__.py"", line 138, in _async_notify_message_service
    await self.async_send_message(**kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/slack/notify.py"", line 260, in async_send_message
    return await self._async_send_text_only_message(
  File ""/usr/src/homeassistant/homeassistant/components/slack/notify.py"", line 205, in _async_send_text_only_message
    if self._icon.lower().startswith((""http://"", ""https://"")):
AttributeError: 'NoneType' object has no attribute 'lower'
```

## Additional information

"
39977,nzbget config flow error on 0.115 beta.,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Getting the config flow starting with 0.115b0 every time HA restarts and the integration fails to import the config from configuration.yaml

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115b0 - 0.115b7
- Last working Home Assistant Core release (if known): 0.114
- Operating environment (OS/Container/Supervised/Core): Home Assistant OS
- Integration causing this issue: NZBget
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```
nzbget:
  host: !secret nzbget_host
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-09-12 09:20:55 ERROR (MainThread) [homeassistant.components.nzbget.config_flow] Unexpected exception
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/nzbget/config_flow.py"", line 88, in async_step_user
    await self.hass.async_add_executor_job(
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/nzbget/config_flow.py"", line 41, in validate_input
    data[CONF_USERNAME] if data[CONF_USERNAME] != """" else None,
KeyError: 'username'
```

## Additional information

"
39976,Discovered Homekit Accessory,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
When I add the Homekit Bridge integration it also adds a discovered Homekit Accessory.
If I use the pairing code to configure the Accessory it adds a bunch of entities to HA but not to the Home app.  If I use the pairing code on my iPhone, it adds everything to the Home app as it should and the Discovered Homekit accessory stays there.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.114.4
- Last working Home Assistant Core release (if known): N/A
- Operating environment (OS/Container/Supervised/Core): Home Assistant OS
- Integration causing this issue: Homekit Bridge
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/homekit

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
None
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

![Screenshot 2020-09-12 at 16 10 30](https://user-images.githubusercontent.com/34303331/92997299-85ba0a80-f512-11ea-8e35-7602eadabb78.png)
"
39968,Rfxtrx.send service lost after restart,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
1) Add the configuration below to activate the integration
2) restart Home Assistant (GUI / Server Controls / Restart)
3) rfxtrx.send service is there when checking GUI / Developer Tools / Services
4) restart Home Assistant (GUI / Server Controls / Restart)
5) rfxtrx.send service isn't there anymore
6) delete the integration (GUI / Configuration / Integrations)
7) back to step 2

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue:
  - 0.114.4
- Last working Home Assistant Core release (if known): 
  - 0.114.4
- Operating environment (OS/Container/Supervised/Core): 
  - Official VM on a NUC / Ubuntu 20.04 / VirtuaBox
  - Synology DS916+ / Syno Community / Fredrike package
- Hardware used: 
  - RFXCOM RFXtrx433E / Hardware version 1.3 / EXT firmware 1025  
- Integration causing this issue: 
  - RFXCOM RFXtrx
- Link to integration documentation on our website: 
  - https://www.home-assistant.io/integrations/rfxtrx/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
rfxtrx:
  device: /dev/serial/by-id/usb-RFXCOM_RFXtrx433_07VX4SH1-if00-port0
  debug: true
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-09-07 10:59:09 ERROR (Thread-3) [root] Uncaught thread exception
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/threading.py"", line 932, in _bootstrap_inner
    self.run()
  File ""/usr/local/lib/python3.8/threading.py"", line 870, in run
    self._target(*self._args, **self._kwargs)
  File ""/usr/local/lib/python3.8/site-packages/RFXtrx/__init__.py"", line 826, in _connect
    self._status = self.send_get_status()
  File ""/usr/local/lib/python3.8/site-packages/RFXtrx/__init__.py"", line 888, in send_get_status
    return self.transport.receive_blocking()
  File ""/usr/local/lib/python3.8/site-packages/RFXtrx/__init__.py"", line 661, in receive_blocking
    return self.parse(pkt)
  File ""/usr/local/lib/python3.8/site-packages/RFXtrx/__init__.py"", line 593, in parse
    pkt = lowlevel.parse(data)
  File ""/usr/local/lib/python3.8/site-packages/RFXtrx/lowlevel.py"", line 94, in parse
    pkt.load_receive(data)
  File ""/usr/local/lib/python3.8/site-packages/RFXtrx/lowlevel.py"", line 1445, in load_receive
    self.seqnbr = data[3]
IndexError: bytearray index out of range

```

```txt
2020-09-08 08:31:16 ERROR (Thread-4) [root] Uncaught thread exception
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/threading.py"", line 932, in _bootstrap_inner
    self.run()
  File ""/usr/local/lib/python3.8/threading.py"", line 870, in run
    self._target(*self._args, **self._kwargs)
  File ""/usr/local/lib/python3.8/site-packages/RFXtrx/__init__.py"", line 825, in _connect
    self.transport.reset()
  File ""/usr/local/lib/python3.8/site-packages/RFXtrx/__init__.py"", line 678, in reset
    self.send(b'\x0D\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
  File ""/usr/local/lib/python3.8/site-packages/RFXtrx/__init__.py"", line 674, in send
    self.serial.write(pkt)
AttributeError: 'NoneType' object has no attribute 'write'
2020-09-08 08:31:16 ERROR (Thread-3) [root] Uncaught thread exception
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/threading.py"", line 932, in _bootstrap_inner
    self.run()
  File ""/usr/local/lib/python3.8/threading.py"", line 870, in run
    self._target(*self._args, **self._kwargs)
  File ""/usr/local/lib/python3.8/site-packages/RFXtrx/__init__.py"", line 825, in _connect
    self.transport.reset()
  File ""/usr/local/lib/python3.8/site-packages/RFXtrx/__init__.py"", line 678, in reset
    self.send(b'\x0D\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
  File ""/usr/local/lib/python3.8/site-packages/RFXtrx/__init__.py"", line 674, in send
    self.serial.write(pkt)
AttributeError: 'NoneType' object has no attribute 'write'
2020-09-08 08:31:17 ERROR (MainThread) [homeassistant.config_entries] Error unloading entry RFXTRX for rfxtrx
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 309, in async_unload
    result = await component.async_unload_entry(  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/rfxtrx/__init__.py"", line 202, in async_unload_entry
    await hass.async_add_executor_job(rfx_object.close_connection)
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/local/lib/python3.8/site-packages/RFXtrx/__init__.py"", line 854, in close_connection
    self.transport.close()
  File ""/usr/local/lib/python3.8/site-packages/RFXtrx/__init__.py"", line 685, in close
    self.serial.close()
AttributeError: 'NoneType' object has no attribute 'close'
```

## Additional information
First I asked the community ( https://community.home-assistant.io/t/rfxtrx-send-service-lost-after-restart/225033 ) and at least 1 other person has the same problem.
As mentioned, I have the same problem on 2 different hardware systems with different installationtypes. When having the problem I can access the RFXcom with a python-script so hardware is working. Al software is up to date. "
39937,Camera live stream with Synology DSM sometimes fails,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Using an Eufy Indoor Cam 2K throw the Synology Surveillance Station on dev, when I open the live stream it sometimes stops with an error.

On my local network:
```shell
2020-09-10 21:25:11 ERROR (stream_worker) [libav.mp4] Application provided invalid, non monotonically increasing dts to muxer in stream 0: 31010 >= 31010
2020-09-10 21:25:11 ERROR (stream_worker) [homeassistant.components.stream.worker] Stream connection failed: rtsp://syno:500df87de59a6bc75b9138aef67a8694@LOCAL_IP:554/Sms=1.unicast
Traceback (most recent call last):
  File ""/Users/USER/dev/home-assistant/core/homeassistant/components/stream/worker.py"", line 45, in stream_worker
    _stream_worker_internal(hass, stream, quit_event)
  File ""/Users/USER/dev/home-assistant/core/homeassistant/components/stream/worker.py"", line 243, in _stream_worker_internal
    mux_video_packet(packet)  # mutates packet timestamps
  File ""/Users/pollet/dev/home-assistant/core/homeassistant/components/stream/worker.py"", line 173, in mux_video_packet
    buffer.output.mux(packet)
  File ""av/container/output.pyx"", line 204, in av.container.output.OutputContainer.mux
  File ""av/container/output.pyx"", line 227, in av.container.output.OutputContainer.mux_one
  File ""av/container/core.pyx"", line 257, in av.container.core.Container.err_check
  File ""av/error.pyx"", line 336, in av.error.err_check
av.error.ValueError: [Errno 22] Invalid argument: '<none>'; last error log: [mp4] Application provided invalid, non monotonically increasing dts to muxer in stream 0: 31010 >= 31010
```

When out of my local network, I got this all the time, no stream at all (maybe wrong IP/host):
```shell
2020-09-11 12:52:14 INFO (MainThread) [homeassistant.components.stream] Started stream: rtsp://syno:7fd0e8cf95f211d2ec1179f3a8eb2e14@LOCAL_IP:554/Sms=1.unicast
2020-09-11 12:52:19 ERROR (stream_worker) [libav.tcp] Connection to tcp://LOCAL_IP:554?timeout=5000000 failed: Operation timed out
2020-09-11 12:52:19 ERROR (stream_worker) [homeassistant.components.stream.worker] Stream connection failed: rtsp://syno:7fd0e8cf95f211d2ec1179f3a8eb2e14@LOCAL_IP:554/Sms=1.unicast
Traceback (most recent call last):
  File ""/Users/USER/dev/home-assistant/core/homeassistant/components/stream/worker.py"", line 45, in stream_worker
    _stream_worker_internal(hass, stream, quit_event)
  File ""/Users/USER/dev/home-assistant/core/homeassistant/components/stream/worker.py"", line 62, in _stream_worker_internal
    container = av.open(stream.source, options=stream.options)
  File ""av/container/core.pyx"", line 354, in av.container.core.open
  File ""av/container/core.pyx"", line 225, in av.container.core.Container.__cinit__
  File ""av/container/core.pyx"", line 257, in av.container.core.Container.err_check
  File ""av/error.pyx"", line 336, in av.error.err_check
av.error.TimeoutError: [Errno 60] Operation timed out: 'rtsp://syno:7fd0e8cf95f211d2ec1179f3a8eb2e14@LOCAL_IP:554/Sms=1.unicast'; last error log: [tcp] Connection to tcp://LOCAL_IP:554?timeout=5000000 failed: Operation timed out
```

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.116.0.dev0 2020-09-11 commit 5117a1684177e95697400ada52ecad7bcbc9c8bd
- Last working Home Assistant Core release (if known): none
- Operating environment (OS/Container/Supervised/Core): MacOS via venv
- Integration causing this issue: synology_dsm
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/synology_dsm

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
up
```

## Additional information

Camera platform added on dev with #39838, ping @shenxn
"
39935,Meteo France does not create sensors in 0.115.0b5,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
When i create a Meteo France element via the integration screen, it does not add all the sensors (cloud, freeze_chance ...)
This was working with 0.114.

If you need to reproduce this, the city i was trying to add is `Arudy`.

It seems to be caused by missing attribute (see logs below) 



## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue:  0.115.0b5
- Last working Home Assistant Core release (if known): 0.114
- Operating environment (OS/Container/Supervised/Core): HA OS
- Integration causing this issue: Meteo France
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/meteo_france/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 193, in _async_setup_platform
    await asyncio.shield(task)
  File ""/usr/src/homeassistant/homeassistant/components/meteo_france/sensor.py"", line 54, in async_setup_entry
    entities.append(MeteoFranceAlertSensor(sensor_type, coordinator_alert))
  File ""/usr/src/homeassistant/homeassistant/components/meteo_france/sensor.py"", line 185, in __init__
    super().__init__(sensor_type, coordinator)
  File ""/usr/src/homeassistant/homeassistant/components/meteo_france/sensor.py"", line 82, in __init__
    city_name = self.coordinator.data.position[""name""]
AttributeError: 'CurrentPhenomenons' object has no attribute 'position'
```

## Additional information

"
39930,Vera Dimmable Lights goes to 100% when turned on.,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
When you turn on the dimmable light through Vera integration it goes directly to 100% and not to the value which was when you turned it off. When you do the same through Vera app it goes to the previous value.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: any
- Last working Home Assistant Core release (if known): none
- Operating environment (OS/Container/Supervised/Core): HassOS 4.13
- Integration causing this issue: Vera
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/vera/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
39916,HomeKit Fails to Setup,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Have been trying and failing to get HomeKit working for multiple weeks and after multiple HomeAssistant software updates. I have tried both through the Integrations section of the Configuration page and through the configuration.yaml.
I am getting an error message just after the setup for the HomeKit Bridge begins. 
This may possibly have to do with my HACS Wyze Sense Component (https://github.com/kevinvincent/ha-wyzesense) and I have opened an Issue with that integration as well.
I understand there is a note about not opening issues for custom components or integrations, but this is about the official HomeKit Bridge, and I am not sure why this integration continues to show up at the end of every HomeKit Bridge setup log entry.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.114.4
- Last working Home Assistant Core release (if known): NA
- Operating environment (OS/Container/Supervised/Core): HassOS 4.13
- Integration causing this issue: HomeKit Bridge
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/homekit/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```NA. Setup using Configuration -> Integrations

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-09-10 14:55:18 DEBUG (MainThread) [homeassistant.components.homekit] Begin setup HomeKit for HASS Bridge XHBX
2020-09-10 14:55:18 DEBUG (SyncWorker_6) [pyhap.characteristic] set_value: Name to HASS Bridge XHBX
2020-09-10 14:55:18 DEBUG (SyncWorker_6) [pyhap.characteristic] set_value: SerialNumber to default
2020-09-10 14:55:18 DEBUG (SyncWorker_6) [pyhap.characteristic] set_value: FirmwareRevision to 0.114.4
2020-09-10 14:55:18 DEBUG (SyncWorker_6) [pyhap.characteristic] set_value: Manufacturer to Home Assistant
2020-09-10 14:55:18 DEBUG (SyncWorker_6) [pyhap.characteristic] set_value: Model to Bridge
2020-09-10 14:55:18 DEBUG (SyncWorker_6) [pyhap.characteristic] set_value: SerialNumber to homekit.bridge
2020-09-10 14:55:18 ERROR (MainThread) [homeassistant.config_entries] Error setting up entry HASS Bridge XHBX:51828 for homekit
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 222, in async_setup
    result = await component.async_setup_entry(  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/homekit/__init__.py"", line 242, in async_setup_entry
    await homekit.async_start()
  File ""/usr/src/homeassistant/homeassistant/components/homekit/__init__.py"", line 505, in async_start
    await self._async_set_device_info_attributes(
  File ""/usr/src/homeassistant/homeassistant/components/homekit/__init__.py"", line 668, in _async_set_device_info_attributes
    integration = await async_get_integration(self.hass, ent_reg_ent.platform)
  File ""/usr/src/homeassistant/homeassistant/loader.py"", line 454, in async_get_integration
    raise IntegrationNotFound(domain)
homeassistant.loader.IntegrationNotFound: Integration 'wyzeapi' not found.

```

## Additional information

If I try to manually start HomeKit using the Developer Tools -> Services, these sames logs appear again and always end with `homeassistant.loader.IntegrationNotFound: Integration 'wyzeapi' not found.`
I have no idea why this is only happening with the HomeKit integration. I use the Wyze contact sensors for my alarm system and do not wish to get rid of them for the sake of HomeKit, and also don't believe I should have to."
39903,HomeKit TV sources sometimes mixed up as On/Off states,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

Sometimes TV has source selector missing, when that happens there are several ""On"" states described on the TV header in the Home app. Attached screenshots show both expected working state and the strange non-working state.

Whether it behaves properly or not seems random, sometimes it ""fixes itself"" a few seconds apart and then mixes things up again.

Unsure whether the bug lies in Home app, HA's bridge, or HomeKit's protocol. Reported to Apple as FB8666666.

Behaviour is the same on iOS, iPadOS, macOS.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: Home Assistant 0.114.4
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): HASS.io / rPi 3B
- Integration causing this issue: HomeKit + LG webos TV
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/homekit https://www.home-assistant.io/integrations/webostv

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

Really basic:

```yaml
webostv:
  host: 192.168.1.16
  name: LG TV
  turn_on_action:
    service: wake_on_lan.send_magic_packet
    data:
      mac: ""a0:6f:aa:ab:15:a9""
      broadcast_address: 192.168.1.255
  customize:
    sources:
      - NESPi
      - Xbox One
      - youtube
      - netflix
      - Mac
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

Screenshots (both when it works and when it doesn't)

<img width=""1072"" alt=""Screenshot 2020-09-06 at 19 47 02"" src=""https://user-images.githubusercontent.com/75445/92767953-e6710800-f397-11ea-9e55-a285317c0d6d.png"">
<img width=""1072"" alt=""Screenshot 2020-09-06 at 19 46 37"" src=""https://user-images.githubusercontent.com/75445/92767978-eb35bc00-f397-11ea-8f7b-94489e531bfb.png"">
<img width=""1072"" alt=""Screenshot 2020-09-06 at 19 46 01"" src=""https://user-images.githubusercontent.com/75445/92767985-ec66e900-f397-11ea-86e2-b56920c0834e.png"">
<img width=""1072"" alt=""Screenshot 2020-09-06 at 19 45 58"" src=""https://user-images.githubusercontent.com/75445/92767991-ecff7f80-f397-11ea-8c40-5a0acf17d904.png"">"
39876,Smappee Integration Erroneously Attempts to Load through Zeroconf,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I am seeing this in the logs during start-up when I don't have any Smappee devices  `Error occurred loading configuration flow for integration smappee: No module named 'cachetools'`

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.0b4
- Last working Home Assistant Core release (if known): 0.114.4
- Operating environment (OS/Container/Supervised/Core):  Core VEnv
- Integration causing this issue: Smappee
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/smappee/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
N/A
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
N/A
```

## Additional information
N/A
"
39875,3rd Party Bulb on Hue Hub Exposed Via HomeKit Integration Cant Change Modes,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Trying to change a light from color modes to color _temperature_ modes (colorful light to ""white"" light) _via the HA HomeKit bridge integration_ does not work, in certain circumstances:

- Bulb is made by Gledopto (tried 2 different models by same maker) and joined to Hue Hub
- Bulb is exposed to HomeKit via HA
- Changing between color and color temperature modes (full color and ""white"" light) works fine from the Hue app as well as directly from HA
- All first party bulbs on the hue hub and controlled with it's own HomeKit implementation and work fine (can't use Hue's HomeKit bridge on 3rd party bulbs)
- Tested from iOS 13 and 14.  
- When moving around the color temperature ""ring"" in iOS, the lamp color changes shades, not the white color temperature.  Can be confirmed by looking at one of the bulbs which uses separate LEDs for color and for white light -- the white LEDs do not engage from HomeKit (but do if I use the temperature slider in HA or the Hue app)

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.114.4
- Last working Home Assistant Core release (if known): unknown
- Operating environment (OS/Container/Supervised/Core): Container
- Integration causing this issue: HomeKit
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/homekit/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

Integration added from UI
```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information
Hub: BSB002
Bulbs: GL-B-001Z, GL-S-007Z
"
39863,Error on Freebox setup for missed calls sensor,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
When there's no calls in call log of the Freebox we get an error at component setup.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.114.4
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): OS
- Integration causing this issue: Freebox
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/freebox

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Logger: homeassistant.components.sensor
Source: components/freebox/sensor.py:149
Integration: Capteur (documentation, issues)
First occurred: 21:13:23 (1 occurrences)
Last logged: 21:13:23

Error while setting up freebox platform for sensor
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 192, in _async_setup_platform
    await asyncio.gather(*pending)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 301, in async_add_entities
    await asyncio.gather(*tasks)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 472, in _async_add_entity
    await entity.async_added_to_hass()
  File ""/usr/src/homeassistant/homeassistant/components/freebox/sensor.py"", line 125, in async_added_to_hass
    self.async_update_state()
  File ""/usr/src/homeassistant/homeassistant/components/freebox/sensor.py"", line 149, in async_update_state
    for call in self._router.call_list:
TypeError: 'NoneType' object is not iterable
```

## Additional information
This happens only if there's no missed calls in the call log. And the sensor status is unavailable.
Small guess : https://github.com/home-assistant/core/blob/b0b0b15d9dfe034cd1738d4868567dead28f0de2/homeassistant/components/freebox/sensor.py#L162
I think it's from here, we should stop if the list is empty and the sensor state will be set to 0 and it won't be unavailable like it is at the moment."
39860,MQTT config flow error,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
While trying to configure MQTT integration in UI (config flow) there's an error message in log.
MQTT is already configured in the system inside YAML.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.114.4
- Last working Home Assistant Core release (if known): n/a
- Operating environment (OS/Container/Supervised/Core): Supervised Debian 10 
- Integration causing this issue: mqtt
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/mqtt/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
mqtt:
  broker: !secret mqtt_broker
  port: !secret mqtt_port
  client_id: !secret mqtt_clientid
  username: !secret mqtt_username
  password: !secret mqtt_password
  keepalive: 60
  discovery: true
  discovery_prefix: homeassistant
  birth_message:
    topic: 'homeassistant/status'
    payload: 'online'
    qos: 1
    retain: true
  will_message:
    topic: 'homeassistant/status'
    payload: 'offline'
    qos: 1
    retain: true
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Logger: aiohttp.server
Source: components/mqtt/config_flow.py:181
First occurred: 20:11:10 (1 occurrences)
Last logged: 20:11:10

Error handling request
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/usr/local/lib/python3.8/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/usr/local/lib/python3.8/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/real_ip.py"", line 39, in real_ip_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/ban.py"", line 73, in ban_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 129, in handle
    result = await result
  File ""/usr/src/homeassistant/homeassistant/components/config/config_entries.py"", line 186, in post
    return await super().post(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/data_validator.py"", line 60, in wrapper
    result = await method(view, request, *args, **kwargs)
  File ""/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py"", line 69, in post
    result = await self._flow_mgr.async_init(
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 128, in async_init
    result = await self._async_handle_step(
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/mqtt/config_flow.py"", line 159, in async_step_init
    return await self.async_step_broker()
  File ""/usr/src/homeassistant/homeassistant/components/mqtt/config_flow.py"", line 181, in async_step_broker
    fields[vol.Required(CONF_BROKER, default=current_config[CONF_BROKER])] = str
KeyError: 'broker'
```

## Additional information
I'd like to migrate from YAML to config flow and was trying to do that using 'Re-configure' in UI.
"
39848,Stream - Malformed AAC bitstream detected,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
When trying to access a stream from a Netatmo camera it loads forever. This happens on a RaspberryPi 3 with Ubuntu 20.04 inside a venv. Unfortunately I can't reproduce this in my dev environment, Ubuntu 18.04.5 LTS with ffmpeg 7:4.3-2~18.04.york0.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: Home Assistant 0.115.0b0
- Last working Home Assistant Core release (if known): Home Assistant 0.114.0
- Operating environment (OS/Container/Supervised/Core): Ubuntu 20.04.1 LTS, core (venv)
- Integration causing this issue: stream with Netatmo
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/stream/ & https://www.home-assistant.io/integrations/netatmo/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Sep 09 10:59:11 hapi hass[1991]: 2020-09-09 10:59:11 ERROR (stream_worker) [libav.mp4] Malformed AAC bitstream detected: use the audio bitstream filter 'aac_adtstoasc' to fix it ('-bsf:a aac_adtstoasc' option with ffmpeg)
Sep 09 10:59:12 hapi hass[1991]: Exception ignored in: 'av.container.output.OutputContainer.__dealloc__'
Sep 09 10:59:12 hapi hass[1991]: Traceback (most recent call last):
Sep 09 10:59:12 hapi hass[1991]:   File ""av/container/output.pyx"", line 23, in av.container.output.close_output
Sep 09 10:59:12 hapi hass[1991]:   File ""av/container/core.pyx"", line 257, in av.container.core.Container.err_check
Sep 09 10:59:12 hapi hass[1991]:   File ""av/error.pyx"", line 323, in av.error.err_check
Sep 09 10:59:12 hapi hass[1991]:   File ""av/container/pyio.pyx"", line 39, in av.container.pyio.pyio_write_gil
Sep 09 10:59:12 hapi hass[1991]: TypeError: 'NoneType' object is not callable

```

## Additional information

Installed ffmpeg version: 7:4.2.2-1ubuntu1"
39847,MQTT - Timeout waiting for mid,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Updated to 115 beta (same for 0,1,2 betas) and got this error on HA start.
MQTT broker - Mosquitto installed on Ubuntu 20.04 (on a different machine in local network).

![image](https://user-images.githubusercontent.com/45161980/92592653-99623880-f2a8-11ea-9056-b5f27647ba21.png)


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.0b2
- Last working Home Assistant Core release (if known): 0.114.4
- Operating environment (OS/Container/Supervised/Core): Raspbian/Supervised
- Integration causing this issue: MQTT
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

mqtt:
  broker: 192.168.1.30
  port: 1883
  username: !secret mqtt_username
  password: !secret mqtt_password
  keepalive: 60
  discovery: true
  discovery_prefix: homeassistant
  client_id: rpi_ha


```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```

2020-09-09 14:13:02 ERROR (MainThread) [homeassistant.components.mqtt] Timed out waiting for mid 314
2020-09-09 14:13:02 ERROR (MainThread) [homeassistant.components.mqtt] Timed out waiting for mid 315
2020-09-09 14:13:02 ERROR (MainThread) [homeassistant.components.mqtt] Timed out waiting for mid 316
2020-09-09 14:13:02 ERROR (MainThread) [homeassistant.components.mqtt] Timed out waiting for mid 317
2020-09-09 14:13:02 ERROR (MainThread) [homeassistant.components.mqtt] Timed out waiting for mid 318
2020-09-09 14:13:02 ERROR (MainThread) [homeassistant.components.mqtt] Timed out waiting for mid 319
2020-09-09 14:13:02 ERROR (MainThread) [homeassistant.components.mqtt] Timed out waiting for mid 320
2020-09-09 14:13:02 ERROR (MainThread) [homeassistant.components.mqtt] Timed out waiting for mid 321
2020-09-09 14:13:02 ERROR (MainThread) [homeassistant.components.mqtt] Timed out waiting for mid 322
2020-09-09 14:13:02 ERROR (MainThread) [homeassistant.components.mqtt] Timed out waiting for mid 323
2020-09-09 14:13:02 ERROR (MainThread) [homeassistant.components.mqtt] Timed out waiting for mid 324
...
2020-09-09 14:13:02 ERROR (MainThread) [homeassistant.components.mqtt] Timed out waiting for mid 388

```

## Additional information

"
39827,Ping Binary Sensor shows on while devices are offline,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The Ping Binary Sensor is showing devices on, when they are offline.  The round_trip_time_avg _max and _min values continue to fluctuate as if the device was online. 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.0b1
- Last working Home Assistant Core release (if known): 0.114.4
- Operating environment (OS/Container/Supervised/Core): Container
- Integration causing this issue: ping
- Link to integration documentation on our website: https://home-assistant.io/integrations/ping/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
- platform: ping
  host: 192.168.1.185
  name: Printer Power Status
  scan_interval: 60
  count: 5
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

Confirmed this is happening on 3 seperate devices that are setup with a ping binary_sensor.  Saw the devices 'on' and fluxuations  in HA, but device unresponsive while pinging inside HA docker container as well as seperate computer."
39817,"Dramatic increase in the number of ""Error doing job: Task was destroyed but it is pending!"" errors","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

I started seeing periodic `Error doing job: Task was destroyed but it is pending!` messages in 0.114.x, but now I see them pretty regularly with 0.115.0b0, and from different components.  I'll start disabling my custom components, but wanted to get this in in case others are seeing something similar.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.0b0
- Last working Home Assistant Core release (if known): 0.113
- Operating environment (OS/Container/Supervised/Core): OS
- Integration causing this issue: Various - recorder, MainThread
- Link to integration documentation on our website: N/A

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

Without knowing what's involved in these errors, it's hard to pick out what might be relevant from configuration.yaml.

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

Lots of these logs.  I see ""recorder"" involved (I'm using the MariaDB addon, which is otherwise working fine), MainThread, and Thread-3 in here.  There's no obvious context around the messages to indicate what's causing them.  I can try turning debug on later today.

```txt
2020-09-08 09:00:18 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:08:39 ERROR (MainThread) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:09:09 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:11:09 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:12:39 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:13:29 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:13:39 ERROR (MainThread) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:13:59 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:19:59 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:20:39 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:20:49 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:25:29 ERROR (MainThread) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:30:30 INFO (MainThread) [homeassistant.components.automation.keep_water_hot] Keep Water Hot: Running automation actions
2020-09-08 09:30:30 INFO (MainThread) [homeassistant.components.automation.keep_water_hot] Keep Water Hot: Executing step call service
2020-09-08 09:31:59 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:34:29 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:36:39 ERROR (MainThread) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:39:59 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:40:49 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:44:29 ERROR (MainThread) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:45:30 INFO (MainThread) [homeassistant.components.automation.keep_water_hot] Keep Water Hot: Running automation actions
2020-09-08 09:45:30 INFO (MainThread) [homeassistant.components.automation.keep_water_hot] Keep Water Hot: Executing step call service
2020-09-08 09:47:09 ERROR (MainThread) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:50:09 ERROR (MainThread) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:51:49 ERROR (MainThread) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 09:52:49 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 10:00:39 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 10:04:39 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 10:06:09 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 10:07:59 ERROR (MainThread) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 10:08:59 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
sequence
2020-09-08 10:12:29 ERROR (MainThread) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 10:12:39 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 10:13:29 ERROR (Thread-3) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 10:14:49 ERROR (MainThread) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 10:17:29 ERROR (MainThread) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 10:19:29 ERROR (Recorder) [homeassistant] Error doing job: Task was destroyed but it is pending!
2020-09-08 10:19:59 ERROR (MainThread) [homeassistant] Error doing job: Task was destroyed but it is pending!
```

## Additional information

"
39788,Kodi shows idle or unavailable even if it's off,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Removed kodi from yaml and let HA discover it.
Most funktions work, but if i turn it off, it shows the state 'idle' and the log fills with:
```
2020-09-08 12:57:09 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File ""/srv/ha/lib/python3.8/site-packages/homeassistant/components/kodi/media_player.py"", line 396, in _async_connect_websocket_if_disconnected
    await self._async_ws_connect()
  File ""/srv/ha/lib/python3.8/site-packages/homeassistant/components/kodi/media_player.py"", line 387, in _async_ws_connect
    await self._connection.connect()
  File ""/srv/ha/lib/python3.8/site-packages/pykodi/kodi.py"", line 135, in connect
    await self._ws_server.ws_connect()
AttributeError: 'NoneType' object has no attribute 'ws_connect'
```
After restarting HA, Kodi shows 'unavailable' and the log fills with:
```
2020-09-08 12:59:05 WARNING (MainThread) [homeassistant.config_entries] Config entry for kodi not ready yet. Retrying in 5 seconds
2020-09-08 12:59:15 WARNING (MainThread) [homeassistant.config_entries] Config entry for kodi not ready yet. Retrying in 10 seconds
2020-09-08 12:59:28 WARNING (MainThread) [homeassistant.config_entries] Config entry for kodi not ready yet. Retrying in 20 seconds
2020-09-08 12:59:52 WARNING (MainThread) [homeassistant.config_entries] Config entry for kodi not ready yet. Retrying in 40 seconds
2020-09-08 13:00:35 WARNING (MainThread) [homeassistant.config_entries] Config entry for kodi not ready yet. Retrying in 80 seconds
```
In 0.114.4, it simply showed 'off' when it was off.
## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.115.0b0
- Last working Home Assistant Core release (if known): 0.114.4
- Operating environment (OS/Container/Supervised/Core): Core
- Integration causing this issue: Kodi
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/kodi/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
39778,Unknown error message in Media Browser when clicking Spotify albums,"<!-- READ THIS FIRST:
- If you need additional help with this template please refer to https://www.home-assistant.io/help/reporting_issues/
- Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/home-assistant/releases
- Do not report issues for custom Lovelace cards.
- Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->

## Checklist

- [x] I have updated to the latest available Home Assistant version.
- [x] I have cleared the cache of my browser.
- [x] I have tried a different browser to see if it is related to my browser.

## The problem

<!--
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us about the current behavior.
  If possible provide a screenshot with a description.
-->
I get an ""Unknown error"" when clicking the Albums folder in Spotify. Everything else works as expected. 

Not sure if this is an issue with Spotify integration so maybe it belongs in core repo, someone can transfer there if that is the case.

If this isn't a bug but a user configuration error, there should be a more helpful error than just Unknown.

![image](https://i.imgur.com/7fyc8Un.png)

```
Log Details (ERROR)
Logger: homeassistant.components.websocket_api.http.connection.547894188160
Source: components/spotify/media_player.py:555
Integration: Home Assistant WebSocket API (documentation, issues)
First occurred: 9:33:47 PM (1 occurrences)
Last logged: 9:33:47 PM

Error handling message: Unknown error
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/websocket_api/decorators.py"", line 21, in _handle_async_response
    await func(hass, connection, msg)
  File ""/usr/src/homeassistant/homeassistant/components/media_player/__init__.py"", line 1001, in websocket_browse_media
    payload = await player.async_browse_media(media_content_type, media_content_id)
  File ""/usr/src/homeassistant/homeassistant/components/spotify/media_player.py"", line 416, in async_browse_media
    response = await self.hass.async_add_executor_job(
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/spotify/media_player.py"", line 531, in build_item_response
    ""children"": [item_payload(item) for item in items],
  File ""/usr/src/homeassistant/homeassistant/components/spotify/media_player.py"", line 531, in <listcomp>
    ""children"": [item_payload(item) for item in items],
  File ""/usr/src/homeassistant/homeassistant/components/spotify/media_player.py"", line 555, in item_payload
    elif MEDIA_TYPE_ALBUM in item and item[""type""] != MEDIA_TYPE_TRACK:
KeyError: 'type'
```

## Expected behavior

<!--
  Describe what you expected to happen or it should look/behave.
  If possible provide a screenshot with a description.
-->

## Steps to reproduce

<!--
  Provide steps for us, that helps reproducing your issue.
  For example:
    1. Add a climate integration
    2. Navigate to Lovelace
    3. Click more info of the climate entity
    4. Set the HVAC action to heat
    5. Set the temperature higher than the current temperature
    6. Set the HVAC action to cool
-->

## Environment

<!--
  Provide details about the versions you are using, which helps us reproducing
  and finding the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.

  Browser version and operating system is important! Please try to replicate
  your issue in a different browser and be sure to include your findings.
-->

- Home Assistant release with the issue: 0.115.0b0
- Last working Home Assistant release (if known): n/a
- Browser and browser version: Chrome stable
- Operating system: macOS Big Sur beta

## State of relevant entities

<!--
  If your issue is about how an entity is shown in the UI, please add the state
  and attributes for all situations with a screenshot of the UI.
  You can find this information at `/developer-tools/state`
-->

```yaml

```

## Problem-relevant configuration

<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Javascript errors shown in your browser console/inspector

<!--
  If you come across any javascript or other error logs, e.g., in your browser
  console/inspector please provide them.
-->

```txt

```

## Additional information
"
39598,Integration with StarLine does not work,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Integration with StarLine does not work. I cannot log in.

Works through the terminal: 
`curl -i ""https://id.starline.ru/apiV3/application/getToken?appId=x&secret=xx""`

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): 
![image](https://user-images.githubusercontent.com/4505526/92075414-decac580-edd1-11ea-9cff-582d6795984a.png)

- Integration causing this issue: 
![image](https://user-images.githubusercontent.com/4505526/92075294-9ad7c080-edd1-11ea-88f3-16d07cdb143f.png)

- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-09-03 10:26:34 WARNING (MainThread) [homeassistant.loader] You are using a custom integration for hacs which has not been tested by Home Assistant. This co
mponent might cause stability problems, be sure to disable it if you experience issues with Home Assistant.
2020-09-03 10:26:34 WARNING (MainThread) [homeassistant.loader] You are using a custom integration for start_time which has not been tested by Home Assistant. T
his component might cause stability problems, be sure to disable it if you experience issues with Home Assistant.
2020-09-03 10:26:36 WARNING (Recorder) [homeassistant.components.recorder] Ended unfinished session (id=2 from 2020-09-03 04:00:31.158390)
2020-09-03 10:28:10 ERROR (MainThread) [homeassistant.components.starline] Error auth StarLine: Detected I/O inside the event loop. This is causing stability is
sues. Please report issue
```

## Additional information

I get the application code if I add to the `config_flow` file in the `async_step_user` function:
```
        url = ""https://id.starline.ru/apiV3/application/getCode/""
        app_secret = ""2""
        payload = {
            ""appId"": ""1"",
            ""secret"": hashlib.md5(app_secret.encode(""utf-8"")).hexdigest(),
        }
        session = async_get_clientsession(self.hass)
        response = await session.request('GET', url, params=payload)
        response.raise_for_status()
        data = await response.json()
        LOGGER.warning(""  Response: {}"".format(response))
        LOGGER.warning(""  Data: {}"".format(data))
```
"
39592,ONE Insteon thermostat reporting incorrectly via isy994i,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I have 4 Insteon thermostats connected to HA via the ISY994 integration.  ONE of them is reporting bogus temp and setpoint data, whereas the other three are reporting correctly.  Specifically, the one bogus data is reporting setpoints of 154 - 163 and a temp of 164.3F, whereas the ISY994 Admin Console (and the thermostat itself) report a temp of 73.5F and setpoints of 68-73.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.114.3 and 0.114.4
- Last working Home Assistant Core release (if known): 0.114.1 (but it was working fine with 0.114.3 yesterday)
- Operating environment (OS/Container/Supervised/Core): HassOS 4.12
- Integration causing this issue: isy994
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/isy994/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
Configured through UI, but I did enable debug:
```yaml
logger:
 default: info
 logs:
   pyisy: debug
   homeassistant.components.isy994: debug
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

I turned on debugging for pyisy and homeassistant.components.isy994 and I got the following entries in my log.  First, the thermostat reporting bogus data:

```txt
2020-09-02 14:49:13 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Node Control Event: 4F 69 1D 1 NodeProperty('CLIHCS': value='2' prec='0' uom='66' formatted='Cooling')
2020-09-02 14:49:13 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Updated Node: 4F 69 1D 1
2020-09-02 14:49:13 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Node Control Event: 4F 69 1D 1 NodeProperty('UOM': value='1' prec='0' uom='' formatted='1')
2020-09-02 14:49:13 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Node Control Event: 4F 69 1D 1 NodeProperty('CLIFS': value='8' prec='0' uom='99' formatted='Auto')
2020-09-02 14:49:13 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Node Control Event: 4F 69 1D 1 NodeProperty('CLIMD': value='3' prec='0' uom='98' formatted='Auto')
2020-09-02 14:49:13 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Node Control Event: 4F 69 1D 1 NodeProperty('CLIHUM': value='48' prec='0' uom='22' formatted='48%')
2020-09-02 14:49:13 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Node Control Event: 4F 69 1D 1 NodeProperty('CLISPH': value='136' prec='0' uom='101' formatted='68.0°')
2020-09-02 14:49:13 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Node Control Event: 4F 69 1D 1 NodeProperty('CLISPC': value='146' prec='0' uom='101' formatted='73.0°')
2020-09-02 14:49:13 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Updated Node: 4F 69 1D 2
```
But another thermostat that reports correctly:
```txt
2020-09-02 14:49:12 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Node Control Event: 4F 67 40 1 NodeProperty('CLIHCS': value='0' prec='0' uom='66' formatted='Idle')
2020-09-02 14:49:12 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Updated Node: 4F 67 40 1
2020-09-02 14:49:12 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Node Control Event: 4F 67 40 1 NodeProperty('UOM': value='2' prec='0' uom='' formatted='2')
2020-09-02 14:49:12 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Node Control Event: 4F 67 40 1 NodeProperty('CLIFS': value='8' prec='0' uom='99' formatted='Auto')
2020-09-02 14:49:13 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Node Control Event: 4F 67 40 1 NodeProperty('CLIMD': value='3' prec='0' uom='98' formatted='Auto')
2020-09-02 14:49:13 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Node Control Event: 4F 67 40 1 NodeProperty('CLIHUM': value='51' prec='0' uom='22' formatted='51%')
2020-09-02 14:49:13 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Node Control Event: 4F 67 40 1 NodeProperty('CLISPH': value='136' prec='0' uom='101' formatted='68.0°')
2020-09-02 14:49:13 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Node Control Event: 4F 67 40 1 NodeProperty('CLISPC': value='148' prec='0' uom='101' formatted='74.0°')
2020-09-02 14:49:13 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Updated Node: 4F 67 40 2
```

You might notice that BOTH have the same contents for CLISPH and CLISPC, and the ""formatted"" text is correct in both.  However, the Lovelace display for 4F 69 1D shows 164.3F and 154-163.

The only other updates in the logs for 4F 69 1D are CLIHUM updates.

## Additional information

If I click on that thermostat ""three dots"" for the broken thermostat it pops up a history chart, and I can visually see that it ""changed"" at 3:01:05 am (which is close to when the ISY runs its nightly ""Query All"" program.  I'm *hoping* this will correct itself tonight when the Query re-runs, but I don't understand why HA is reporting such bogus data or where it's coming from?  The only difference I see is the UOM value -- maybe that has something to do with it?  But I don't see anything in the ISY Admin Console that would show that that's an issue.........

AND.. I just ran a ""Query"" on the device manually through the ISY Admin Interface, and I just saw an update in the HA Log:
```txt
2020-09-02 15:59:01 DEBUG (Thread-7) [homeassistant.components.isy994] ISY Node Control Event: 4F 69 1D 1 NodeProperty('UOM': value='2' prec='0' uom='' formatted='2')
```
And...  Now it's reporting correctly in the HA UI.

I guess there's no way to really double-check for bogus data?"
39565,MPC-HC component is spamming the log when MPC-HC isn't running,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
An error is logged every few seconds if mpc-hc isn't running. The error is about being unable to connect to MPC-HC (very understandably).
I consider this a bug since the normal use case of an application such as MPC-HC is that the application mostly isn't running when a video isn't playing.

Another problem with this integration is it's working correctly only with English interface of Media Player. For more information:  
https://community.home-assistant.io/t/media-player-classic-home-cinema/11163
I don't want to split this into second issue, cause as I see linked issue didn't touched by anybody and maybe couple of them will focus attention.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: HassOS 4.12
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core):  Linux version 5.4.56 (VirtualBox image from downloads).
- Integration causing this issue: mpchc
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/mpchc/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
media_player:
  - platform: mpchc
    host: !secret mpc_host
    name: mpc
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

> 2020-09-02 07:47:38 ERROR (SyncWorker_5) [homeassistant.components.mpchc.media_player] Could not connect to MPC-HC at: http://192.168.1.34:13579
> 2020-09-02 07:47:48 ERROR (SyncWorker_40) [homeassistant.components.mpchc.media_player] Could not connect to MPC-HC at: http://192.168.1.34:13579
> 2020-09-02 07:47:58 ERROR (SyncWorker_21) [homeassistant.components.mpchc.media_player] Could not connect to MPC-HC at: http://192.168.1.34:13579
> 2020-09-02 07:48:08 ERROR (SyncWorker_5) [homeassistant.components.mpchc.media_player] Could not connect to MPC-HC at: http://192.168.1.34:13579

```txt

```

## Additional information

https://github.com/home-assistant/core/issues/26782"
39349,"BOND integration does not turn off fan from speed selection, only power icons.","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Bond integration does not turn off fan when choosing speed ""off"" from item list. Changing speeds works but fan can only be turned off by hitting the mdi:flash-off icon. When ""off"" is selected from the pulldown item list the speed switches to medium.
This renders the Fan Control Entity Row unusable as a side effect. 
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue:  0.114.4
- Last working Home Assistant Core release (if known): N/A 
- Operating environment (OS/Container/Supervised/Core): Supervised in VM and Container
- Integration causing this issue: BOND 
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/bond/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```N/A```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```N/A

```

## Additional information

"
39278,Synology DSM integration doesn't work from 114,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Synology DSM integration stops working from HA 0.114. All previously added sensors become unavailable. I tried to delete and re-add the integration. I could add only after 10-15 attempts. Nevertheless, it doesn't work - I receive ""timeout error"" in the log.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.114.3
- Last working Home Assistant Core release (if known): 0.113
- Operating environment (OS/Container/Supervised/Core): 1) Docker/Core, 2) Docker/Supervised
- Integration causing this issue: Synology DSM
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/synology_dsm/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```
No yaml - now it works via GUI
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

In case I use GUI setup of the integration:
```
ERROR (MainThread) [homeassistant.config_entries] Error setting up entry 192.168.0.2 for synology_dsm
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 426, in _make_request
    six.raise_from(e, None)
  File ""<string>"", line 3, in raise_from
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 421, in _make_request
    httplib_response = conn.getresponse()
  File ""/usr/local/lib/python3.8/http/client.py"", line 1332, in getresponse
    response.begin()
  File ""/usr/local/lib/python3.8/http/client.py"", line 303, in begin
    version, status, reason = self._read_status()
  File ""/usr/local/lib/python3.8/http/client.py"", line 264, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), ""iso-8859-1"")
  File ""/usr/local/lib/python3.8/socket.py"", line 669, in readinto
    return self._sock.recv_into(b)
  File ""/usr/local/lib/python3.8/ssl.py"", line 1241, in recv_into
    return self.read(nbytes, buffer)
  File ""/usr/local/lib/python3.8/ssl.py"", line 1099, in read
    return self._sslobj.read(len, buffer)
socket.timeout: The read operation timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/requests/adapters.py"", line 439, in send
    resp = conn.urlopen(
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 726, in urlopen
    retries = retries.increment(
  File ""/usr/local/lib/python3.8/site-packages/urllib3/util/retry.py"", line 403, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File ""/usr/local/lib/python3.8/site-packages/urllib3/packages/six.py"", line 735, in reraise
    raise value
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 670, in urlopen
    httplib_response = self._make_request(
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 428, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File ""/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py"", line 335, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='192.168.0.2', port=5001): Read timed out. (read timeout=10)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/synology_dsm/synology_dsm.py"", line 255, in _execute_request
    resp = self._session.get(
  File ""/usr/local/lib/python3.8/site-packages/requests/sessions.py"", line 543, in get
    return self.request('GET', url, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/requests/sessions.py"", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File ""/usr/local/lib/python3.8/site-packages/requests/sessions.py"", line 643, in send
    r = adapter.send(request, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/requests/adapters.py"", line 529, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='192.168.0.2', port=5001): Read timed out. (read timeout=10)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 222, in async_setup
    result = await component.async_setup_entry(  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/__init__.py"", line 161, in async_setup_entry
    await api.async_setup()
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/__init__.py"", line 253, in async_setup
    await self._hass.async_add_executor_job(self._fetch_device_configuration)
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/__init__.py"", line 311, in _fetch_device_configuration
    self.information = self.dsm.information
  File ""/usr/local/lib/python3.8/site-packages/synology_dsm/synology_dsm.py"", line 327, in information
    data = self.get(SynoDSMInformation.API_KEY, ""getinfo"")
  File ""/usr/local/lib/python3.8/site-packages/synology_dsm/synology_dsm.py"", line 179, in get
    return self._request(""GET"", api, method, params, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/synology_dsm/synology_dsm.py"", line 197, in _request
    self.login()
  File ""/usr/local/lib/python3.8/site-packages/synology_dsm/synology_dsm.py"", line 143, in login
    result = self.get(API_AUTH, ""login"", params)
  File ""/usr/local/lib/python3.8/site-packages/synology_dsm/synology_dsm.py"", line 179, in get
    return self._request(""GET"", api, method, params, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/synology_dsm/synology_dsm.py"", line 223, in _request
    response = self._execute_request(request_method, url, params=params, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/synology_dsm/synology_dsm.py"", line 275, in _execute_request
    raise SynologyDSMRequestException(exp)
synology_dsm.exceptions.SynologyDSMRequestException: {'api': None, 'code': -1, 'reason': 'Unknown', 'details': ""ReadTimeout = HTTPSConnectionPool(host='192.168.0.2', port=5001): Read timed out. (read timeout=10)""}
```
I also try to use YAML option of the intagration. In this case I see the next log:
```
ERROR (MainThread) [homeassistant.components.synology_dsm.config_flow] {'api': None, 'code': -1, 'reason': 'Unknown', 'details': ""ReadTimeout = HTTPSConnectionPool(host='192.168.0.2', port=5001): Read timed out. (read timeout=10)""}
```
## Additional information

"
39259,"MaryTTS/MPD - ""Detected I/O inside the event loop"" - tts.py:87","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Another case of MaryTTS failing to play any audio.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.112.2
- Last working Home Assistant Core release (if known): N/A
- Operating environment (OS/Container/Supervised/Core): Arch Linux
- Integration causing this issue: MaryTTS
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/marytts/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

configuration.yaml
```
tts:
  - platform: marytts
    host: 127.0.0.1
    port: 59125
    codec: 'WAVE_FILE'
    voice: 'cmu-slt-hsmm'
    language: 'en_US'

media_player:
  - platform: mpd
    host: 127.0.0.1
    port: 6600
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
Aug 25 15:07:13 computerName hass[1934053]: 2020-08-25 15:07:13 WARNING (MainThread) [homeassistant.util.async_] Detected I/O inside the event loop. This is causing stability issues. Please report issue for marytts doing I/O at homeassistant/components/marytts/tts.py, line 87: data = self._mary.speak(message, effects)
Aug 25 15:07:13 computerName hass[1934053]: 2020-08-25 15:07:13 ERROR (MainThread) [homeassistant.components.tts] Error on load tts: Wrong tts file format!
Aug 25 15:07:13 computerName mpd[1176]: exception: Failed to decode http://<ip>:8123/api/tts_proxy/a94a8fe5ccb19ba61c4c0873d391e987982fbbd3_en_us_f3b07c15f9_marytts.wave_file; CURL failed: The requested URL returned error: 404 Not Found
Aug 25 15:07:13 computerName mpd[1176]: player: played ""http://<ip>:8123/api/tts_proxy/a94a8fe5ccb19ba61c4c0873d391e987982fbbd3_en_us_f3b07c15f9_marytts.wave_file""
```

## Additional information
https://github.com/home-assistant/core/issues/31854#issuecomment-643801381

1. Go to http://127.0.0.1:8123/lovelace/media
2. Press triple ellipses for MPD
3. Enter anything in ""Text to speak"" and press the play/return button

```
$ la -la /var/lib/hass/tts/a94a8fe5ccb19ba61c4c0873d391e987982fbbd3_en_us_f3b07c15f9_marytts.wave_file
-rw-r--r-- 1 hass hass 102284 Aug 25 15:07 a94a8fe5ccb19ba61c4c0873d391e987982fbbd3_en_us_f3b07c15f9_marytts.wave_file
```"
39182,ONVIF integration not possible without username,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I cannot use ONVIF integration, because my camera uses port 80 and no username and password. Password is not needed in current version, but username is still mandatory.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.114.3
- Last working Home Assistant Core release (if known): none
- Operating environment (OS/Container/Supervised/Core): HassOS 4.12
- Integration causing this issue: ONVIF
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
Not possible add integration, because username is needed to continue. When is anything written, it couldn't continue, because of error on camera side, it doesn't support username.

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
39181,MPD media_position not in seconds,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The `media_position` attribute of media players using the mpd integration is formatted as `position:duration`.
According to [the documentation](https://github.com/home-assistant/core/blob/fa09a93cfe13fb16613fca7676215e315f1a7680/homeassistant/components/mpd/media_player.py#L201) it should be in seconds.

Relevant lines of entity state output:

```yaml
media_duration: '193'
media_position: '187:193'
media_position_updated_at: '2020-08-23T11:34:56.034739+00:00'
supported_features: 65471
```

I tried this with Mopidy 3.0.2 and pure MPD 0.20.18. It is the same for both.

As far as I can tell the current `media_position` value comes directly from the `time` attribute of the mpd status which is deprecated (see https://www.musicpd.org/doc/html/protocol.html#id14). It does describe the format as ""in seconds"" there so I might be wrong.

My proposal would be to simply replace `time` by the non-deprecated attribute `elapsed`, which is definitely in seconds, here: https://github.com/home-assistant/core/blob/fa09a93cfe13fb16613fca7676215e315f1a7680/homeassistant/components/mpd/media_player.py#L136
It might be necessary to keep `time` though and just prefer `elapsed` for backwards compatibility?

I'm happy to do a PR for this if what I'm writing does make sense. Let me know.

This issue came up in https://github.com/kalkih/mini-media-player/pull/398 when trying to fix the progress display of mpd media players. Strangely enough displaying progress works in the default media player and I could not figure out why.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.114.3
- Last working Home Assistant Core release (if known): unknown
- Operating environment (OS/Container/Supervised/Core): x86_64 Linux 5.4.42-0-virt Docker
- Integration causing this issue: mpd
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/mpd/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
media_player:
  - platform: mpd
    host: !secret MPD_HOST
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information
"
39116,Bad zeroconf names broadcast by various devices prevents discovery and pairing,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
The iHome SmartPlug creates zeroconf broadcast names that do not conform to standards. This causes repeated failures of HA's zeroconf module. Note that I believe this device and perhaps others also allowed for the creation of zeroconf names that contained spaces, again invalid in standard. I believe the example I found was that it allowed end user to name device 'Coffee Maker' for example and then broadcasted this name with a space in it. Apologies, I removed the device a while ago. But I did report it to one of the MacOS or iOS zeroconf browsers.
```
2020-08-20 14:02:14 ERROR (zeroconf-ServiceBrowser__arduino._tcp.local.-_tivo-remote._tcp.local.-_appletv-v2._tcp.local.-_printer._tcp.local.-_miio._udp.local.-_esphomelib._tcp.local.-_hass-mobile-app._tcp.local.-_home-assistant._tcp.local.-_fbx-api._tcp.local.-_soundtouch._tcp.local.-_lg-smart-device._tcp.local.-_nanoleafapi._tcp.local.-_http._tcp.local.-_lutron._tcp.local.-_Volumio._tcp.local.-_musc._tcp.local.-_hap._tcp.local.-_coap._udp.local.-_axis-video._tcp.local.-_e2stream._tcp.local.-_hass-ios._tcp.local.-_googlecast._tcp.local.-_spotify-connect._tcp.local._2464) [netdisco.mdns] Failed to add service hap-29D80A.local.
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/netdisco/mdns.py"", line 53, in _service_update
    service.add_service(zeroconf, service_type, name)
  File ""/usr/local/lib/python3.8/site-packages/netdisco/discoverables/__init__.py"", line 109, in add_service
    service = zconf.get_service_info(typ, name)
  File ""/usr/local/lib/python3.8/site-packages/zeroconf/__init__.py"", line 2375, in get_service_info
    info = ServiceInfo(type_, name)
  File ""/usr/local/lib/python3.8/site-packages/zeroconf/__init__.py"", line 1736, in __init__
    if not type_.endswith(service_type_name(name, allow_underscores=True)):
  File ""/usr/local/lib/python3.8/site-packages/zeroconf/__init__.py"", line 272, in service_type_name
    raise BadTypeInNameException(""Type '%s' must end with '._tcp.local.' or '._udp.local.'"" % type_)
zeroconf.BadTypeInNameException: Type 'hap-29D80A.local.' must end with '._tcp.local.' or '._udp.local.'
```
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment

arch | x86_64
-- | --
dev | false
docker | true
hassio | false
installation_type | Home Assistant Container
os_name | Linux
os_version | 5.4.0-42-generic
python_version | 3.8.3
timezone | America/Los_Angeles
version | 0.114.3
virtualenv | false



- Home Assistant Core release with the issue: 
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): 
- Integration causing this issue: 
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-08-20 14:02:14 ERROR (zeroconf-ServiceBrowser__arduino._tcp.local.-_tivo-remote._tcp.local.-_appletv-v2._tcp.local.-_printer._tcp.local.-_miio._udp.local.-_esphomelib._tcp.local.-_hass-mobile-app._tcp.local.-_home-assistant._tcp.local.-_fbx-api._tcp.local.-_soundtouch._tcp.local.-_lg-smart-device._tcp.local.-_nanoleafapi._tcp.local.-_http._tcp.local.-_lutron._tcp.local.-_Volumio._tcp.local.-_musc._tcp.local.-_hap._tcp.local.-_coap._udp.local.-_axis-video._tcp.local.-_e2stream._tcp.local.-_hass-ios._tcp.local.-_googlecast._tcp.local.-_spotify-connect._tcp.local._2464) [netdisco.mdns] Failed to add service hap-29D80A.local.
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/netdisco/mdns.py"", line 53, in _service_update
    service.add_service(zeroconf, service_type, name)
  File ""/usr/local/lib/python3.8/site-packages/netdisco/discoverables/__init__.py"", line 109, in add_service
    service = zconf.get_service_info(typ, name)
  File ""/usr/local/lib/python3.8/site-packages/zeroconf/__init__.py"", line 2375, in get_service_info
    info = ServiceInfo(type_, name)
  File ""/usr/local/lib/python3.8/site-packages/zeroconf/__init__.py"", line 1736, in __init__
    if not type_.endswith(service_type_name(name, allow_underscores=True)):
  File ""/usr/local/lib/python3.8/site-packages/zeroconf/__init__.py"", line 272, in service_type_name
    raise BadTypeInNameException(""Type '%s' must end with '._tcp.local.' or '._udp.local.'"" % type_)
zeroconf.BadTypeInNameException: Type 'hap-29D80A.local.' must end with '._tcp.local.' or '._udp.local.'
```

## Additional information

"
39099,Platform surepetcare does not generate unique IDs,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Recieve the following message in the log when starting HomeAssistant

`2020-08-21 09:20:29 ERROR (MainThread) [homeassistant.components.binary_sensor] Platform surepetcare does not generate unique IDs. ID xxxxx-xxxxx already exists - ignoring binary_sensor.hub_kitty_hub`

## Environment

arch | aarch64
```
chassis | embedded
dev | false
docker | true
docker_version | 19.03.11
hassio | true
host_os | HassOS 4.12
installation_type | Home Assistant OS
os_name | Linux
os_version | 4.19.127-v8
python_version | 3.8.3
supervisor | 235
timezone | Europe/Amsterdam
version | 0.114.3
virtualenv | false
```

- Home Assistant Core release with the issue: 0.114.3
- Last working Home Assistant Core release (if known): N/A
- Operating environment (OS/Container/Supervised/Core): HassOS 4.12
- Integration causing this issue: surepetcare
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/surepetcare/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
# Example configuration.yaml entry
surepetcare:
  username: YOUR_SURE_PETCARE_LOGIN
  password: YOUR_SURE_PETCARE_PASSWORD
  feeders: [12345, 67890]
  flaps: [13579]
  pets: [24680
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
`2020-08-21 09:20:29 ERROR (MainThread) [homeassistant.components.binary_sensor] Platform surepetcare does not generate unique IDs. ID xxxxx-xxxxx already exists - ignoring binary_sensor.hub_kitty_hub`
```

## Additional information

"
39013,Cannot set correct color temp to HA Automated Light  intregrated with deconz,"## The problem
I have Immax NEO RGB+CCT light integrated through Deconz without problem, I can control both color temp and rgb correctly using Phoscon app.

### Problem 1 : I cannot set the color temp properly with hassio, when I use the color temp slider, only the extreme left set the light on min_mireds (153) and all oher slider position set the color_temp to 555 or higher improbable value.

### Problem 2 : Uncorrect max_mireds is set by default (65279), I tried to correct it using customize.yalm without effect.


## Environment

- Deconz v2.05.79
- Core v 0.114.2

True value are (found using deconz slider for color_temp) > **customize value does not have effect on the behaviour**

```yaml
light.palier_chevet:
  max_mireds: 500
  min_mireds: 159
```

## Traceback/Error logs
One slider modification produces all these events

```json
{
    ""event_type"": ""state_changed"",
    ""data"": {
        ""entity_id"": ""light.lumieres"",
        ""old_state"": {
            ""entity_id"": ""light.lumieres"",
            ""state"": ""on"",
            ""attributes"": {
                ""min_mireds"": 153,
                ""max_mireds"": 500,
                ""effect_list"": [
                    ""colorloop""
                ],
                ""brightness"": 254,
                ""color_temp"": 37116,
                ""is_deconz_group"": true,
                ""all_on"": false,
                ""friendly_name"": ""Lumières"",
                ""supported_features"": 63
            },
            ""last_changed"": ""2020-08-18T17:17:35.327289+00:00"",
            ""last_updated"": ""2020-08-18T17:39:27.079870+00:00"",
            ""context"": {
                ""id"": ""c338dffde17911ea918badd3c6835120"",
                ""parent_id"": null,
                ""user_id"": null
            }
        },
        ""new_state"": {
            ""entity_id"": ""light.lumieres"",
            ""state"": ""on"",
            ""attributes"": {
                ""min_mireds"": 153,
                ""max_mireds"": 500,
                ""effect_list"": [
                    ""colorloop""
                ],
                ""brightness"": 254,
                ""color_temp"": 555,
                ""is_deconz_group"": true,
                ""all_on"": false,
                ""friendly_name"": ""Lumières"",
                ""supported_features"": 63
            },
            ""last_changed"": ""2020-08-18T17:17:35.327289+00:00"",
            ""last_updated"": ""2020-08-18T17:39:35.649775+00:00"",
            ""context"": {
                ""id"": ""c8548a71e17911ea866b25332de4d50f"",
                ""parent_id"": null,
                ""user_id"": null
            }
        }
    },
    ""origin"": ""LOCAL"",
    ""time_fired"": ""2020-08-18T17:39:35.649789+00:00"",
    ""context"": {
        ""id"": ""c8548a71e17911ea866b25332de4d50f"",
        ""parent_id"": null,
        ""user_id"": null
    }
}
Événement 3 déclenché 19:39:
{
    ""event_type"": ""state_changed"",
    ""data"": {
        ""entity_id"": ""light.palier_chevet2"",
        ""old_state"": {
            ""entity_id"": ""light.palier_chevet2"",
            ""state"": ""on"",
            ""attributes"": {
                ""min_mireds"": 153,
                ""max_mireds"": 65279,
                ""effect_list"": [
                    ""colorloop""
                ],
                ""brightness"": 254,
                ""color_temp"": 37116,
                ""is_deconz_group"": false,
                ""friendly_name"": ""Chevet2"",
                ""supported_features"": 63
            },
            ""last_changed"": ""2020-08-18T17:17:35.325626+00:00"",
            ""last_updated"": ""2020-08-18T17:39:27.079417+00:00"",
            ""context"": {
                ""id"": ""c3377e44e17911ea82bc4908869c2457"",
                ""parent_id"": null,
                ""user_id"": ""ee7d55465e3a40d9933e5361360b7e01""
            }
        },
        ""new_state"": {
            ""entity_id"": ""light.palier_chevet2"",
            ""state"": ""on"",
            ""attributes"": {
                ""min_mireds"": 153,
                ""max_mireds"": 65279,
                ""effect_list"": [
                    ""colorloop""
                ],
                ""brightness"": 254,
                ""color_temp"": 555,
                ""is_deconz_group"": false,
                ""friendly_name"": ""Chevet2"",
                ""supported_features"": 63
            },
            ""last_changed"": ""2020-08-18T17:17:35.325626+00:00"",
            ""last_updated"": ""2020-08-18T17:39:35.649426+00:00"",
            ""context"": {
                ""id"": ""c8547be7e17911eab6b0d5451ed45411"",
                ""parent_id"": null,
                ""user_id"": null
            }
        }
    },
    ""origin"": ""LOCAL"",
    ""time_fired"": ""2020-08-18T17:39:35.649454+00:00"",
    ""context"": {
        ""id"": ""c8547be7e17911eab6b0d5451ed45411"",
        ""parent_id"": null,
        ""user_id"": null
    }
}
Événement 1 déclenché 19:39:
{
    ""event_type"": ""state_changed"",
    ""data"": {
        ""entity_id"": ""light.lumieres"",
        ""old_state"": {
            ""entity_id"": ""light.lumieres"",
            ""state"": ""on"",
            ""attributes"": {
                ""min_mireds"": 153,
                ""max_mireds"": 500,
                ""effect_list"": [
                    ""colorloop""
                ],
                ""brightness"": 254,
                ""color_temp"": 555,
                ""is_deconz_group"": true,
                ""all_on"": false,
                ""friendly_name"": ""Lumières"",
                ""supported_features"": 63
            },
            ""last_changed"": ""2020-08-18T17:17:35.327289+00:00"",
            ""last_updated"": ""2020-08-18T17:39:20.467222+00:00"",
            ""context"": {
                ""id"": ""bf47de35e17911ea86bcf9d58943cb1a"",
                ""parent_id"": null,
                ""user_id"": null
            }
        },
        ""new_state"": {
            ""entity_id"": ""light.lumieres"",
            ""state"": ""on"",
            ""attributes"": {
                ""min_mireds"": 153,
                ""max_mireds"": 500,
                ""effect_list"": [
                    ""colorloop""
                ],
                ""brightness"": 254,
                ""color_temp"": 37116,
                ""is_deconz_group"": true,
                ""all_on"": false,
                ""friendly_name"": ""Lumières"",
                ""supported_features"": 63
            },
            ""last_changed"": ""2020-08-18T17:17:35.327289+00:00"",
            ""last_updated"": ""2020-08-18T17:39:27.079870+00:00"",
            ""context"": {
                ""id"": ""c338dffde17911ea918badd3c6835120"",
                ""parent_id"": null,
                ""user_id"": null
            }
        }
    },
    ""origin"": ""LOCAL"",
    ""time_fired"": ""2020-08-18T17:39:27.079888+00:00"",
    ""context"": {
        ""id"": ""c338dffde17911ea918badd3c6835120"",
        ""parent_id"": null,
        ""user_id"": null
    }
}
Événement 0 déclenché 19:39:
{
    ""event_type"": ""state_changed"",
    ""data"": {
        ""entity_id"": ""light.palier_chevet2"",
        ""old_state"": {
            ""entity_id"": ""light.palier_chevet2"",
            ""state"": ""on"",
            ""attributes"": {
                ""min_mireds"": 153,
                ""max_mireds"": 65279,
                ""effect_list"": [
                    ""colorloop""
                ],
                ""brightness"": 254,
                ""color_temp"": 555,
                ""is_deconz_group"": false,
                ""friendly_name"": ""Chevet2"",
                ""supported_features"": 63
            },
            ""last_changed"": ""2020-08-18T17:17:35.325626+00:00"",
            ""last_updated"": ""2020-08-18T17:39:20.466988+00:00"",
            ""context"": {
                ""id"": ""bf47d459e17911ea9e2b65bc484942e7"",
                ""parent_id"": null,
                ""user_id"": null
            }
        },
        ""new_state"": {
            ""entity_id"": ""light.palier_chevet2"",
            ""state"": ""on"",
            ""attributes"": {
                ""min_mireds"": 153,
                ""max_mireds"": 65279,
                ""effect_list"": [
                    ""colorloop""
                ],
                ""brightness"": 254,
                ""color_temp"": 37116,
                ""is_deconz_group"": false,
                ""friendly_name"": ""Chevet2"",
                ""supported_features"": 63
            },
            ""last_changed"": ""2020-08-18T17:17:35.325626+00:00"",
            ""last_updated"": ""2020-08-18T17:39:27.079417+00:00"",
            ""context"": {
                ""id"": ""c3377e44e17911ea82bc4908869c2457"",
                ""parent_id"": null,
                ""user_id"": ""ee7d55465e3a40d9933e5361360b7e01""
            }
        }
    },
    ""origin"": ""LOCAL"",
    ""time_fired"": ""2020-08-18T17:39:27.079435+00:00"",
    ""context"": {
        ""id"": ""c3377e44e17911ea82bc4908869c2457"",
        ""parent_id"": null,
        ""user_id"": ""ee7d55465e3a40d9933e5361360b7e01""
    }
}
```

## Additional information

### Deconz HA light extended node feature

![light_problem](https://user-images.githubusercontent.com/16896194/90546078-df384f00-e189-11ea-91c8-b5230f6df576.PNG)


"
39010,Emulated hue reporting device unresponsive when used in combination with scripts and lights,"## The problem
When I ask Alexa to turn on an emulated hue device that is a Home Assistant script that contains lights/scenes, it correctly executes the script and the lights turn on correctly, however, Alexa says ""[name of thing] is not responding. Please check its network connection and power supply.""

## Environment
- Home Assistant Core release with the issue: 0.114.2
- Last working Home Assistant Core release (if known): 0.113.3
- Operating environment (OS/Container/Supervised/Core): Raspberry Pi 2, Raspbian GNU/Linux 10 (buster)
- Integration causing this issue: Emulated Hue
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/emulated_hue/

## Problem-relevant `emulated_hue.yaml`

```yaml
host_ip: X.X.X.X
expose_by_default: false
off_maps_to_on_domains:
  - script
  - scene
exposed_domains:
  - light
  - switch
  - group
  - input_boolean
  - media_player
  - fan
  - script
entities:
    # Scripts
    script.all_blinds_open:
      name: ""Open all the blinds""
      hidden: false
    script.all_blinds_close:
      name: ""Close all the blinds""
      hidden: false
    script.living_room_blinds_open:
      name: ""Open the living room blinds""
      hidden: false
    script.living_room_blinds_close:
      name: ""Close the living room blinds""
      hidden: false
    script.kitchen_blinds_open:
      name: ""Open the kitchen blinds""
      hidden: false
    script.kitchen_blinds_close:
      name: ""Close the kitchen blinds""
      hidden: false
    script.hallway_blinds_open:
      name: ""Open the hallway blinds""
      hidden: false
    script.hallway_blinds_close:
      name: ""Close the hallway blinds""
      hidden: false
    script.entryway_nightlights_stairway:
      name: ""Stairway lights""
      hidden: false
    script.living_room_relax:
      name: ""Living room chill""
      hidden: false
    script.living_room_relax_overhead:
      name: ""Living room chill overhead""
      hidden: false
    script.basement_relax:
      name: ""Basement chill""
      hidden: false
    script.basement_relax_overhead:
      name: ""Basement chill overhead""
      hidden: false
    script.outside_office_relax:
      name: ""Outside office chill""
      hidden: false
    script.outside_office_workout:
      name: ""Workout""
      hidden: false
    script.kitchen_cooking:
      name: ""Kitchen cooking""
      hidden: false
    script.kitchen_dining:
      name: ""Kitchen dining lights""
      hidden: false
    script.kitchen_island:
      name: ""Kitchen island lights""
      hidden: false
    script.evening_relax_lights_reset:
      name: ""Relax lights""
      hidden: false
    script.nightlights_reset:
      name: ""Night lights""
      hidden: false
    script.say_goodnight:
      name: ""Say Goodnight""
      hidden: false
    script.all_lights_off:
      name: ""All the lights off""
      hidden: false
    script.all_lights_on:
      name: ""All the lights on""
      hidden: false
    # Lights
    light.basement_lights:
      name: ""Basement lights""
      hidden: false
    light.master_bedroom_lights:
      hidden: false
      name: ""Bedroom lights""
    light.entryway_lights:
      name: ""Entryway lights""
      hidden: false
    light.entryway_stairway_lights:
      name: ""Stairway lights""
      hidden: false
    light.kitchen_lights:
      name: ""Kitchen lights""
      hidden: false
    group.downstairs_lights:
      name: ""Downstairs lights""
      hidden: false
    light.living_room_lights:
      name: ""Living room lights""
      hidden: false
    light.outside_office_lights:
      name: ""Outside office lights""
      hidden: false
    light.porch_lights:
      name: ""Porch lights""
      hidden: false
    light.upstairs_office_lights:
      name: ""Upstairs office lights""
      hidden: false
    light.upstairs_hallway_lights:
      name: ""Hallway lights""
      hidden: false
    light.porch_front_light:
      name: ""Front porch lights""
      hidden: false
    light.porch_light_back:
      name: ""Back porch lights""
      hidden: false
```
This is an example of a script that causes Alexa to report the device as being unresponsive:
```
# The group must be created in the Hue App.
basement_relax:
  alias: 'Basement Relax'
  sequence:
    - service: light.turn_off
      data:
        entity_id: light.basement_lights
    - service: scene.turn_on
      data:
        entity_id: ""scene.basement_relax""
```

## Traceback/Error logs
Here is the log output when I say ""Alexa, turn on basement relax
```txt
Aug 18 12:31:01 skynet hass[414]: #033[32m2020-08-18 12:31:01 INFO (MainThread) [homeassistant.components.script.basement_relax] Basement Relax: Running script#033[0m
Aug 18 12:31:01 skynet hass[414]: #033[32m2020-08-18 12:31:01 INFO (MainThread) [homeassistant.components.script.basement_relax] Basement Relax: Executing step call service#033[0m
Aug 18 12:31:01 skynet hass[414]: #033[32m2020-08-18 12:31:01 INFO (MainThread) [homeassistant.components.script.basement_relax] Basement Relax: Executing step call service#033[0m
Aug 18 12:31:01 skynet hass[414]: #033[33m2020-08-18 12:31:01 WARNING (MainThread) [homeassistant.components.light.reproduce_state] The use of other attributes than device state attributes is deprecated and will be removed in a future release. Invalid attributes are ['profile']. Read the logs for further details: https://www.home-assistant.io/integrations/scene/#033[0m
Aug 18 12:31:02 skynet hass[414]: #033[32m2020-08-18 12:31:02 INFO (MainThread) [homeassistant.components.script.basement_relax] Basement Relax: Running script#033[0m
Aug 18 12:31:02 skynet hass[414]: #033[32m2020-08-18 12:31:02 INFO (MainThread) [homeassistant.components.script.basement_relax] Basement Relax: Executing step call service#033[0m
Aug 18 12:31:02 skynet hass[414]: #033[32m2020-08-18 12:31:02 INFO (MainThread) [homeassistant.components.script.basement_relax] Basement Relax: Executing step call service#033[0m
Aug 18 12:31:02 skynet hass[414]: #033[33m2020-08-18 12:31:02 WARNING (MainThread) [homeassistant.components.light.reproduce_state] The use of other attributes than device state attributes is deprecated and will be removed in a future release. Invalid attributes are ['profile']. Read the logs for further details: https://www.home-assistant.io/integrations/scene/#033[0m
```"
39007,[MQTT] Home Assistant Birth message is published too early,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Following @emontnemery PR #37371 we added the subscription to `homeassistant/status` to keep Tasmota devices in sync with Home Assistant without using any kind of automation (our PR [9096](https://github.com/arendst/Tasmota/pull/9096)  ). 
Tasmota will receive the messages correctly and then will automatically send out a `/STATE` topic for all our discovered devices present under Home Assistant but seems there is a race condition to be addressed.
In all our tests even the fastest machine runing an HAss server took at least 12 seconds to be able to listen to a topic and that defeat a bit the pourpose of a Birth message. Using a simple automation, component loaded some seconds after the mqtt, shown Home Assistant is listening correctly after presenting the message ""Home Assistant has started!"" on Lovelace.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->
```
arch | armv7l
dev | false
docker | true
docker_version | 19.03.8
hassio | true
host_os | Ubuntu 18.04.4 LTS
installation_type | Home Assistant Supervised
os_name | Linux
os_version | 5.4.31-sunxi
python_version | 3.8.3
supervisor | 234
version | 0.114.1
virtualenv | false
```
- Home Assistant Core release with the issue: 0.111 (please note I used this version number because was when the new frontend  init was introduced)
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): Supervised
- Integration causing this issue: Mqtt
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/mqtt/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
/config/automations.yaml
- id: '1597755207630'
  alias: mqtt sync
  description: Tasmota sync
  trigger:
  - event: start
    platform: homeassistant
  condition: []
  action:
  - data:
      payload: ready            #not a valid payload, just for test
      topic: homeassistant/status
    service: mqtt.publish
  - data:
      payload: ''
      topic: cmnd/tasmotas/state
    service: mqtt.publish
  mode: single
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

First part of the log, where the `homeassistant/status` will send its `online` status:
```txt
2020-08-18 11:00:22 INFO (Thread-5) [homeassistant.components.mqtt] Connected to MQTT server core-mosquitto:1883 (0)
2020-08-18 11:00:22 INFO (MainThread) [homeassistant.components.updater] Submitted analytics to Home Assistant servers. Information submitted includes {}
2020-08-18 11:00:23 INFO (MainThread) [homeassistant.setup] Setting up ssdp
2020-08-18 11:00:23 INFO (MainThread) [homeassistant.setup] Setup of domain ssdp took 0.0 seconds
2020-08-18 11:00:23 DEBUG (MainThread) [homeassistant.components.mqtt] Subscribing to homeassistant/#
2020-08-18 11:00:23 INFO (MainThread) [homeassistant.setup] Setting up cast
2020-08-18 11:00:23 INFO (MainThread) [homeassistant.setup] Setup of domain cast took 0.0 seconds
2020-08-18 11:00:24 INFO (MainThread) [homeassistant.setup] Setting up default_config
2020-08-18 11:00:24 DEBUG (MainThread) [homeassistant.components.mqtt] Transmitting message on homeassistant/status: online
```
Tasmota received it and publish its unheard `/STATE` topic:
```txt
11:00:24 MQT: Received Topic ""homeassistant/status"", Data Size 6, Data ""online""
11:00:24 MQT: tele/tasmota_Hass/STATE = {""Time"":""2020-08-18T11:00:24"",""Uptime"":""0T00:44:24"",""UptimeSec"":2664,""Heap"":26,""SleepMode"":""Dynamic"",""Sleep"":50,""LoadAvg"":22,""MqttCount"":1,""POWER"":""ON"",""Wifi"":{""AP"":1,""SSId"":""EffE-WiFi"",""BSSId"":""XX:XX:XX:XX:XX:XX"",""Channel"":13,""RSSI"":82,""Signal"":-59,""LinkCount"":1,""Downtime"":""0T00:00:03""}}
```
Then after several seconds the automation fires and Tasmota `/STATE` topic is finally registered:
```txt
2020-08-18 11:00:36 INFO (MainThread) [homeassistant.components.automation.mqtt_sync] Executing mqtt sync
2020-08-18 11:00:36 INFO (MainThread) [homeassistant.components.automation.mqtt_sync] mqtt sync: Running script
2020-08-18 11:00:36 INFO (MainThread) [homeassistant.components.automation.mqtt_sync] mqtt sync: Executing step call service
2020-08-18 11:00:36 INFO (MainThread) [homeassistant.components.automation.mqtt_sync] Initialized trigger mqtt sync
2020-08-18 11:00:36 DEBUG (MainThread) [homeassistant.components.mqtt] Transmitting message on homeassistant/status: ready
2020-08-18 11:00:36 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/status: b'ready'
2020-08-18 11:00:36 INFO (MainThread) [homeassistant.components.automation.mqtt_sync] mqtt sync: Executing step call service
2020-08-18 11:00:36 DEBUG (MainThread) [homeassistant.components.mqtt] Transmitting message on cmnd/tasmotas/state: 
2020-08-18 11:00:38 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on tele/tasmota_Hass/STATE: b'{""Time"":""2020-08-18T11:00:36"",""Uptime"":""0T00:44:36"",""UptimeSec"":2676,""Heap"":26,""SleepMode"":""Dynamic"",""Sleep"":50,""LoadAvg"":19,""MqttCount"":1,""POWER"":""ON"",""Wifi"":{""AP"":1,""SSId"":""EffE-WiFi"",""BSSId"":""64:70:02:38:FC:DB"",""Channel"":13,""RSSI"":80,""Signal"":-60,""LinkCount"":1,""Downtime"":""0T00:00:03""}}'
2020-08-18 11:00:38 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on tele/tasmota_Hass/HASS_STATE: b'{""Version"":""8.4.0.2(tasmota)"",""BuildDateTime"":""2020-08-17T20:58:38"",""Module or Template"":""Generic"",""RestartReason"":""Software/System restart"",""Uptime"":""0T00:44:36"",""Hostname"":""tasmota_Hass-0956"",""IPAddress"":""192.168.15.10"",""RSSI"":""80"",""Signal (dBm)"":""-60"",""WiFi LinkCount"":1,""WiFi Downtime"":""0T00:00:03"",""MqttCount"":1,""LoadAvg"":19}'
```
## Additional information
Since the time needed to have Home Assistant listening to a topic depends on the machine where it is installed (Pi or Nuc have different loading time) I can't add a precise delay in our firmware and would be nice have `homeassistant/status` published after Home Assistant will be ready to manage a subscription. 

Thanks,

Federico Leoni
Tasmota Team

Support Information
See [Docs](https://tasmota.github.io/docs/) for more information.
See [Chat](https://discord.gg/Ks2Kzd4) for more user experience.
See [Code of Conduct](https://github.com/arendst/Sonoff-Tasmota/blob/development/CODE_OF_CONDUCT.md)"
39006,Yandex transport. Add group stop,"## The problem
Impossible to add group stops, such as [https://yandex.ru/maps/213/moscow/stops/group__219/?ll=37.498886%2C55.818849&z=20.18](url) and [https://yandex.ru/maps/213/moscow/stops/2110015887/?ll=37.498886%2C55.818849&z=20.18](url)


## Environment

- Home Assistant Core release with the issue: 0.114.2
- Operating environment (OS/Container/Supervised/Core): Supervised
- Integration causing this issue: Yandex transport
- Link to integration documentation on our website: [https://www.home-assistant.io/integrations/yandex_transport/](url)

## Problem-relevant `configuration.yaml`

```yaml
  - platform: yandex_transport
    name: Войковская - 27
    stop_id: 2110015887
    routes:
      - 27
  - platform: yandex_transport
    name: Войковская - 23, 30
    stop_id: 219
    routes:
      - 23
      - 30
```

## Traceback/Error logs
```
yandex_transport: Error on device update!
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 335, in _async_add_entity
    await entity.async_device_update(warning=False)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 454, in async_device_update
    await self.async_update()  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/yandex_transport/sensor.py"", line 78, in async_update
    stop_name = data[""name""]
TypeError: 'NoneType' object is not subscriptable
```

```txt

```

## Additional information

"
38981,zeroconf in docker on linux have problem,"Hello everyone: I am trying to finish configuring home assistant in docker but on linux.
The error is with zeroconf and the integration of zeroconf with sonoff
They can think of how I can fix these errors. I read a lot and did not find the solution. Thank you

Detalles de registro (ERROR)

Logger: homeassistant.setup
Source: components/zeroconf/__init__.py:177
First occurred: 23:19:27 (1 occurrences)
Last logged: 23:19:27
Error during setup of component zeroconf

Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/setup.py"", line 191, in _async_setup_component
    result = await task
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/zeroconf/__init__.py"", line 177, in setup
    info = ServiceInfo(
  File ""/usr/local/lib/python3.8/site-packages/zeroconf/__init__.py"", line 1756, in __init__
    self._set_properties(properties)
  File ""/usr/local/lib/python3.8/site-packages/zeroconf/__init__.py"", line 1824, in _set_properties
    result = b''.join((result, int2byte(len(item)), item))
struct.error: ubyte format requires 0 <= number <= 255


Detalles de registro (ERROR)


Logger: homeassistant.setup
Source: setup.py:118
First occurred: 23:19:27 (2 occurrences)
Last logged: 23:19:27

    Setup failed for sonoff: Could not set up all dependencies.
    Setup failed for ios: Could not set up all dependencies.



"
38919,SpeedTest.net Integration does not follow 'update frequency',"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
The user can change the update frequency to any value, but it is not followed. A speedtest is run seemingly at random times, and quite often.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

Home Assistant Core release with the issue: 114.0
Last working Home Assistant Core release (if known): 112.0
Operating environment (OS/Container/Supervised/Core): Container
Integration causing this issue: Speedtest.net
Link to integration documentation on our website:

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
(Integration)


## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->



## Additional information

![2020-08-15](https://user-images.githubusercontent.com/40917740/90321507-a8530680-df07-11ea-8b0d-e51e58b71891.png)
![2020-08-15 (1)](https://user-images.githubusercontent.com/40917740/90321508-aab56080-df07-11ea-8bc8-eb4511ccad5c.png)
"
38914,Newer Yeelights throw zeroconf error in 0.114.1,"
## The problem
I have several Yeelights, some on the older 1.x series firmware (supports mDNS based discovery, custom SSDP, no homekit) and one on 2.x (no mDNS anymore, custom SSDP only, and HomeKit (apparently)). After upgrading from 0.113.3 to 0.114.1 (I skipped 0.114), I now get this error for the bulb on 2.0:

```
2020-08-15 22:09:26 ERROR (zeroconf-ServiceBrowser__tivo-remote._tcp.local.-_printer._tcp.local.-_lg-smart-device._tcp.local.-_soundtouch._tcp.local.-_arduino._tcp
.local.-_hass-ios._tcp.local.-_Volumio._tcp.local.-_fbx-api._tcp.local.-_home-assistant._tcp.local.-_axis-video._tcp.local.-_e2stream._tcp.local.-_nanoleafapi._tcp
.local.-_esphomelib._tcp.local.-_hap._tcp.local.-_hass-mobile-app._tcp.local.-_appletv-v2._tcp.local.-_googlecast._tcp.local.-_spotify-connect._tcp.local.-_miio._u
dp.local.-_coap._udp.local.-_lutron._tcp.local.-_http._tcp.local.-_musc._tcp.local._2743523) [root] Uncaught thread exception
Traceback (most recent call last):
  File ""/usr/local/Cellar/python@3.8/3.8.5/Frameworks/Python.framework/Versions/3.8/lib/python3.8/threading.py"", line 932, in _bootstrap_inner
    self.run()
  File ""/Users/mikeage/.homeassistant/deps/lib/python/site-packages/zeroconf/__init__.py"", line 1680, in run
    self._service_state_changed.fire(
  File ""/Users/mikeage/.homeassistant/deps/lib/python/site-packages/zeroconf/__init__.py"", line 1438, in fire
    h(**kwargs)
  File ""/Users/mikeage/.homeassistant/deps/lib/python/site-packages/netdisco/mdns.py"", line 54, in _service_update
    service.add_service(zeroconf, service_type, name)
  File ""/Users/mikeage/.homeassistant/deps/lib/python/site-packages/netdisco/discoverables/__init__.py"", line 109, in add_service
    service = zconf.get_service_info(typ, name)
  File ""/Users/mikeage/.homeassistant/deps/lib/python/site-packages/zeroconf/__init__.py"", line 2371, in get_service_info
    info = ServiceInfo(type_, name)
  File ""/Users/mikeage/.homeassistant/deps/lib/python/site-packages/zeroconf/__init__.py"", line 1732, in __init__
    if not type_.endswith(service_type_name(name, allow_underscores=True)):
  File ""/Users/mikeage/.homeassistant/deps/lib/python/site-packages/zeroconf/__init__.py"", line 268, in service_type_name
    raise BadTypeInNameException(""Type '%s' must end with '._tcp.local.' or '._udp.local.'"" % type_)
zeroconf.BadTypeInNameException: Type 'YeelightTunableBulb-7220.local.' must end with '._tcp.local.' or '._udp.local.'
```


## Environment
- Home Assistant Core release with the issue: 
- Last working Home Assistant Core release (if known): 0.113.3
- Operating environment (OS/Container/Supervised/Core): Core
- Integration causing this issue: zeroconf / yeelight
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`

```yaml
yeelight:
  devices:
    192.168.1.134:
      name: yeelight_ct2_04cf8c887220
```

## Traceback/Error logs

```txt
2020-08-15 22:09:26 ERROR (zeroconf-ServiceBrowser__tivo-remote._tcp.local.-_printer._tcp.local.-_lg-smart-device._tcp.local.-_soundtouch._tcp.local.-_arduino._tcp
.local.-_hass-ios._tcp.local.-_Volumio._tcp.local.-_fbx-api._tcp.local.-_home-assistant._tcp.local.-_axis-video._tcp.local.-_e2stream._tcp.local.-_nanoleafapi._tcp
.local.-_esphomelib._tcp.local.-_hap._tcp.local.-_hass-mobile-app._tcp.local.-_appletv-v2._tcp.local.-_googlecast._tcp.local.-_spotify-connect._tcp.local.-_miio._u
dp.local.-_coap._udp.local.-_lutron._tcp.local.-_http._tcp.local.-_musc._tcp.local._2743523) [root] Uncaught thread exception
Traceback (most recent call last):
  File ""/usr/local/Cellar/python@3.8/3.8.5/Frameworks/Python.framework/Versions/3.8/lib/python3.8/threading.py"", line 932, in _bootstrap_inner
    self.run()
  File ""/Users/mikeage/.homeassistant/deps/lib/python/site-packages/zeroconf/__init__.py"", line 1680, in run
    self._service_state_changed.fire(
  File ""/Users/mikeage/.homeassistant/deps/lib/python/site-packages/zeroconf/__init__.py"", line 1438, in fire
    h(**kwargs)
  File ""/Users/mikeage/.homeassistant/deps/lib/python/site-packages/netdisco/mdns.py"", line 54, in _service_update
    service.add_service(zeroconf, service_type, name)
  File ""/Users/mikeage/.homeassistant/deps/lib/python/site-packages/netdisco/discoverables/__init__.py"", line 109, in add_service
    service = zconf.get_service_info(typ, name)
  File ""/Users/mikeage/.homeassistant/deps/lib/python/site-packages/zeroconf/__init__.py"", line 2371, in get_service_info
    info = ServiceInfo(type_, name)
  File ""/Users/mikeage/.homeassistant/deps/lib/python/site-packages/zeroconf/__init__.py"", line 1732, in __init__
    if not type_.endswith(service_type_name(name, allow_underscores=True)):
  File ""/Users/mikeage/.homeassistant/deps/lib/python/site-packages/zeroconf/__init__.py"", line 268, in service_type_name
    raise BadTypeInNameException(""Type '%s' must end with '._tcp.local.' or '._udp.local.'"" % type_)
zeroconf.BadTypeInNameException: Type 'YeelightTunableBulb-7220.local.' must end with '._tcp.local.' or '._udp.local.'
```

## Additional information
Appears related to #38851, but this is not the root cause, of course. Without this, in 0.114.0, it would have been worse."
38893,Solaredge Errors/Warnings,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

Error messages in log file about sensors, batteries not updating.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue:  235 / 0.114.0
- Last working Home Assistant Core release (if known):  unknown
- Operating environment (OS/Container/Supervised/Core): Ubuntu 20.04.1 docker 19.03.12
- Integration causing this issue: SolarEdge
- Link to integration documentation on our website:  https://www.home-assistant.io/integrations/solaredge/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```
####################################################
#                    SOLAREDGE                     #
#################################################### 
solaredge:
  api_key: !secret solaredge_api_key
  site_id: !secret solaredge_site_id

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
020-08-14 21:55:06 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solaredge_meters fails
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 263, in async_update_ha_state
    await self.async_device_update()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 456, in async_device_update
    await self.hass.async_add_executor_job(
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/solaredge/sensor.py"", line 192, in update
    self._state = self.data_service.data[self._json_key]
KeyError: 'meters'
2020-08-14 21:55:06 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solaredge_sensors fails
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 263, in async_update_ha_state
    await self.async_device_update()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 456, in async_device_update
    await self.hass.async_add_executor_job(
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/solaredge/sensor.py"", line 192, in update
    self._state = self.data_service.data[self._json_key]
KeyError: 'sensors'
2020-08-14 21:55:06 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solaredge_gateways fails
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 263, in async_update_ha_state
    await self.async_device_update()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 456, in async_device_update
    await self.hass.async_add_executor_job(
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/solaredge/sensor.py"", line 192, in update
    self._state = self.data_service.data[self._json_key]
KeyError: 'gateways'
2020-08-14 21:55:06 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solaredge_batteries fails
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 263, in async_update_ha_state
    await self.async_device_update()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 456, in async_device_update
    await self.hass.async_add_executor_job(
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/solaredge/sensor.py"", line 192, in update
    self._state = self.data_service.data[self._json_key]
KeyError: 'batteries'
2020-08-14 21:55:06 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solaredge_inverters fails
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 263, in async_update_ha_state
    await self.async_device_update()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 456, in async_device_update
    await self.hass.async_add_executor_job(
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/solaredge/sensor.py"", line 192, in update
    self._state = self.data_service.data[self._json_key]
KeyError: 'inverters'

```

## Additional information

"
38889,Environment Canada Camera integration 'loop' variable doesn't work,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
If you create an integration for the Environment Canada Camera (radar) [using the instructions provided here](https://www.home-assistant.io/integrations/environment_canada/#loop), and set the ```loop``` variable to ```false```, it doesn't stop it from playing when you add it to a dashboard as a picture entity.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: HassOS 4.12, 4.19.127-v7l, 0.114.0
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): OS
- Integration causing this issue: Environment Canada
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/environment_canada/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
camera:
  - platform: environment_canada
    latitude: 43.6532
    longitude: -79.3832
    name: Weather Camera
    loop: false
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
None
```

## Additional information
None"
38885,"""UnboundLocalError: local variable 'item_device_name' referenced before assignment""","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 

-->
I tried to configure the new integration of Control4 in Home Assistant everything went well but i only received 1 device without entities.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.114
- Last working Home Assistant Core release (if known): N/A 
- Operating environment (OS/Container/Supervised/Core): HassOS 4.12,  Hassio VM running on ESXi 6.7, Supervisor 233
- Integration causing this issue: Control 4
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/control4/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--

-->

Log Details (ERROR)
Logger: homeassistant.components.light
Source: components/control4/light.py:101
Integration: Light (documentation, issues)
First occurred: 10:18:10 AM (1 occurrences)
Last logged: 10:18:10 AM

Error while setting up control4 platform for light
Traceback (most recent call last):
File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 184, in _async_setup_platform
await asyncio.shield(task)
File ""/usr/src/homeassistant/homeassistant/components/control4/light.py"", line 101, in async_setup_entry
item_device_name,
UnboundLocalError: local variable 'item_device_name' referenced before assignment
```txt

```

## Additional information

"
38834,OVO Energy creates gas sensors when there is no gas supply information,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
When there is no gas supplied, I would expect that no gas sensors would be created, since these would always be unavailable. After fixing an error related to this in the ovoenergy module, the sensors are created.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.114.0
- Last working Home Assistant Core release (if known): n/a
- Operating environment (OS/Container/Supervised/Core): Ubuntu/Docker/Hassio
- Integration causing this issue: ovo_energy
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/ovo_energy/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

n/a

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

None

## Additional information

See also this issue - https://github.com/home-assistant/core/issues/38805"
38824,OVO Energy Integration,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

After initial integration, OVO Energy sensor reading show as Unknown and doesn't keep last known readings or update

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

0.114.0

- Home Assistant Core release with the issue: 0.114.0
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): Docker arch x86_64
- Integration causing this issue: OVO Energy
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/ovo_energy

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

Logger: homeassistant.components.ovo_energy
Source: helpers/update_coordinator.py:147
Integration: OVO Energy (documentation, issues)
First occurred: 10:13:21 AM (1 occurrences)
Last logged: 10:13:21 AM

Timeout fetching sensor data

```txt

```

## Additional information

"
38805,ovo_energy - errors on startup,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I've added the ovo_energy integration via the UI. It has successfully created the Integration card but how's now devices or entities. There are errors (shown below) in the configuration logs.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Configuration -> Info.
-->

- Home Assistant Core release with the issue: 0.114.0
- Last working Home Assistant Core release (if known): n/a
- Operating environment (OS/Container/Supervised/Core): Ubuntu/Docker/Hassio
- Integration causing this issue: ovo_energy
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/ovo_energy

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

<img width=""528"" alt=""Screenshot 2020-08-12 at 19 09 30"" src=""https://user-images.githubusercontent.com/7115783/90051313-6b043400-dccf-11ea-8bc4-8232aba21b1b.png"">


## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-08-12 19:01:55 ERROR (MainThread) [homeassistant.components.ovo_energy] Unexpected error fetching sensor data: argument of type 'NoneType' is not iterable
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py"", line 143, in async_refresh
    self.data = await self._async_update_data()
  File ""/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py"", line 131, in _async_update_data
    return await self.update_method()
  File ""/usr/src/homeassistant/homeassistant/components/ovo_energy/__init__.py"", line 43, in async_update_data
    return await client.get_daily_usage(now.strftime(""%Y-%m""))
  File ""/usr/local/lib/python3.8/site-packages/ovoenergy/ovoenergy.py"", line 100, in get_daily_usage
    if ""data"" in gas:
TypeError: argument of type 'NoneType' is not iterable
2020-08-12 19:01:55 ERROR (MainThread) [homeassistant.components.sensor] Error while setting up ovo_energy platform for sensor
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 184, in _async_setup_platform
    await asyncio.shield(task)
  File ""/usr/src/homeassistant/homeassistant/components/ovo_energy/sensor.py"", line 30, in async_setup_entry
    currency = coordinator.data.electricity[
AttributeError: 'NoneType' object has no attribute 'electricity'
```

## Additional information

The account is electricity only, but is dual tariff (Economy 7)."
38752,0.114.0b4 OZW beta RGB - Some lights not presenting as RGB,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Beta 114 RGB lights not presenting as RGB. Expected to be addressed in this beta version?
[Edit] As per comment below, and new title.  This is not ALL lights.
## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.114.0b4
- Last working Home Assistant Core release (if known): N/A. 
- Operating environment (OS/Container/Supervised/Core): HassOS 4.12
- Integration causing this issue: OZW (Beta)
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/ozw

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
N/A-> no YAML config used
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

Updated to latest beta version to test RGB nodes.  Nodes are still only appearing as dimmable lights.
Below are some images showing config for OZW admin and Integration.  I am happy to provide any detail, giben some guidance.
![image](https://user-images.githubusercontent.com/4703398/89881660-17f28a00-dbc6-11ea-847c-06cb8cee1087.png)
![image](https://user-images.githubusercontent.com/4703398/89881710-26d93c80-dbc6-11ea-906e-856b40bfa1ab.png)
![image](https://user-images.githubusercontent.com/4703398/89881771-39ec0c80-dbc6-11ea-87dd-5308278935cb.png)
![image](https://user-images.githubusercontent.com/4703398/89881844-4f613680-dbc6-11ea-9a9d-564a0c51ceb6.png)


"
38708,Samsung TV spam log is switched off,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Thanks to [Add samsungtv zeroconf discovery](https://github.com/home-assistant/core/pull/35773) I started using this integration and noticed that log is spammed when TV is off.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.113.3
- Last working Home Assistant Core release (if known):  -
- Operating environment (OS/Container/Supervised/Core):  Docker
- Integration causing this issue: samsungtv
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/samsungtv/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
UI
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-08-10 09:34:23 WARNING (MainThread) [homeassistant.helpers.entity] Update of media_player.samsung_qe55q85ratxzt is taking over 10 seconds
```

## Additional information

"
38661,"MQTT sensors unavailable in 0.114.0bx, others stay unknown","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
A lot of my MQTT sensors are unavailable after a restart. The solution to get them back is to delete the entity, and resend the discovery message.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue:  0.114.0b0 and 0.114.0b2
- Last working Home Assistant Core release (if known): 0.113.3
- Operating environment (OS/Container/Supervised/Core): Supervised
- Integration causing this issue:  MQTT
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/mqtt/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
No yaml, but an example of a discovery message : 

topic :
```
homeassistant/binary_sensor/sensorvoordeur/config
```
Discovery message : 
```
{""name"": ""voordeur"", ""device_class"": ""door"", ""state_topic"": ""sensor/voordeur"", ""unique_id"": ""voordeur"", ""device"": {""identifiers"": [""voordeur""],""name"": ""voordeur"", ""model"": ""Digoo door sensor"", ""manufacturer"": ""Digoo""}}
```
Many Tasmota devices stay 'unknown'


## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
Nothing relevant in the log

```

## Additional information
Both point to the same mqtt broker (on a separate machine)

0.114.0b2

![image](https://user-images.githubusercontent.com/52328611/89707047-2d1fac80-d96b-11ea-8138-130e8e851125.png)
[https://img.techpowerup.org/200808/01140b2.png](url)
[IMG]https://img.techpowerup.org/200808/01140b2.png[/IMG]

0.113.3

![image](https://user-images.githubusercontent.com/52328611/89707080-69eba380-d96b-11ea-8c6e-0d55d31b8bf8.png)

[https://img.techpowerup.org/200808/01133.png](url)
[IMG]https://img.techpowerup.org/200808/01133.png[/IMG]

"
38644,RainMachine api timeouts,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I'm getting static api timeouts and my zones/programs aren't surfacing (some entities are such as freeze protect sensor)

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->
- Home Assistant Core release with the issue: 
0.113.3

- Last working Home Assistant Core release (if known): 
I recently readded the RainMachine integration after removing it awhile back due a lot of log errors, but it used to work alright for me (I could see zones, programs, etc. and toggle them).

- Operating environment (OS/Container/Supervised/Core): 
Docker running on Raspbian
- Integration causing this issue: 
RainMachine

- Link to integration documentation on our website: 
https://www.home-assistant.io/integrations/rainmachine/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
rainmachine:
  controllers:
    - ip_address: !secret ip
      password: !secret password
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-08-07 07:29:52 ERROR (MainThread) [homeassistant.components.rainmachine] There was an error while updating programs: Timeout during request: https://192.168.1.12:8080/api/4/program
2020-08-07 07:29:52 ERROR (MainThread) [homeassistant.components.rainmachine] There was an error while updating restrictions.current: Timeout during request: https://192.168.1.12:8080/api/4/restrictions/currently
2020-08-07 07:29:52 ERROR (MainThread) [homeassistant.components.rainmachine] There was an error while updating restrictions.universal: Timeout during request: https://192.168.1.12:8080/api/4/restrictions/global
2020-08-07 07:30:51 ERROR (MainThread) [homeassistant.components.rainmachine] There was an error while updating programs: Timeout during request: https://192.168.1.12:8080/api/4/program
2020-08-07 07:30:52 ERROR (MainThread) [homeassistant.components.rainmachine] There was an error while updating restrictions.universal: Timeout during request: https://192.168.1.12:8080/api/4/restrictions/global
```

## Additional information

"
38607,Dyson Integration unable to log on,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Starting within the last 24 hours the Dyson integration has stopped working when HA is being restarted. It can no longer log on to the Dyson cloud account.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.113.3
- Last working Home Assistant Core release (if known): 0.113.3 
- Operating environment (OS/Container/Supervised/Core): OS
- Integration causing this issue: Dyson
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/dyson/ 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
dyson:
  username: !secret dyson_user
  password: !secret dyson_password
  language: DE
  devices:
    - device_id: !secret dyson_device_id # eg: Pure Cool Link device
      device_ip: 192.168.0.19
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-08-06 17:45:15 INFO (MainThread) [homeassistant.setup] Setting up dyson
2020-08-06 17:45:15 INFO (SyncWorker_5) [homeassistant.components.dyson] Creating new Dyson component
2020-08-06 17:45:15 INFO (SyncWorker_5) [homeassistant.components.dyson] Creating new Dyson component
2020-08-06 17:45:15 ERROR (SyncWorker_5) [homeassistant.components.dyson] Not connected to Dyson account. Unable to add devices
2020-08-06 17:45:15 ERROR (SyncWorker_5) [homeassistant.components.dyson] Not connected to Dyson account. Unable to add devices
2020-08-06 17:45:15 INFO (MainThread) [homeassistant.setup] Setup of domain dyson took 0.7 seconds
2020-08-06 17:45:15 ERROR (MainThread) [homeassistant.setup] Setup failed for dyson: Integration failed to initialize.
```

## Additional information

"
38544,noaa sensor timeout,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
noaa tide sensor error ... (see traceback below) ... this integration works however with 0.113 i see many times that upon restart the sensor in not instantiated ... i've tried different stations with the same result 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.113.x
- Last working Home Assistant Core release (if known): previous
- Operating environment (OS/Container/Supervised/Core): ubuntu 18.02/python 3.7 venv
- Integration causing this issue: noaa
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/noaa_tides/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```
# NOAA Tides
  - platform: noaa_tides
    name: ""La Jolla""
    station_id: 9410230
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-08-04 11:59:59 INFO (SyncWorker_29) [homeassistant.loader] Loaded noaa_tides from homeassistant.components.noaa_tides
2020-08-04 12:00:00 INFO (MainThread) [homeassistant.components.sensor] Setting up sensor.noaa_tides
2020-08-04 12:00:10 WARNING (MainThread) [homeassistant.components.sensor] Setup of sensor platform noaa_tides is taking over 10 seconds.
2020-08-04 12:01:00 ERROR (MainThread) [homeassistant.components.sensor] Setup of platform noaa_tides is taking longer than 60 seconds. Startup will proceed without waiting any longer.
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='tidesandcurrents.noaa.gov', port=80): Max retries exceeded with url: /api/datagetter?begin_date=20200804+12%3A00&end_date=20200806+12%3A00&station=9410230&product=predictions&datum=MLLW&interval=hilo&units=english&time_zone=lst_ldt&application=py_noaa&format=json (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f8e6d96ba90>: Failed to establish a new connection: [Errno 110] Connection timed out'))
  File ""/srv/homeassistant_3.7/lib/python3.7/site-packages/homeassistant/components/noaa_tides/sensor.py"", line 56, in setup_platform
    noaa_sensor.update()
  File ""/srv/homeassistant_3.7/lib/python3.7/site-packages/homeassistant/components/noaa_tides/sensor.py"", line 126, in update
  File ""/srv/homeassistant_3.7/lib/python3.7/site-packages/py_noaa/coops.py"", line 217, in get_data
  File ""/srv/homeassistant_3.7/lib/python3.7/site-packages/py_noaa/coops.py"", line 154, in url2pandas
requests.exceptions.ConnectionError: HTTPConnectionPool(host='tidesandcurrents.noaa.gov', port=80): Max retries exceeded with url: /api/datagetter?begin_date=20200804+12%3A00&end_date=20200806+12%3A00&station=9410230&product=predictions&datum=MLLW&interval=hilo&units=english&time_zone=lst_ldt&application=py_noaa&format=json (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f8e6d96ba90>: Failed to establish a new connection: [Errno 110] Connection timed out'))

```

## Additional information

"
38512,All ambient weather sensors are offline,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Ambient weather sensors are all offline event though there are no websocket errors.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->


arch | x86_64
-- | --
chassis | embedded
dev | false
docker | true
docker_version | 19.03.8
hassio | true
host_os | HassOS 4.11
installation_type | Home Assistant OS
os_name | Linux
os_version | 5.4.50
python_version | 3.8.3
supervisor | 229
timezone | America/New_York
version | 0.113.3
virtualenv | false
- Integration causing this issue:  Ambient weather station
- Link to integration documentation on our website:  https://www.home-assistant.io/integrations/ambient_station

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

Configured via UI, so no clue.

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

This is the only thing associated with their webservice i see:
```txt
2020-08-03 08:58:22 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.139970222331504] Connected
2020-08-03 08:58:22 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.139970222331504] Sending {'type': 'auth_required', 'ha_version': '0.113.3'}
2020-08-03 08:58:22 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.139970222331504] Received {'type': 'auth', 'access_token': 'XXXXXXXXX'}
2020-08-03 08:58:22 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.139970222331504] Received access_token
2020-08-03 08:58:22 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.139970222331504] Auth OK
2020-08-03 08:58:22 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.139970222331504] Sending {'type': 'auth_ok', 'ha_version': '0.113.3'}
```

Then nothing.

## Additional information
It seems to have stopped working around 11am EST on 08/02/2020"
38501,Emby entities not being updated after an error,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
When casting JellyFin to Chromecast HomeAssistant throws an error and no longer updates states.

Reboot does not resolve the issue.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.113.3
- Last working Home Assistant Core release (if known): 0.107.7 
- Operating environment (OS/Container/Supervised/Core): Ubuntu 18.04/Docker/229/
- Integration causing this issue: Emby
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
media_player:
  - platform: emby
    host: 192.168.1.100
    api_key: ***
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/pyemby/server.py"", line 287, in socket_connection
    self.process_msg(msg.data)
  File ""/usr/local/lib/python3.8/site-packages/pyemby/server.py"", line 319, in process_msg
    self.update_device_list(self._sessions)
  File ""/usr/local/lib/python3.8/site-packages/pyemby/server.py"", line 342, in update_device_list
    dev_name, device['NowPlayingItem']['Type'],
TypeError: 'NoneType' object is not subscriptable
```

## Additional information

"
38493,Bond integration does not generate unique ids,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The Bond integration does not generate unique ids.  Its using the same unique id when there are multiple device.

We need a breaking change to make the unique ids `{self._hub.bond_id}_{self._device.device_id}` 


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.114dev
- Last working Home Assistant Core release (if known): N/A 
- Operating environment (OS/Container/Supervised/Core): Core
- Integration causing this issue: bond
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-08-02 23:42:24 ERROR (MainThread) [homeassistant.components.fan] Platform bond does not generate unique IDs. ID 00000003 already exists - ignoring fan.81_down_bedroom
2020-08-02 23:42:24 ERROR (MainThread) [homeassistant.components.light] Platform bond does not generate unique IDs. ID 00000003 already exists - ignoring light.81_down_bedroom
```

## Additional information

"
38455,Horstmann SRT321 ZWave Thermostat setpoint not being recognised,"## The problem
The setpoint on the Horstmann Secure SRT321 Zwave Stat is not being recognised by the new Zwave integration. It is recognised by the OpenZWave addon and MQTT datastream is there. The battery level and room temp sensors are recognised.

## Environment
HA 0.113.2
Addon 0.5.2

- Home Assistant Core release with the issue: 0.113.2
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): Docker container running on Raspberry Pi
- Integration causing this issue: OpenZWave (Beta)
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
None (UI configured)
## MQTT Dump
[mqtt_dump.txt](https://github.com/home-assistant/core/files/5010547/mqtt_dump.txt)

## Additional information
Missing stat is node 17
"
38393,AttributeError: 'IcloudAccount' object has no attribute 'name',"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I got an error when I used the icloud component. The error log is pasted under Traceback below. 

I have troubleshooted it and found a fix, but I haven't made any pull request since I'm unsure of the correctness of the fix. 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.113.2
- Last working Home Assistant Core release (if known): 0.108 or something like that, don't remember
- Operating environment (OS/Container/Supervised/Core): Rasbian, installed manually in virtual env
- Integration causing this issue: icloud
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/icloud/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```
Nothing, it is configured and added through GUI. 

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

`
2020-07-30 12:26:33 ERROR (MainThread) [homeassistant.components.websocket_api.http.connection.1749094000] 'IcloudAccount' object has no attribute 'name'
Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/websocket_api/commands.py"", line 130, in handle_call_service
    connection.context(msg),
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/core.py"", line 1281, in async_call
    task.result()
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/core.py"", line 1320, in _execute_service
    await self._hass.async_add_executor_job(handler.func, service_call)
  File ""/usr/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/icloud/__init__.py"", line 150, in play_sound
    for device in _get_account(account).get_devices_with_name(device_name):
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/icloud/__init__.py"", line 195, in _get_account
    _LOGGER.warning(account)
AttributeError: 'IcloudAccount' object has no attribute 'name'

`
```

## Additional information

In commit https://github.com/home-assistant/core/commit/7c155731fcdff7d8e32fd6f3fb0a7ebd45b3d7d1 by @Quentame from pull request https://github.com/home-assistant/core/pull/30898 the property name of ICloudAccount was removed (since the account_name was removed). 

This leads to error in function _get_account in async_setup_entry in __init__.py in row 192 (https://github.com/home-assistant/core/blob/dev/homeassistant/components/icloud/__init__.py#L192) since it uses the account.name property. 

I have fixed this locally on my machine by changing name to username in the for-loop. I don't know if this is the correct fix or not since I don't have the full picture of the code base. I'm not sure this will work for multiple icloud accounts, which was the reason name was removed in the first place. So I will not make a pull request with this change, but instead inform you about it here and hopefully Quentame or someone can review it? 

"
38379,GogoGate2 connection timeout of 2 results in many logged connection failures. Minor increase resolves.,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Repeated connection timeouts are logged for a GogoGate2 since (at least) v0.112.x, causing the cover to become unavailable very briefly and errors to be logged. This is typically resolved within 5 seconds.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->
GogoGate2 firmware 2.60
Unifi Network with UAC-AC-PRO
GogoGate 2 reports WiFi Link Quality: 61/70 | Signal level: -49 dBm

- Home Assistant Core release with the issue: 
This issue has appeared within the last few releases, definitely present in 0.112.x and current 0.113.2

- Last working Home Assistant Core release (if known): 
Cannot recall, however I've been using the GoGoGate2 integration since its release and this issue did not used to occur.

- Operating environment (OS/Container/Supervised/Core): 
HomeAssistant Core 0.113.2 in Python 3.7 venv on Ubuntu 18.04 Server

- Integration causing this issue: 
GogoGate2

- Link to integration documentation on our website: 
https://www.home-assistant.io/integrations/gogogate2/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
Integration configured through user interface.
NB: issue occurs when connecting to the GogoGate2 with both the admin account, and a non-admin account 

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-07-28 14:01:29 ERROR (MainThread) [homeassistant.components.gogogate2.common] Error fetching gogogate2 data: Error communicating with API: HTTPConnectionPool(host='192.168.1.223', port=80): Max retries exceeded with url: /api.php?data=redacteddata (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f100473db50>, 'Connection to 192.168.1.223 timed out. (connect timeout=2)'))
```

## Additional information
![image](https://user-images.githubusercontent.com/1246826/88860721-464e8d80-d1f4-11ea-9fcf-160394c1bcc3.png)

**After increasing the request function timeout from 2 to 3 in ../lib/python3.7/site-packages/gogogate2_api'__init__.py and restarting HA I have had no further timeout errors logged.**
Could this be provided as a configuration option, or increased slightly to permanently resolve the issue please?.

```
        #timeout was 2 
        response = requests.get(
            self._api_url,
            params={""data"": self._api_cipher.encrypt(command_str)},
            timeout=3,
        )

```




"
38375,system_log can consume much of the event loop time,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

Noticed this from the report in https://github.com/home-assistant/core/issues/38096#issuecomment-665927619

We can probably do something similar to #35633 to avoid logger work in the event loop.

<img width=""1423"" alt=""Screen Shot 2020-07-29 at 11 36 23 AM"" src=""https://user-images.githubusercontent.com/663432/88856179-c0006000-d18f-11ea-9f6e-d5ae1fee18e7.png"">


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): 
- Integration causing this issue: 
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
38339,Google Translate TTS pronounce urlencoded characters,"## The problem
I'm trying to use Google Translate TTS in it's default configuration. It does work, but for some reason it pronounces messages like if they are urlencoded. For example, ""Hello world!"" is pronounced as ""Hello percent twenty world"" (which is ""hello%20world"" i believe)

## Environment
- Home Assistant Core release with the issue: 0.113.2
- Last working Home Assistant Core release (if known): unknown
- Operating environment (OS/Container/Supervised/Core): hassio
- Integration causing this issue: google_translate
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/google_translate/

## Problem-relevant `configuration.yaml`
```yaml
tts:
  - platform: google_translate
```

## Additional information
![image](https://user-images.githubusercontent.com/3438036/88729783-59525680-d13d-11ea-95a4-36c4d54e54df.png)

Here's the rendered audio:
[d3486ae9136e7856bc42212385ea797094475802_en_-_google_translate.zip](https://github.com/home-assistant/core/files/4991538/d3486ae9136e7856bc42212385ea797094475802_en_-_google_translate.zip)


"
38321,Stall Wiffi Integration no more working since HA 0.113,"## The problem
Since HA version 0.113 the integration ""Stall Wiffi"" is no more working. HA hangst in startup phase. When uninstalling this integration everything is working. When downgrading to HA version 0.112.4 the integration is working again.

## Environment
- Home Assistant Core release with the issue: 0.113 an 0.113.1
- Last working Home Assistant Core release (if known): 0.112.4
- Operating environment (OS/Container/Supervised/Core): Core on Docker
- Integration causing this issue: Stall Wiffi
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/wiffi/

## Traceback/Error logs

```
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/wiffi/__init__.py"", line 151, in __call__
    data = await reader.readuntil(
  File ""/usr/local/lib/python3.8/asyncio/streams.py"", line 629, in readuntil
    raise exceptions.IncompleteReadError(chunk, None)
asyncio.exceptions.IncompleteReadError: 0 bytes read on a total of None expected bytes

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/wiffi/__init__.py"", line 155, in __call__
    except asyncio.streams.IncompleteReadError:
AttributeError: module 'asyncio.streams' has no attribute 'IncompleteReadError'
2020-07-28 15:01:11 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/wiffi/__init__.py"", line 151, in __call__
    data = await reader.readuntil(
  File ""/usr/local/lib/python3.8/asyncio/streams.py"", line 629, in readuntil
    raise exceptions.IncompleteReadError(chunk, None)
asyncio.exceptions.IncompleteReadError: 0 bytes read on a total of None expected bytes

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/wiffi/__init__.py"", line 155, in __call__
    except asyncio.streams.IncompleteReadError:
AttributeError: module 'asyncio.streams' has no attribute 'IncompleteReadError'
2020-07-28 15:01:48 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/wiffi/__init__.py"", line 151, in __call__
    data = await reader.readuntil(
  File ""/usr/local/lib/python3.8/asyncio/streams.py"", line 629, in readuntil
    raise exceptions.IncompleteReadError(chunk, None)
asyncio.exceptions.IncompleteReadError: 0 bytes read on a total of None expected bytes

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/wiffi/__init__.py"", line 155, in __call__
    except asyncio.streams.IncompleteReadError:
AttributeError: module 'asyncio.streams' has no attribute 'IncompleteReadError'
2020-07-28 15:01:54 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/wiffi/__init__.py"", line 151, in __call__
    data = await reader.readuntil(
  File ""/usr/local/lib/python3.8/asyncio/streams.py"", line 629, in readuntil
    raise exceptions.IncompleteReadError(chunk, None)
asyncio.exceptions.IncompleteReadError: 0 bytes read on a total of None expected bytes

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/wiffi/__init__.py"", line 155, in __call__
    except asyncio.streams.IncompleteReadError:
AttributeError: module 'asyncio.streams' has no attribute 'IncompleteReadError'

```

## Additional information

Maybe its related to this: https://github.com/home-assistant/core/issues/38088
"
38291,Blink Integration - cannot activate,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Blink Integrtion account linking is broken. User and password are accepted but Blink system never send a confirmation email to generate the 2fa code


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue:  0.113.1
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): hassio
- Integration causing this issue: Blink
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/blink/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-07-27 18:23:14 INFO (SyncWorker_1) [blinkpy.login_handler] Attempting login with https://rest-prod.immedia-semi.com/api/v4/login
2020-07-27 18:23:15 INFO (SyncWorker_1) [blinkpy.login_handler] Attempting login with https://rest-prod.immedia-semi.com/api/v3/login

```

## Additional information

"
38270,Somfy oauth api fails to refresh token,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
This issue results in random failures.

https://github.com/tetienne/somfy-open-api/blob/master/pymfy/api/somfy_api.py#L125
It looks like the token is never refreshed because the server time and the local time aren't perfectly in sync.

https://github.com/home-assistant/core/blob/dev/homeassistant/helpers/config_entry_oauth2_flow.py#L420
Assumes the clocks are perfectly in-sync.

Could probably be fixed by forcing `self.token[""expires_at""]` to `time.time()` when we get the `TokenExpiredError ` exception here https://github.com/tetienne/somfy-open-api/blob/master/pymfy/api/somfy_api.py#L124

Or add 30 seconds of buffer to `https://github.com/home-assistant/core/blob/dev/homeassistant/helpers/config_entry_oauth2_flow.py#L420` so the clocks don't have to be perfectly in-sync between the client and server.





## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.113.1
- Last working Home Assistant Core release (if known): N/A
- Operating environment (OS/Container/Supervised/Core): 
- Integration causing this issue: somfy
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-07-26 22:48:36 ERROR (MainThread) [homeassistant.helpers.entity] Update for cover.mountain_master_1 fails
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/pymfy/api/somfy_api.py"", line 123, in _request
    return getattr(self._oauth, method)(url, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/requests/sessions.py"", line 543, in get
    return self.request('GET', url, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/requests_oauthlib/oauth2_session.py"", line 477, in request
    url, headers, data = self._client.add_token(
  File ""/usr/local/lib/python3.8/site-packages/oauthlib/oauth2/rfc6749/clients/base.py"", line 198, in add_token
    raise TokenExpiredError()
oauthlib.oauth2.rfc6749.errors.TokenExpiredError: (token_expired)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 269, in async_update_ha_state
    await self.async_device_update()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 460, in async_device_update
    await self.async_update()  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/somfy/cover.py"", line 50, in async_update
    await super().async_update()
  File ""/usr/src/homeassistant/homeassistant/components/somfy/__init__.py"", line 162, in async_update
    await update_all_devices(self.hass)
  File ""/usr/src/homeassistant/homeassistant/components/somfy/__init__.py"", line 177, in update_all_devices
    data[DEVICES] = await hass.async_add_executor_job(data[API].get_devices)
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/local/lib/python3.8/site-packages/pymfy/api/somfy_api.py"", line 61, in get_devices
    site_ids = [s.id for s in self.get_sites()] if site_id is None else [site_id]
  File ""/usr/local/lib/python3.8/site-packages/pymfy/api/somfy_api.py"", line 42, in get_sites
    response = self.get(""/site"")
  File ""/usr/local/lib/python3.8/site-packages/pymfy/api/somfy_api.py"", line 80, in get
    return self._request(""get"", path)
  File ""/usr/local/lib/python3.8/site-packages/pymfy/api/somfy_api.py"", line 127, in _request
    return getattr(self._oauth, method)(url, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/requests/sessions.py"", line 543, in get
    return self.request('GET', url, **kwargs)
  File ""/usr/local/lib/python3.8/site-packages/requests_oauthlib/oauth2_session.py"", line 477, in request
    url, headers, data = self._client.add_token(
  File ""/usr/local/lib/python3.8/site-packages/oauthlib/oauth2/rfc6749/clients/base.py"", line 198, in add_token
    raise TokenExpiredError()
oauthlib.oauth2.rfc6749.errors.TokenExpiredError: (token_expired)

```

## Additional information

"
38262,Airvisual: api_key_expired is back,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

seems this https://github.com/home-assistant/core/issues/34787 is back again.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 113.1
- Last working Home Assistant Core release (if known): 110.4 ?
- Operating environment (OS/Container/Supervised/Core): OS
- Integration causing this issue: Airvisual
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/airvisual/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
none, configured via integration UI
```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-07-26 23:49:46 ERROR (MainThread) [homeassistant.components.airvisual] Error fetching 5redacted, 4.redacted data: Error while retrieving data: api_key_expired
```

## Additional information

"
38247,Plex attempting to contact unroutable IP's,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Plex attempts to contact unroutable IP's, generating endless entries in the HA error log

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue:  0.113.1
- Last working Home Assistant Core release (if known): Unknown
- Operating environment (OS/Container/Supervised/Core): HassOS 4.11
- Integration causing this issue: Plex
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/plex/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```
No YAML configuration, plex is added via the Integrations page.
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-07-25 12:26:38 INFO (SyncWorker_1) [plexapi] Testing 2 resource connections..
2020-07-25 12:26:41 ERROR (Thread-66) [plexapi] http://192.168.1.5:32500: HTTPConnectionPool(host='192.168.1.5', port=32500): Max retries exceeded with url: /resources (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x67a11688>, 'Connection to 192.168.1.5 timed out. (connect timeout=3)'))
2020-07-25 12:26:41 ERROR (Thread-67) [plexapi] http://192.168.1.5:32500: HTTPConnectionPool(host='192.168.1.5', port=32500): Max retries exceeded with url: /resources (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x67a117d8>, 'Connection to 192.168.1.5 timed out. (connect timeout=3)'))
2020-07-25 12:26:41 INFO (SyncWorker_1) [plexapi] Resource connection ERR (3s): http://192.168.1.5:32500?X-Plex-Token=None
2020-07-25 12:26:41 INFO (SyncWorker_1) [plexapi] Resource connection ERR (3s): http://192.168.1.5:32500?X-Plex-Token=None
2020-07-25 13:49:41 INFO (SyncWorker_6) [plexapi] Testing 2 resource connections..
2020-07-25 13:49:44 ERROR (Thread-84) [plexapi] http://192.168.43.44:58871: HTTPConnectionPool(host='192.168.43.44', port=58871): Max retries exceeded with url: /resources (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x682f91d8>, 'Connection to 192.168.43.44 timed out. (connect timeout=3)'))
2020-07-25 13:49:44 ERROR (Thread-85) [plexapi] http://192.168.43.44:58871: HTTPConnectionPool(host='192.168.43.44', port=58871): Max retries exceeded with url: /resources (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x6b90ea90>, 'Connection to 192.168.43.44 timed out. (connect timeout=3)'))
2020-07-25 13:49:44 INFO (SyncWorker_6) [plexapi] Resource connection ERR (3s): http://192.168.43.44:58871?X-Plex-Token=None
2020-07-25 13:49:44 INFO (SyncWorker_6) [plexapi] Resource connection ERR (3s): http://192.168.43.44:58871?X-Plex-Token=None
```

## Additional information

The HA & Plex servers are located on local IP 192.168.10.1/24 so both the private IP's seen in the log are not routable
```
 _    _                                         _     _              _   
| |  | |                          /\           (_)   | |            | |  
| |__| | ___  _ __ ___   ___     /  \   ___ ___ _ ___| |_ __ _ _ __ | |_ 
|  __  |/ _ \| '_ ` _ \ / _ \   / /\ \ / __/ __| / __| __/ _` | '_ \| __|
| |  | | (_) | | | | | |  __/  / ____ \\__ \__ \ \__ \ || (_| | | | | |_ 
|_|  |_|\___/|_| |_| |_|\___| /_/    \_\___/___/_|___/\__\__,_|_| |_|\__|
                                                                         

Our command line:
$ ha help

~ $ host 192.168.1.5
Host 5.1.168.192.in-addr.arpa. not found: 3(NXDOMAIN)
~ $ host 192.168.43.44
Host 44.43.168.192.in-addr.arpa. not found: 3(NXDOMAIN)
~ $ 
```
"
38218,BOND fan control errors,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The BOND fan integration is generating errors when I try to turn fans on/off. I am using fans with on/off toggle control and speed increase / speed decrease remotes.
Also the fan speed increase/decrease control did not transfer over from the BOND application. In the Bond app I have a fan power toggle button and a fan speed increase and fan decrease button, but these did not show up in the HA bond integration for these fans.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->
I am using Home Assistant 0.113.1

- Home Assistant Core release with the issue: 
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): 
- Integration causing this issue: 
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->
Logger: homeassistant.core
Source: components/bond/fan.py:79
First occurred: 6:44:23 PM (7 occurrences)
Last logged: 6:57:40 PM

Error executing service: <ServiceCall fan.turn_on (c:02e523d448524fcfb8534672640c34f2): entity_id=['fan.fan']>
Error executing service: <ServiceCall fan.turn_on (c:20c6aa9fbc36416b93fee2a3a431ef84): entity_id=['fan.fan']>
Error executing service: <ServiceCall fan.turn_on (c:8b1e973328f449c7a90c27556113f122): entity_id=['fan.fan']>
Error executing service: <ServiceCall fan.turn_on (c:83817aca048048d59fee44e5a2083edf): entity_id=['fan.fan']>
Error executing service: <ServiceCall fan.turn_on (c:57b542fa44f1434f8005b0e211b64989): entity_id=['fan.fan']>
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1281, in catch_exceptions
    await coro_or_task
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1300, in _execute_service
    await handler.func(service_call)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_component.py"", line 208, in handle_service
    await self.hass.helpers.service.entity_service_call(
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 471, in entity_service_call
    future.result()  # pop exception if have
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 277, in async_update_ha_state
    self._async_write_ha_state()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 314, in _async_write_ha_state
    sstate = self.state
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 607, in state
    return STATE_ON if self.is_on else STATE_OFF
  File ""/usr/src/homeassistant/homeassistant/components/fan/__init__.py"", line 146, in is_on
    return self.speed not in [SPEED_OFF, None]
  File ""/usr/src/homeassistant/homeassistant/components/bond/fan.py"", line 79, in speed
    return self.speed_list[ha_speed]
IndexError: list index out of range
```txt

```

## Additional information

Thanks in advance for your help."
38198,RFXTRX/RFY - Sun-sensor switch no longer available,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
In version 112.4 I had a switch to toggle the sun-sensor for my Somfy covers. After the upgrade to 113.1 the address assigned now acts as up/down

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

arch | x86_64
-- | --
chassis |  
dev | false
docker | true
docker_version | 18.09.8
hassio | true
host_os |  
installation_type | Home Assistant Supervised
os_name | Linux
os_version | 4.4.59+
python_version | 3.8.3
supervisor | 229
timezone | Europe/Amsterdam
version | 0.113.1
virtualenv | false


- Home Assistant Core release with the issue: 113.1
- Last working Home Assistant Core release (if known): 112.4
- Operating environment (OS/Container/Supervised/Core): hassio
- Integration causing this issue: rfxtrx
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/rfxtrx/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
# RFXCom - Somfy/KaKu
rfxtrx:
    device: /dev/ttyUSB0
    debug: true
    devices:
        # Covers
        071a000003000101:
        071a000003000201:
        # Sun detector
        071a000003010101:
        071a000003010201:
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
38193,met: forecast timestamps are not in UTC,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

According to https://developers.home-assistant.io/docs/core/entity/weather/ the timestamp in the forecast data needs to be in

> UTC Date time in RFC 3339 format.

Instead timestamps from the met weather entity are in local time:

```yaml
forecast: 
- datetime: '2020-07-26T12:00:00+02:00'
  temperature: 23.6
  condition: partlycloudy
  pressure: 1011.5
  humidity: 54.6
  wind_speed: 22
  wind_bearing: 246.1
```

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue:  0.113.0
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): NixOS 20.09
- Integration causing this issue:  met
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/met/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

@Danielhiversen "
38186,"RFXTRX - after HA starts, every motion sensor is ON until the first trigger","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
After HA restarts, every RFXTRX motion sensor is ON until the first trigger.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.113
- Last working Home Assistant Core release (if known): 0.112
- Operating environment (OS/Container/Supervised/Core): Supervised
- Integration causing this issue: rfxtrx
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/rfxtrx/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
rfxtrx:
  device: /dev/serial/by-id/usb-RFXCOM_RFXtrx433_XXXXXXXX-if00-port0
  # debug: True
  automatic_add: False
  devices:
    09130000XXXXX101c000: #pir1
      device_class: motion
      off_delay:
        seconds: 2

    09130000XXXXX201c000: #pir2
      device_class: motion
      off_delay:
        seconds: 2

    09130000XXXXX301c000: #pir3
      device_class: motion
      off_delay:
        seconds: 2
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information
Renamed and changed the generated names/entity_ids on the integration page."
38151,after updating to 0.113 Beckhoff's ADS integration stopped working,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I'm using HA to aggregate info from many different platforms, but my home application is based on Beckhoff PLCs.
since last update (0.113), ads variables are not working anymore: I get all the variables read from PLC as  unknown or false o 0.
Checking the log, it seems an issue related to ADS implementation of callback notification with wrong buffer size of the return value (the log is below in the issue report).
In order to avoid messy logs and to narrow the most the problem, I reduced the configuration down to the read of just 1 single udint var.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.113
- Last working Home Assistant Core release (if known): 0.112.4 
- Operating environment (OS/Container/Supervised/Core): RasberryPI3B, HassOS 4.11/229
- Integration causing this issue: Beckhoff Twincat ADS
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/ads/  

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

# Configure a default setup of Home Assistant (frontend, api, etc)
default_config:
homeassistant:
 whitelist_external_dirs:
    - /config/tmp
#enable REST-API
api:

# Text to speech
tts:
  - platform: google_translate

group: !include groups.yaml
automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml



# TwinCAT Setup:
ads:
  device: '192.0.0.162.1.1'
  port: 851
  ip_address: '192.0.0.162'
  

sensor:
- platform: ads
  adsvar: PRG_MAIN.MAIN.secondiUp
  unit_of_measurement: sec
  adstype: uint
  name: Secondi Up


```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-07-24 10:29:54 ERROR (Dummy-11) [root] Uncaught exception
Traceback (most recent call last):
  File ""_ctypes/callbacks.c"", line 237, in 'calling callback function'
  File ""/usr/local/lib/python3.8/site-packages/pyads/pyads_ex.py"", line 849, in wrapper
    return callback(notification, data)
  File ""/usr/src/homeassistant/homeassistant/components/ads/__init__.py"", line 250, in _device_notification_callback
    value = struct.unpack(""
struct.error: unpack requires a buffer of 2 bytes

```

## Additional information

"
38147,Tesla Powerwall stopped working after 1.48 software update,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.4
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): Home Assistant Core running in Docker environment. 
- Integration causing this issue: Tesla Powerwall
- Link to integration documentation on our website:
- Last working Powerwall integration : 1.47

## Problem-relevant `configuration.yaml`


```yaml

```

## Traceback/Error logs
GUI warning :
Unknown powerwall software version. It seems like your powerwall uses an unsupported version. Please update the software of your powerwall or if it isalready the newest consider reporting this issue.
See logs for more information

Error log:
2020-07-22 21:05:14 ERROR (MainThread) [homeassistant.components.powerwall] Error fetching Powerwall site data: Unable to fetch data from powerwall
2020-07-22 21:06:54 ERROR (MainThread) [homeassistant.components.powerwall] Powerwall api error: It seems like the Powerwall API changed for '<class 'tesla_powerwall.responses.MetersResponse'>'': Some attributes have been removed from the response: ['timeout']

## Additional information

"
38136,"Abode randomly becomes ""unavailable"", restored by restart.","## The problem
About once a month my Abode integration and all entities will randomly become ""unavailable"".  I have to restart the system for it to come back.

## Environment
- Home Assistant Core release with the issue: 

0.112.4

- Operating environment (OS/Container/Supervised/Core): 

Home Assistant on Rasperry Pi 3B+

- Integration causing this issue: 

[Abode](https://www.home-assistant.io/integrations/abode/)

## Traceback/Error logs
```
Log Details (WARNING)
Logger: abodepy.socketio
Source: util/thread.py:20 
First occurred: 5:56:47 AM (1 occurrences) 
Last logged: 5:56:47 AM

Captured exception during SocketIO event callback: Request failed
```

## Additional information
I've check Abode's system status as well as my network status and there haven't appeared to be any outages at the time this occurs."
38116,Sensor Toon electricity meter feed in Tariff 1 and 2 not correct displaying,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
I enabled sensor.electricity_meter_feed_in_tariff_1 and sensor.electricity_meter_feed_in_tariff_2 in the new Toon component. 
Both sensors report exactly the same value. This can also be seen in the image dispayed in the pull request: https://github.com/home-assistant/core/pull/36952. Both sensors report the same value. Probably just a copy/paste issue in the code.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.113
- Last working Home Assistant Core release (if known): before the breaking Cuby change
- Operating environment (OS/Container/Supervised/Core): HassOS 4.10
- Integration causing this issue: Toon
- Link to integration documentation on our website: https://github.com/home-assistant/core/pull/36952

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

No yaml problem

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```no errors
```

## Additional information

see attachment for screenshot
![Toon_electricity_feed](https://user-images.githubusercontent.com/33121968/88293337-294d2280-ccfb-11ea-8e55-94829e94dbd4.png)
"
38084,Invalid Credentials Error - Cannot Set Up SimpliSafe,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

When attempting to add the integration for SimpliSafe, I receive an error stating 'Invalid Credentials' I have confirmed that the credentials are correct. They are being copied/pasted out of a password vault.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: Home Assistant 0.113.0
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): Linux 5.4.41-v71+ running in docker 19.03.12
- Integration causing this issue: SimpliSafe
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/simplisafe/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
Setting up through UI, also tried the following with no success:

simplisafe:
  accounts:
    - username: user@email.com
      password: password123

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
None.
```

## Additional information

"
38080,Error in logs from zeroconf,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
There is an error in the logs from the zeroconf integration

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.113.0
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): Supervised
- Integration causing this issue: zeroconf
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/zeroconf/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
zeroconf:
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Exception in thread zeroconf-ServiceBrowser__daap._tcp.local.-_nut._tcp.local.-_viziocast._tcp.local.-_elg._tcp.local.-_plugwise._tcp.local.-_dkapi._tcp.local.-_axis-video._tcp.local.-_spotify-connect._tcp.local.-_printer._tcp.local.-_ipps._tcp.local.-_wled._tcp.local.-_ipp._tcp.local.-_miio._udp.local.-_hap._tcp.local.-_api._udp.local.-_googlecast._tcp.local.-_esphomelib._tcp.local._286:
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/threading.py"", line 932, in _bootstrap_inner
    self.run()
  File ""/usr/local/lib/python3.8/site-packages/zeroconf/__init__.py"", line 1675, in run
    self._service_state_changed.fire(
  File ""/usr/local/lib/python3.8/site-packages/zeroconf/__init__.py"", line 1433, in fire
    h(**kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/zeroconf/__init__.py"", line 211, in service_update
    info = info_from_service(service_info)
  File ""/usr/src/homeassistant/homeassistant/components/zeroconf/__init__.py"", line 313, in info_from_service
    address = service.addresses[0]
IndexError: list index out of range
```

## Additional information

"
38058,Toon - Live updates stop after 1 hour,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Live updates from the Toon API stop 1 hour after registering the webhook. Re-register seems not to be working.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112.4
- Last working Home Assistant Core release (if known): /
- Operating environment (OS/Container/Supervised/Core): OS
- Integration causing this issue: Toon
- Link to integration documentation on our website: [/integrations/toon/](https://www.home-assistant.io/integrations/toon/)

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```
toon:
  client_id: XXX
  client_secret: XXX
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-07-22 08:09:44 DEBUG (MainThread) [custom_components.toon.coordinator] Got webhook data: {'code': 510, 'message': 'WebHook subscription expired for commonName: qb-XXX. Please subscribe again to receive updates.'}
2020-07-22 08:09:44 ERROR (MainThread) [homeassistant.components.webhook] Error processing webhook XXX
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/webhook/__init__.py"", line 97, in async_handle_webhook
    response = await webhook[""handler""](hass, webhook_id, request)
  File ""/config/custom_components/toon/coordinator.py"", line 107, in handle_webhook
    await self.register_webhook()
  File ""/config/custom_components/toon/coordinator.py"", line 79, in register_webhook
    self.handle_webhook,
  File ""/usr/src/homeassistant/homeassistant/components/webhook/__init__.py"", line 37, in async_register
    raise ValueError(""Handler is already defined!"")
ValueError: Handler is already defined!
```

## Additional information

"
38024,0.113.0b1 - KeyError: 'boundaries',"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Unfortunately, Neato integration doesn't work anymore.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.113.b1
- Last working Home Assistant Core release (if known): 0.112.4 
- Operating environment (OS/Container/Supervised/Core): Core
- Integration causing this issue: neato
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
UI config
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-07-20 16:47:05 ERROR (MainThread) [homeassistant.helpers.entity] Update for vacuum.philip fails
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 272, in async_update_ha_state
    await self.async_device_update()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 465, in async_device_update
    await self.hass.async_add_executor_job(
  File ""/usr/local/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/neato/vacuum.py"", line 267, in update
    self._robot_boundaries += robot_boundaries[""data""][""boundaries""]
KeyError: 'boundaries'
```

## Additional information

"
38013,"0.113.0b3 New rfxtrx-integration restores switch state to last state from RFXCOM only, not HA","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Trying the new rfxtrx integration with state restoration, at HA restart the switch state is always restored to last state received from RFXCOM - ie my physical remote. Regardless if another state was entered in HA.
Looking at the state_changed events, data.new_state.attributes.event is always the last heard message from RFXCOM, not what I expect HA has sent to RFXCOM after that - is this what is used to restore state?
Using remote TCP, not USB.
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.113.0b3
- Last working Home Assistant Core release (if known): N/A
- Operating environment (OS/Container/Supervised/Core): OS
- Integration causing this issue: rfxtrx
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
rfxtrx:
  automatic_add: false
  host: 10.1.2.3
  port: 50000
  debug: true
  devices:
    0b11000a013bfcfa01000060:
`
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
38010,Setup failed for Route53 on 113b03,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
On startup an error that setup failed for Route53 is in the logs


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->
113 Beta 3 running the docker container on Ubuntu 18.04LTS

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
route53:
  aws_access_key_id: XXXXX
  aws_secret_access_key: XXXXX
  zone: XXXXXXX
  domain: XXXXXX
  records:
    - home
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Setup failed for route53: Unable to import component: cannot import name 'linux_distribution' from 'platform' (/usr/local/lib/python3.8/platform.py)
8:10:31 AM – setup.py (ERROR)
```

## Additional information

"
37971,"n26 pip upgrade  |  400 Client Error: Bad Request for url: https://api.tech26.de/oauth/token","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
-->
N26 have updated their api people have fix the issue https://github.com/femueller/python-n26/issues/81 but home assistant needs to update the pip package n26 and i can't do it with home assistant os..

## Environment
<!--
Not necessary
-->

- Home Assistant Core release with the issue: Home Assistant 0.112.4
- Last working Home Assistant Core release (if known): /
- Operating environment (OS/Container/Supervised/Core): Home assistant os
- Integration causing this issue: n26
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/n26

## Problem-relevant `configuration.yaml`
<!--

-->

```yaml
 not necessary
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
 400 Client Error: Bad Request for url: https://api.tech26.de/oauth/token
```

## Additional information

"
37969,Homematic IP HmIP-SRH not reporting tilted state,"## The problem
Homematic IP rotary handle sensor HmIP-SRH fails to report the tilted status.

## Environment
- Home Assistant Core release with the issue: 0.112.5
- Last working Home Assistant Core release (if known):  
- Operating environment (OS/Container/Supervised/Core): HassOS 4.11
- Integration causing this issue: homematicip_cloud
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/homematicip_cloud/

## Problem-relevant `configuration.yaml`
```yaml

```

## Traceback/Error logs
```txt

```

## Additional information
The rotary handle sensor  HmIP-SRH can report three states: open, tilted and closed. The status is displayed correctly inside the Homematic IP App, but the homematicip_cloud integration implemented this sensor as binary sensor, allowing only open or closed. This prevents proper usage of this type of sensor."
37953,Hikvision Integration not functional with new gen Hikvision WIFI-Cam,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
So far even with the help of the community it is not possible to integrate a current generation Hikvision WIFI-Cam with Home Assistant through the Hikvision-Integration.
The camera itself is properly configured based on the recommendations with base/digest-Support for all authentication-methods, CGI-Integration enabled (even if not need), motion detection-functions enabled with ""Notify to Surveillance Station"" (with defined zones) and a proper operator-account ""hassio-mgmt"" with more than needed rights (for test purposes). The password itself is 16 characters long (maximum of supported length of the cam).
When i restart Home Assistant i can see on the cameras webinterface, that the hassio_mgmt-Useraccount is properly connected (see attached screenshots, the IP of homeassistant is the 192.168.150.10), but there are no binary sensors getting created.

Btw. the Onvif-Integration works without hiccups but the created sensors here are incomplete (no Line Detection), which is the reason, why i am trying the native hikvision-integration in Home Assistant.

<img src=""https://user-images.githubusercontent.com/65537552/87846142-e7247b00-c8cd-11ea-89cc-df4ec3b863cb.png"" width=""250"">
<img src=""https://user-images.githubusercontent.com/65537552/87846143-e7bd1180-c8cd-11ea-80b3-492b0cf32081.png"" width=""250"">
<img src=""https://user-images.githubusercontent.com/65537552/87846144-e855a800-c8cd-11ea-84ee-3f95f02ba302.png"" width=""250"">
<img src=""https://user-images.githubusercontent.com/65537552/87846145-e855a800-c8cd-11ea-951b-b5e90ac01337.png"" width=""250"">
<img src=""https://user-images.githubusercontent.com/65537552/87846146-e8ee3e80-c8cd-11ea-96dd-d8ba389a3390.png"" width=""250"">
<img src=""https://user-images.githubusercontent.com/65537552/87846147-e8ee3e80-c8cd-11ea-9fe2-c650c0b8eba9.png"" width=""250"">
<img src=""https://user-images.githubusercontent.com/65537552/87846149-ea1f6b80-c8cd-11ea-99bf-215675e650bb.png"" width=""250"">

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: **0.112.4**
- Hikcam DS-2CV2046G0-IDW camera firmware: **5.5.132 200132** (Newest Acusense Camera with Object Recognition)
- Last working Home Assistant Core release (if known): never
- Operating environment (OS/Container/Supervised/Core): Hassio in VM
- Integration causing this issue: hikvision
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/hikvision/
- Home Assistant and the Camera reside in different subnets (192.168.150.0/24 and 192.168.160.0/24), which are bidirectionally routed inbetween (without any port blocks at the moment)

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```  
binary_sensor:
- platform: hikvision
    name: hikcamfront
    host: 192.168.160.200
    port: 80
    ssl: false
    username: hassio_mgmt
    password: <PW>
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```2020-07-17 21:49:13 WARNING (Thread-5) [urllib3.connectionpool] Failed to parse headers (url=http://192.168.160.200:80/ISAPI/Event/notification/alertStream): [StartBoundaryNotFoundDefect(), MultipartInvariantViolationDefect()], unparsed data: ''
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py"", line 446, in _make_request
    assert_header_parsing(httplib_response.msg)
  File ""/usr/local/lib/python3.7/site-packages/urllib3/util/response.py"", line 71, in assert_header_parsing
    raise HeaderParsingError(defects=defects, unparsed_data=unparsed_data)
urllib3.exceptions.HeaderParsingError: [StartBoundaryNotFoundDefect(), MultipartInvariantViolationDefect()], unparsed data: ''
[2020-07-18]05:11:10 ERROR (Thread-5) [pyhik.hikvision] Problem finding attribute: 'duration'
2020-07-18 05:11:10 ERROR (Thread-5) [pyhik.hikvision] Problem finding attribute: 'duration'
2020-07-18 05:11:11 ERROR (Thread-5) [pyhik.hikvision] Problem finding attribute: 'duration'
2020-07-18 05:11:11 ERROR (Thread-5) [pyhik.hikvision] Problem finding attribute: 'duration'
2020-07-18 05:11:12 ERROR (Thread-5) [pyhik.hikvision] Problem finding attribute: 'duration'
2020-07-18 05:11:12 ERROR (Thread-5) [pyhik.hikvision] Problem finding attribute: 'duration'
2020-07-18 05:11:15 ERROR (Thread-5) [pyhik.hikvision] Problem finding attribute: 'duration'
2020-07-18 05:11:27 ERROR (Thread-5) [pyhik.hikvision] Problem finding attribute: 'duration'
2020-07-18 05:11:28 ERROR (Thread-5) [pyhik.hikvision] Problem finding attribute: 'duration'
2020-07-18 05:11:28 ERROR (Thread-5) [pyhik.hikvision] Problem finding attribute: 'duration'
2020-07-18 05:11:28 ERROR (Thread-5) [pyhik.hikvision] Problem finding attribute: 'duration'
2020-07-18 05:11:29 ERROR (Thread-5) [pyhik.hikvision] Problem finding attribute: 'duration'
2020-07-18 05:11:32 ERROR (Thread-5) [pyhik.hikvision] Problem finding attribute: 'duration'
```

## Additional information

"
37943,A way to put Aqara B1 curtain motor (ZNCLDJ12LM) into calibration mode,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
I'm using Aqara B1 curtain motor ZNCLDJ12LM. The model has optional detachable battery marked LLZDC12LM. I'm using motor without battery. After mains loss this motor losts its calibration endpoints. When this happens I have the following issues:
1. The motor pushes curtain hard to the limit every time;
2. Motor doesn't know current curtain position and reports only 0 and 100% without intermediate values;
3. The worst one. I'm unable to set an intermediate curtain position. Curtain can be only fully opened or closed.

It needs to be recalibrated. The only way to do that is a manual procedure in Mi Home app. Currently I've linked the motor to the 3rd-party MQTT coordinator so I lost the only way to do calibration.

I propose to implement a new cover service to put Aqara B1 curtain motor into calibration mode. I've found a driver implementation with such functionality (see function ""trackDiscoveryMode""): https://github.com/markus-li/Hubitat/blob/development/drivers/expanded/zigbee-aqara-smart-curtain-motor-expanded.groovy
If you know a different way to enter calibration mode please advise.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->
arch	aarch64
chassis	embedded
dev	false
docker	true
docker_version	19.03.8
hassio	true
host_os	HassOS 4.11
installation_type	Home Assistant OS
os_name	Linux
os_version	4.19.127-v8
python_version	3.7.7
supervisor	229
version	0.112.4
virtualenv	false

- Home Assistant Core release with the issue: 0.112.4
- Last working Home Assistant Core release (if known): None
- Operating environment (OS/Container/Supervised/Core): 
- Integration causing this issue: core/homeassistant/components/xiaomi_aqara/cover.py
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/xiaomi_aqara/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
I use autodiscovery for xiaomi_aqara so have no manual configuration.
```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information




"
37857,Withings: HA restart clears in_bed status,"It seems that HA restart changes the state of in_bed state to clear, even if the person still occupies the bed.
The entity tracking in_bed state is being recorded."
37851,Skybell user-agent blocked,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.

-->

After upgrading to latest Home Assistant via supervisor (112.4), upon next reboot I saw the following error in the configuration logs: [EDIT: It appears the connection between the Skybell failure and v112.4 is a coincidence of timing; others have done great work to narrow down the culprit in the comments.]

```
Error during setup of component skybell
12:02:05 PM – components/skybell/__init__.py (ERROR)
```

Skybell component is nonfunctional at the moment.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.

```
arch | armv7l
-- | --
chassis | embedded
dev | false
docker | true
docker_version | 19.03.8
hassio | true
host_os | HassOS 4.11
installation_type | Home Assistant OS
os_name | Linux
os_version | 4.19.127-v7l
python_version | 3.7.7
supervisor | 228
timezone | America/New_York
version | 0.112.4
virtualenv | false

```
-->

- Home Assistant Core release with the issue: 112.4
- Last working Home Assistant Core release (if known): 112.2 / 112.3
- Operating environment (OS/Container/Supervised/Core): Hassio
- Integration causing this issue: Skybell
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```
skybell:
  username: myusername
  password: mypassword

binary_sensor:
  - platform: skybell
    monitored_conditions:
    - button
    - motion
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
Logger: homeassistant.setup
Source: components/skybell/__init__.py:45 
First occurred: 12:02:05 PM (1 occurrences) 
Last logged: 12:02:05 PM

Error during setup of component skybell
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/skybellpy/__init__.py"", line 95, in login
    json_data=login_data, retry=False)
  File ""/usr/local/lib/python3.7/site-packages/skybellpy/__init__.py"", line 200, in send_request
    raise SkybellException(ERROR.REQUEST, ""Retry failed"")
skybellpy.exceptions.SkybellException: Request failed: Retry failed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/setup.py"", line 193, in _async_setup_component
    result = await asyncio.wait_for(task, SLOW_SETUP_MAX_WAIT)
  File ""/usr/local/lib/python3.7/asyncio/tasks.py"", line 442, in wait_for
    return fut.result()
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/skybell/__init__.py"", line 45, in setup
    username=username, password=password, get_devices=True, cache_path=cache
  File ""/usr/local/lib/python3.7/site-packages/skybellpy/__init__.py"", line 66, in __init__
    self.get_devices()
  File ""/usr/local/lib/python3.7/site-packages/skybellpy/__init__.py"", line 130, in get_devices
    response = self.send_request(""get"", CONST.DEVICES_URL)
  File ""/usr/local/lib/python3.7/site-packages/skybellpy/__init__.py"", line 196, in send_request
    self.login()
  File ""/usr/local/lib/python3.7/site-packages/skybellpy/__init__.py"", line 97, in login
    raise SkybellAuthenticationException(ERROR.LOGIN_FAILED, exc)
skybellpy.exceptions.SkybellAuthenticationException: Login failed: Request failed: Retry failed
Connection lost. Reconnecting…
```

## Additional information

Besides this new failure to connect, Skybell has historically had very slow response times for me - 30 minutes or more isn't uncommon. 
"
37844,Daikin component logs RuntimeError: coroutine raised StopIteration,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
After upgrading to core version 0.112.4 (from 0.111.x) the Daikin AC component started showing a RuntimeError in the logs:
```
RuntimeError: coroutine raised StopIteration
```
See full traceback below.

This does not appear to have any impact on an existing Daikin integration.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112.4
- Last working Home Assistant Core release (if known): 0.111.x
- Operating environment (OS/Container/Supervised/Core): 

arch | armv7l
-- | --
dev | false
docker | false
hassio | false
installation_type | Home Assistant Core
os_name | Linux
os_version | 4.19.120-v7l-FOU+
python_version | 3.7.3
timezone | Europe/Amsterdam
version | 0.112.4
virtualenv | true

- Integration causing this issue: Daikin AC
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/daikin/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

No relevant yaml config.


## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
Log Details (ERROR)
Logger: homeassistant.core
Source: data_entry_flow.py:201 
First occurred: 11:48:39 (1 occurrences) 
Last logged: 11:48:39

Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/daikin/config_flow.py"", line 133, in async_step_zeroconf
    await self.async_set_unique_id(next(iter(devices))[KEY_MAC])
StopIteration

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/data_entry_flow.py"", line 129, in async_init
    flow, flow.init_step, data, init_done
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
RuntimeError: coroutine raised StopIteration
```

## Additional information

"
37791,Zeroconf: bad file descriptor,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Error recorded in log

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112.4 
- Last working Home Assistant Core release (if known): 0.112.2 
- Operating environment (OS/Container/Supervised/Core): Core
- Integration causing this issue: zeroconf
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
-
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-07-12 19:36:51 WARNING (zeroconf-Engine-140076120746784) [zeroconf] Error reading from socket -1
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/zeroconf/__init__.py"", line 1358, in handle_read
    data, (addr, port, *_v6) = socket_.recvfrom(_MAX_MSG_ABSOLUTE)
OSError: [Errno 9] Bad file descriptor
```

## Additional information

"
37744,Sony Songpal Endpoint already configured,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I have experience this issue in two different scenarios now.  First when upgrading and changing from the media player platform syntax to the Songpal syntax in the configuration.yaml.  And now after trying to add the device to a clean installation.  The device or entities never become available.  An error is generated in the logs declaring the endpoint is already configured.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->


- Home Assistant Core release with the issue: Home Assistant 0.112.4
- Last working Home Assistant Core release (if known): unknown
- Operating environment (OS/Container/Supervised/Core): Hassio and Ubunto server 20.04 LTS in Docker
- Integration causing this issue: Songpal
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/songpal/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
#media_player:
#  - platform: songpal
#    name: Receiver
#    endpoint: http://192.168.0.205:10000/sony

songpal:
  - name: Receiver
    endpoint: http://192.168.0.208:10000/sony

```


## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Logger: aiohttp.server
Source: components/songpal/config_flow.py:151
First occurred: 10:45:37 PM (2 occurrences)
Last logged: 10:45:41 PM

Error handling request
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/real_ip.py"", line 39, in real_ip_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/ban.py"", line 73, in ban_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 129, in handle
    result = await result
  File ""/usr/src/homeassistant/homeassistant/components/config/config_entries.py"", line 145, in post
    return await super().post(request, flow_id)
  File ""/usr/src/homeassistant/homeassistant/components/http/data_validator.py"", line 60, in wrapper
    result = await method(view, request, *args, **kwargs)
  File ""/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py"", line 106, in post
    result = await self._flow_mgr.async_configure(flow_id, data)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 153, in async_configure
    result = await self._async_handle_step(flow, cur_step[""step_id""], user_input)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/songpal/config_flow.py"", line 72, in async_step_user
    return await self.async_step_init(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/songpal/config_flow.py"", line 77, in async_step_init
    if self._endpoint_already_configured():
  File ""/usr/src/homeassistant/homeassistant/components/songpal/config_flow.py"", line 151, in _endpoint_already_configured
    entry.data[CONF_ENDPOINT] for entry in self._async_current_entries()
  File ""/usr/src/homeassistant/homeassistant/components/songpal/config_flow.py"", line 151, in <listcomp>
    entry.data[CONF_ENDPOINT] for entry in self._async_current_entries()
KeyError: 'endpoint'
```

## Additional information

"
37714,Blink component broken,"-->
## The problem

Error configuration blink component: unexpected error

## Environment

Version | 228
-- | --
Latest version | 228


Hostname | hassio
-- | --
System | HassOS 4.11
Deployment | production


- Home Assistant Core release with the issue: 0.112
- Last working Home Assistant Core release (if known): 0.111
- Operating environment (OS/Container/Supervised/Core): 4.11
- Integration causing this issue: blink
- Link to integration documentation on our website: 

## Traceback/Error logs

Logger: homeassistant.components.blink.config_flow
Source: components/blink/config_flow.py:23
Integration: Blink (documentation, issues)
First occurred: 11:21:28 (2 occurrences)
Last logged: 12:32:39

Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/blink/config_flow.py"", line 75, in async_step_user
    response = await validate_input(self.hass, self.blink)
  File ""/usr/src/homeassistant/homeassistant/components/blink/config_flow.py"", line 23, in validate_input
    response = await hass.async_add_executor_job(blink.get_auth_token)
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/local/lib/python3.7/site-packages/blinkpy/blinkpy.py"", line 176, in get_auth_token
    self.setup_params(self.login_response)
  File ""/usr/local/lib/python3.7/site-packages/blinkpy/blinkpy.py"", line 189, in setup_params
    self.networks = self.get_networks()
  File ""/usr/local/lib/python3.7/site-packages/blinkpy/blinkpy.py"", line 195, in get_networks
    response = api.request_networks(self)
  File ""/usr/local/lib/python3.7/site-packages/blinkpy/api.py"", line 82, in request_networks
    return http_get(blink, url)
  File ""/usr/local/lib/python3.7/site-packages/blinkpy/api.py"", line 301, in http_get
    is_retry=is_retry,
  File ""/usr/local/lib/python3.7/site-packages/blinkpy/helpers/util.py"", line 104, in http_req
    if json_resp and ""code"" in response.json():
  File ""/usr/local/lib/python3.7/site-packages/requests/models.py"", line 898, in json
    return complexjson.loads(self.text, **kwargs)
  File ""/usr/local/lib/python3.7/site-packages/simplejson/__init__.py"", line 525, in loads
    return _default_decoder.decode(s)
  File ""/usr/local/lib/python3.7/site-packages/simplejson/decoder.py"", line 370, in decode
    obj, end = self.raw_decode(s)
  File ""/usr/local/lib/python3.7/site-packages/simplejson/decoder.py"", line 400, in raw_decode
    return self.scan_once(s, idx=_w(s, idx).end())
simplejson.errors.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

## Additional information

Error when configure blink component from gui

"
37704,Insteon Mini Remotes generating button on events when off is pressed,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I have an insteon mini remote model 2342-2. It's a 4 button remote (really eight buttons, a-on, a-off, ... d-on, d-off)

When I press button a on, home assistant shows a insteon.button_on event for the remote in question.

Sadly, when I press button a OFF, home assistant shows a insteon.button_on event as well for the remote in question.

Same remote is paired with a second PLM hooked up to Indigo on a Mac, and that system is definitely seeing button A OFF from the remote. Thus, I think there is a bug in the event handling code.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112.3
- Last working Home Assistant Core release (if known): 0.110.8
- Operating environment (OS/Container/Supervised/Core): HassOS on Raspberry Pi 4 64-bit
- Integration causing this issue: insteon
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/insteon/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
insteon:
  port: /dev/serial/by-id/usb-FTDI_FT232R_USB_UART_A906XMZS-if00-port0
  device_override:
  - address: 44.be.ce
     cat: 0x00
     subcat: 0x10
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

Button A on Pressed:
```txt
Event 13 fired 9:15 PM:
{
    ""event_type"": ""insteon.button_on"",
    ""data"": {
        ""address"": ""44bece"",
        ""button"": ""a""
    },
    ""origin"": ""LOCAL"",
    ""time_fired"": ""2020-07-10T04:15:51.905482+00:00"",
    ""context"": {
        ""id"": ""e16e8b96ef3d4ee9876eb1e2135bef82"",
        ""parent_id"": null,
        ""user_id"": null
    }
}
```

Button A OFF Pressed:
```txt
Event 14 fired 9:15 PM:
{
    ""event_type"": ""insteon.button_on"",
    ""data"": {
        ""address"": ""44bece"",
        ""button"": ""a""
    },
    ""origin"": ""LOCAL"",
    ""time_fired"": ""2020-07-10T04:15:57.518736+00:00"",
    ""context"": {
        ""id"": ""93fc2e483dad4ddeb332c4958ae88e21"",
        ""parent_id"": null,
        ""user_id"": null
    }
}
```

## Additional information

"
37689,Traceback when playing a clip in Plex,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
As noticed in #37670, some media types can cause issues when finding the session's username.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112.3
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): 
- Integration causing this issue: plex
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/plex/


## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-07-08 15:46:20 ERROR (MainThread) [homeassistant.util.logging] Exception in async_call when dispatching 'plex_update_platforms_signal.64481c1408267cf1fb58257bd667c863b7bdf79b': ()
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/debounce.py"", line 60, in async_call
    await self.hass.async_add_job(self.function)  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/components/plex/server.py"", line 348, in _async_update_platforms
    session_username = session.usernames[0]
  File ""/usr/local/lib/python3.7/site-packages/plexapi/base.py"", line 296, in __getattribute__
    value = super(PlexPartialObject, self).__getattribute__(attr)
AttributeError: 'Clip' object has no attribute 'usernames'
```"
37681,Internal Server Error while configuring Toon,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

I've been trying to setup Toon integration but no luck. After setting up the config with my client ID and secret I created in Toon API, I'm sent to the correct login page of my vendor (Engie Boxx). When I enter my correct login data, I'm redirected to the same login page. When I retry, I'm redirected to the callback URL which mentions an 'Internal server error' and then I'm stuck.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112.4
- Last working Home Assistant Core release (if known): /
- Operating environment (OS/Container/Supervised/Core): OS
- Integration causing this issue: Toon
- Link to integration documentation on our website: [/integrations/toon](https://www.home-assistant.io/integrations/toon/)

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
toon:
  client_id: <Toon API Consumer Key>
  client_secret: <Toon API Consumer Secret>
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->
Error on first redirect:
```txt
Error handling request
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/real_ip.py"", line 39, in real_ip_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/ban.py"", line 73, in ban_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 129, in handle
    result = await result
  File ""/usr/src/homeassistant/homeassistant/components/config/config_entries.py"", line 136, in get
    return await super().get(request, flow_id)
  File ""/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py"", line 92, in get
    result = await self._flow_mgr.async_configure(flow_id)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 153, in async_configure
    result = await self._async_handle_step(flow, cur_step[""step_id""], user_input)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/helpers/config_entry_oauth2_flow.py"", line 260, in async_step_creation
    token[""expires_at""] = time.time() + token[""expires_in""]
TypeError: unsupported operand type(s) for +: 'float' and 'str'
```

Error on second redirect:
```txt
Error handling request
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/real_ip.py"", line 39, in real_ip_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/ban.py"", line 73, in ban_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 129, in handle
    result = await result
  File ""/usr/src/homeassistant/homeassistant/helpers/config_entry_oauth2_flow.py"", line 389, in get
    flow_id=state[""flow_id""], user_input=request.query[""code""]
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 153, in async_configure
    result = await self._async_handle_step(flow, cur_step[""step_id""], user_input)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/helpers/config_entry_oauth2_flow.py"", line 259, in async_step_creation
    token = await self.flow_impl.async_resolve_external_data(self.external_data)
  File ""/usr/src/homeassistant/homeassistant/components/toon/oauth2.py"", line 104, in async_resolve_external_data
    return await self._token_request(data)
  File ""/usr/src/homeassistant/homeassistant/components/toon/oauth2.py"", line 134, in _token_request
    resp.raise_for_status()
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/client_reqrep.py"", line 946, in raise_for_status
    headers=self.headers)
aiohttp.client_exceptions.ClientResponseError: 404, message='Not Found', url='https://api.toon.eu/token
```
## Additional information

"
37662,MQTT entities shown as 'unavailable' after restart of HA,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
After this change all of my RF binary sensors (magnetic door sensors, water sensors, PIR motion sensors) show unavailable after restarting HA. A lot of users are experiencing this behavior and it is a big problem. Before, I could click on a door sensor and I was able to see when was the last time it was open/closed. Now it shows unavailable until the door is open.

If I restart HA (which I did after upgrading) all of these sensors show unavailable. If I open a door or if I trigger the PIR, then the sensor triggered connects to HA and afterwards it starts showing the correct status. I don’t want to have to activate every single binary sensor to show the correct status. If I activate any of my 10 water sensors, the entire house will go on panic mode thinking there is a water leak.
My mail arriving notification depends on a magnetic sensor as well and it has been working flawlessly for more than a year. Besides, I have not had any issues with this in the past two years. This works as my alarm system when I am not home. The logs in HA do not show any related errors or warnings. I restored a snapshot to 0.111.4 and everything works well.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: Home Assistant Core 0.112.3
- Last working Home Assistant Core release (if known): Home Assistant Core 0.111.4
- Operating environment (OS/Container/Supervised/Core): Core
- Integration causing this issue: 
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
binary_sensor:
  platform: mqtt
  name: ""Front Door""
  state_topic: ""Home/RF_Bridge/RESULT""
  value_template: >-
    {% if value_json.RfReceived.Data == 'FD0399' %}
      {{'ON'}}
    {% else %}
      {{states('binary_sensor.188_front_door') | upper}}
    {% endif %}
  qos: 1
  device_class: Door
  off_delay: 5
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information
![binsensors](https://user-images.githubusercontent.com/62909880/86971360-0b01f700-c13f-11ea-8a7c-530104314799.JPG)

"
37661,"Xiaomi-Aqara Gateway via Integration page can't be found because of lack of option ""host"" in new integration GUI","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Trying to add my old Xiaomi Aqara Gateway with the new GUI integration page - not working.

<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment

dev | false
-- | --
docker | false
hassio | false
installation_type | Home Assistant Core
os_name | Linux
os_version | 4.19.66-v7+
python_version | 3.7.3
timezone | Europe/Moscow
virtualenv | true

<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: >0.111.4
- Last working Home Assistant Core release (if known): 0.111.4
- Operating environment (OS/Container/Supervised/Core): Core
- Integration causing this issue: xiaomi_aqara
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/xiaomi_aqara/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
OSError: [Errno 99] Cannot assign requested address
```

## Additional information

Multicasts (used by discovery) not working well in my network, so, gateway can't be finded. Old yaml configuration had the option ""host"" to set the ip of gateway directly. I used that option and my Gateway had work without problem. Now i can't add it back because that option (host) is not exists in new integration, so, it is not possible to add Gateway anymore."
37658,"Speedtest.net (still) ignores ""disable auto update"" after a restart","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

Since 0.112 and the switch to UI configuration, the speedtest integration does not work properly (i.e. tests are done every ~15 sec) when ""disable auto update"" is checked. I opened an issue https://github.com/home-assistant/core/issues/37381, which was immediately taken care of with this PR https://github.com/home-assistant/core/pull/37403 (thank you again!) - but unfortunately the problem is not resolved, yet.

Here's my configuration:

![Bildschirmfoto 2020-07-08 um 20 28 23](https://user-images.githubusercontent.com/57773976/86961179-149c5680-c161-11ea-9f92-81307dad272b.png)

When I re-apply the settings, it works perfectly - but only until I restart HA.

Thank you very much for having another look!

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112.0/1/2/3
- Last working Home Assistant Core release (if known): probably none, as UI configuration was introduced in 0.112.0 - but it worked fine with yaml configuration on 0.111.4
- Operating environment (OS/Container/Supervised/Core): Supervised
- Integration causing this issue: speedtest.net
- Link to integration documentation on our website: https://rc.home-assistant.io/integrations/speedtestdotnet/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
38604,Issue configuring IKEA Tradfri,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I've set up Tradfri before, but after a power outage repeatedly turning the power on and off reset all of my Tradfri lights, I removed the integration from Home Assistant and reconnected all the lights to the gateway. Now I want to add Tradfri back but when I do the config flow, it says that an `Unknown error occurred` and the error log below appears.

All of the information is right and I've rebooted everything multiple times, so I'm not sure what it is.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.113.3
- Last working Home Assistant Core release (if known): Not sure, but it definitely worked before
- Operating environment (OS/Container/Supervised/Core): Hass.io/Home Assistant OS
- Integration causing this issue: IKEA Tradfri
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/tradfri/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

None, used integration config flow.

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Traceback (most recent call last):
  File ""/usr/local/lib/python3.8/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/usr/local/lib/python3.8/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/usr/local/lib/python3.8/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/real_ip.py"", line 39, in real_ip_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/ban.py"", line 73, in ban_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 129, in handle
    result = await result
  File ""/usr/src/homeassistant/homeassistant/components/config/config_entries.py"", line 145, in post
    return await super().post(request, flow_id)
  File ""/usr/src/homeassistant/homeassistant/components/http/data_validator.py"", line 60, in wrapper
    result = await method(view, request, *args, **kwargs)
  File ""/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py"", line 106, in post
    result = await self._flow_mgr.async_configure(flow_id, data)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 153, in async_configure
    result = await self._async_handle_step(flow, cur_step[""step_id""], user_input)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/tradfri/config_flow.py"", line 62, in async_step_auth
    return await self._entry_from_data(auth)
  File ""/usr/src/homeassistant/homeassistant/components/tradfri/config_flow.py"", line 141, in _entry_from_data
    same_hub_entries = [
  File ""/usr/src/homeassistant/homeassistant/components/tradfri/config_flow.py"", line 144, in <listcomp>
    if entry.data[CONF_GATEWAY_ID] == gateway_id
KeyError: 'gateway_id'
```

## Additional information"
37600,Unmapped status of Xiaomi vacuum,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
While updating the firmware of the vacuum, there's an error of unmapped status (UPDATEING),
need to add it to the list of the available status

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112.3
- Last working Home Assistant Core release (if known): No
- Operating environment (OS/Container/Supervised/Core): Container 
- Integration causing this issue: xiaomi_miio.vacuum
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/vacuum.xiaomi_miio/ 

## Traceback/Error logs
```txt
ERROR (MainThread) [homeassistant.components.xiaomi_miio.vacuum] STATE not supported: Updating, state_code: 14
```
"
37573,Integration Smappee not working correctly,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->Smappee introduced a new integration but that doesn't work with older Smappee products and solar but only with the Infinity product
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->The following sensors are always unavailable:
""sensor.casa_girassol_line_voltages_a unavailable
sensor.casa_girassol_line_voltages_b unavailable
sensor.casa_girassol_line_voltages_c unavailable
sensor.casa_girassol_phase_voltages_a unavailable
sensor.casa_girassol_phase_voltages_b unavailable
sensor.casa_girassol_phase_voltages_c unavailable""
The solar sensor does not appear anymore

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->version 0.112.2

- Home Assistant Core release with the issue: 0.112.0
- Last working Home Assistant Core release (if known): 0.111
- Operating environment (OS/Container/Supervised/Core): hass.io on Intel NUC
- Integration causing this issue: Smappee
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
smappee:
    client_id: !secret smappee_client_id
    client_secret: !secret smappee_client_secret
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
--> no error logs anymore

```txt

```

## Additional information

"
37568,Smappee + Hassio only works for a few hours,"Hi there,
I am using home assistant with the configuration here:
https://www.home-assistant.io/integrations/smappee/

Everything works OK for a few hours, maybe a day, then it goes to 'unavailable"" status and I have to reinstall smappee again.
Done this 3 or 4 times already and it keeps happening, so am starting to think there may be a known issue in this respect?

Thank you,
Fabrizio"
37563,Loop Energy no longer works version 0.112.2 ,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
Loop Energy no longer works version 0.112.2 
-->


## Environment
<!--

arch | x86_64
-- | --
dev | false
docker | false
hassio | false
installation_type | Home Assistant Core
os_name | Linux
os_version | 5.3.0-kali1-amd64
python_version | 3.7.5
timezone | Europe/Isle_of_Man
version | 0.112.2
virtualenv | true


-->

- Home Assistant Core release with the issue:  0.112.2 
- Last working Home Assistant Core release (if known): 0.111.4
- Operating environment (OS/Container/Supervised/Core): os_name | Linux
os_version | 5.3.0-kali1-amd64
- Integration causing this issue: Loop Energy
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/loopenergy/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```sensor 3:
  platform: loopenergy
  electricity:
    electricity_serial: redacted
    electricity_secret: redacted
  gas:
    gas_serial: redacted
    gas_secret: redacted
    gas_type: metric

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```2020-07-06 16:03:09 ERROR (LoopEnergy Event Thread) [root] Uncaught exception
Traceback (most recent call last):
  File ""/root/homeassistant/lib/python3.7/site-packages/homeassistant/util/thread.py"", line 20, in run
    run_old(*args, **kwargs)
  File ""/usr/lib/python3.7/threading.py"", line 870, in run
    self._target(*self._args, **self._kwargs)
  File ""/root/homeassistant/lib/python3.7/site-packages/pyloopenergy/loop_energy.py"", line 168, in _run_event_thread
    socket_io.wait(seconds=WAIT_BEFORE_POLL)
  File ""/root/homeassistant/lib/python3.7/site-packages/socketIO_client_nexus/__init__.py"", line 251, in wait
    self._process_packets()
  File ""/root/homeassistant/lib/python3.7/site-packages/socketIO_client_nexus/__init__.py"", line 278, in _process_packets
    self._process_packet(engineIO_packet)
  File ""/root/homeassistant/lib/python3.7/site-packages/socketIO_client_nexus/__init__.py"", line 491, in _process_packet
    delegate(parse_socketIO_packet_data(socketIO_packet_data), namespace)
  File ""/root/homeassistant/lib/python3.7/site-packages/socketIO_client_nexus/__init__.py"", line 513, in _on_event
    namespace._find_packet_callback(event)(*args)
  File ""/root/homeassistant/lib/python3.7/site-packages/pyloopenergy/loop_energy.py"", line 201, in _update_elec
    self._elec_callback()
  File ""/root/homeassistant/lib/python3.7/site-packages/homeassistant/components/loopenergy/sensor.py"", line 116, in _callback
    self.schedule_update_ha_state(True)
  File ""/root/homeassistant/lib/python3.7/site-packages/homeassistant/helpers/entity.py"", line 416, in schedule_update_ha_state
    assert self.hass is not None
AssertionError

```

## Additional information

"
37544,WEMO motion sensor true state detected does not always update linked binary sensor entity,"## The problem
WEMO Motion sensor ON state change is detected by pywemo but does not reliably result in a state change of the linked binary sensor. Outcome is intermittent, approximately only 1 in 10 sensor true state results in a state change to the binary sensor entity to ON.

## Environment
HA core 0.112.1
last working version is not clear perhaps 0.110, however I don't think the issue is version related as it was working and then stopped working prior to an update.
Supervisor issue 228
OS version
System - Ubuntu 18.04.4 LTS
Docker version - 19.03.12
Integration causing the issue is wemo - https://www.home-assistant.io/integrations/wemo/


## Problem-relevant `configuration.yaml`

configuration.yaml is below but wemo is configured via ui.

[https://drive.google.com/file/d/1bFj8mXernykvGrbX3PeGrRWyIQxLfKcK/view?usp=sharing](url)

linked file Binary_sensor.yaml is below but there is no entry for 'kitche motion' as the sensor is configured via UI
[https://drive.google.com/file/d/1oxdEm9Ptsuj0ztDGb0Vb5fNuI04FY39U/view?usp=sharing](url)


## Traceback/Error logs

There are four relevant files.

home-assistant-kitchen-motion.log - home assistant log file with the following logger settings:
logger:
  default: warning
  logs:
    homeassistant.components.wemo: debug
    pywemo: debug

[https://drive.google.com/file/d/1c5hSH5oxG3GEGzwdud8UuYby5BdFH7Gn/view?usp=sharing](url)

Kitchen-motion-screenshot.png - screenshot of the logbook showing the ‘kitchen_motion turned on’ events for the same period as the above file.

![image](https://user-images.githubusercontent.com/31378549/86561003-eec95300-bfa2-11ea-8a37-4431a268fcbd.png)


home-assistant-debug.log - home assistant log file with the following logger settings:
logger:
  default: debug

[https://drive.google.com/file/d/1CB07xM9-12ADMilPdOmJjROHl3-CJT6N/view?usp=sharing](url)

Debug-screenshot.png - screenshot of the logbook showing the ‘kitchen_motion turned on’ events whilst logger is set to debug.

![image](https://user-images.githubusercontent.com/31378549/86561084-26d09600-bfa3-11ea-81b6-530064541dfa.png)


## Additional information

The file ‘home-assistant-kitchen-motion.log’ shows the motion sensor having a BinaryState 1 recorded 11 times. However, the logbook (Kitchen-motion-screenshot.png) for the equivalent period shows only 2 events.

This is further reinforced when logger default setting is set to ‘debug’. The file ‘debug-screenshot.png’ shows the previous two events plus a new one at 3:09:06. Perusing the file ‘home-assistant-debug.log’ shows 5 occurrences of ‘Kitchen Motion’ being set to 1, but only one at 15:09:03 that results in the following entry:

2020-07-06 15:09:06 DEBUG (MainThread) [homeassistant.core] Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.kitchen_motion, old_state=<state binary_sensor.kitchen_motion=off; friendly_name=Kitchen Motion @ 2020-07-06T15:07:33.153588+10:00>, new_state=<state binary_sensor.kitchen_motion=on; friendly_name=Kitchen Motion @ 2020-07-06T15:09:06.418506+10:00>>

All of the others whilst they are seen by pywemo seem to be ignored by ha core.

Please let me know if I can provide more comprehensive log entries
"
37537,ISY994 Integration not fixing temp targets (high/low setpoints) for 2x reporting v4.7 ISY,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 

-->
Running an ISY994 V4 system.  Thermostat display in HA shows correct temperature but shows double the setpoint values.  Looks like HA isn't doing the divide by 2 needed for those.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue:  112.2
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core):  Container
- Integration causing this issue:  ISY994
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/isy994/

## Problem-relevant `configuration.yaml`
<!--
ISYs report all thermostat value in .5 degree increments.  HA is adjusting the actual temp but apparently not the setpoint values.  This happens with V4.7 ISY - not sure if this is different for V5.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
37522,Xiaomi Miio Gateway Sensor Error in 0.113dev,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

I previously had the xiaomi miio gateway configured for the alarm control panel in my dev instance.  After #36539 upon start I get an error and no sensors are created.  If I recreate the config flow I get the same error.
## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.113dev
- Last working Home Assistant Core release (if known): 0.112 (sensors didnt exist so might be N/A) 
- Operating environment (OS/Container/Supervised/Core): venv 
- Integration causing this issue: xiaomi miio
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/alarm_control_panel.xiaomi_miio/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
via config flow
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-07-05 10:20:46 ERROR (MainThread) [homeassistant.components.sensor] Error while setting up xiaomi_miio platform for sensor
Traceback (most recent call last):
  File ""/mnt/c/dev/home-assistant/homeassistant/helpers/entity_platform.py"", line 179, in _async_setup_platform
    await asyncio.wait_for(asyncio.shield(task), SLOW_SETUP_MAX_WAIT)
  File ""/usr/local/lib/python3.7/asyncio/tasks.py"", line 416, in wait_for
    return fut.result()
  File ""/mnt/c/dev/home-assistant/homeassistant/components/xiaomi_miio/sensor.py"", line 93, in async_setup_entry
    for variable in sensor_variables
UnboundLocalError: local variable 'sensor_variables' referenced before assignment
```

## Additional information

The gateway alarm control panel is still setup despite this error.  For clarity I have several devices connected to my gateway like temperature sensors, motion sensors, contact sensors etc...

![image](https://user-images.githubusercontent.com/1634145/86538298-0cff5800-beaa-11ea-8137-235f3a1fd458.png)

CC: @starkillerOG "
37521,Next Rain parameter missing - Meteo France Integration,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
In HA logs, there's a permanent error for a missing parameter ""next_rain"" in Meteo France Integration. My city is not compatible with ""next_rain"" feature of Meteo France website > this information is not retrieved and generates an error.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: Home Assistant 0.112.2
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): HassOS 4.11
- Integration causing this issue: meteo_france
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/meteo_france

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
city: 'Castries'
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Logger: homeassistant.components.meteo_france.sensor
Source: components/meteo_france/sensor.py:166
Integration: Météo-France (documentation, issues)
First occurred: 6:27:09 PM (84 occurrences)
Last logged: 7:10:01 PM

No condition next_rain for location Castries
```

## Additional information

"
37517,Hue Integration Created Multiple Instances,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

I added a third Hue Bridge to my home.  The original two bridges had carried over from before the Hue integration was added via the integrations interface (originally configured via configuration.yaml), and were working fine.  They had imported into the integrations tab without issue.

After adding the third bridge, I had three instances of Hue that had been ""discovered"".  I successfully integrated them all by pairing the bridges with Home Assistant, but the first two bridges are now showing duplicates on the integration tab.  

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

Home Assistant Core 0.112.2

- Home Assistant Core release with the issue: Home Assistant 0.112.2
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): Core, Running in FreeNAS (FreeBSD Jail)
- Integration causing this issue: Philips Hue
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/hue/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

Configured via UI, no Hue code in .yaml files.

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

There are entries for duplicate entities in the logs, for example.

Logger: homeassistant.components.light
Source: helpers/entity_platform.py:439
Integration: Light (documentation, issues)
First occurred: 11:07:54 AM (15 occurrences)
Last logged: 11:08:41 AM

    Entity id already exists - ignoring: light.front_yard_post_lamp. Platform hue does not generate unique IDs
    Entity id already exists - ignoring: light.kitchen_stove. Platform hue does not generate unique IDs
    Entity id already exists - ignoring: light.mud_room_ceiling. Platform hue does not generate unique IDs
    Entity id already exists - ignoring: light.porch_ceiling. Platform hue does not generate unique IDs


```txt

```

## Additional information

![Hue](https://user-images.githubusercontent.com/47436307/86537300-30330300-bebc-11ea-850c-efabb642274f.png)
"
37484,Denon AVR is not being detected by the config flow,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem

My Denon AVR is not being detected by the config flow (also not with manual IP)
I can't use my Denon anymore. Has worked for years before :-(

<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 112.2
- Last working Home Assistant Core release (if known): 111.4
- Operating environment (OS/Container/Supervised/Core):  4.11
- Integration causing this issue:  Denon AVR
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/denonavr/

## Problem-relevant `configuration.yaml`

THE PREVIOUS configuration.yaml SETTING I USED BEFORE. IT'S NOW REMOVED.
media_player:
  - platform: denonavr
    host: 192.168.66.9
    name: Denon DN-500AV
    show_all_sources: false
    timeout: 2

<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
If I don't enter a IP in the config flow it says: Failed to discover a Denon AVR Network Receiver

And if I do enter a manual IP adres it says: Failed to connect, please try again
and registers in the log these two:

2020-07-05 11:18:35 WARNING (ThreadPoolExecutor-11_1) [DenonAVR] Receiver name could not be determined. Using standard name: Denon AVR.

2020-07-05 11:18:35 ERROR (MainThread) [homeassistant.components.denonavr.receiver] Missing receiver information: manufacturer 'None', name 'Denon AVR', model 'None', type 'avr'

```

## Additional information
But if I press the big plus sign. Lookup Denon, enter your IP/hostname.

192.168.66.9

I get: Failed to connect, please try again. And it has been working for years before updating to 112.2"
37466,OZW: Removing a node does not remove the device from the integration,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Nodes removed from the z-wave network leave orphaned devices in the integration.  The nodes are completely gone from from the MQTT broker, but the device is still listed in HA under devices as belonging to the OpenZWave integration.  There appears to be no way to remove a device.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112 (but also 0.111)
- Last working Home Assistant Core release (if known): N/A
- Operating environment (OS/Container/Supervised/Core): Container
- Integration causing this issue: ozw
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/ozw/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
N/A

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->
N/A

## Additional information

"
37449,After upgrade to .112.1 Lutron-Caseta occupancy sensor is no longer recognized at startup,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
HA started up error free in version 0.111.4. As soon as I upgraded to 0.112 the lutron-caseta threw an error during startup. See trace log below.
-->
HA started up error free in version 0.111.4. As soon as I upgraded to 0.112 the lutron-caseta threw an error during startup. See trace log below.

## Environment
<!--
See Operating environment below
-->

- Home Assistant Core release with the issue: 0 .112
- Last working Home Assistant Core release (if known): 0 .111.4
- Operating environment (OS/Container/Supervised/Core): 
arch | armv7l
-- | --
chassis |  
dev | false
docker | true
docker_version | 19.03.9
hassio | true
host_os | Raspbian GNU/Linux 10 (buster)
installation_type | Home Assistant Supervised
os_name | Linux
os_version | 4.19.97-v7l+
python_version | 3.7.7
supervisor | 228
timezone | America/Denver
version | 0.112.1
virtualenv | false


- Integration causing this issue: lutron_caseta
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
lutron_caseta:
    host: 192.168.4.53
    keyfile: caseta.key
    certfile: caseta.crt
    ca_certs: caseta-bridge.crt
-->
lutron_caseta:
    host: 192.168.4.53
    keyfile: caseta.key
    certfile: caseta.crt
    ca_certs: caseta-bridge.crt
```yaml

```

## Traceback/Error logs
<!--
2020-07-02 20:51:33 ERROR (MainThread) [homeassistant.components.binary_sensor] Error while setting up lutron_caseta platform for binary_sensor
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 186, in _async_setup_platform
    await asyncio.gather(pending)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 292, in async_add_entities
    await asyncio.gather(tasks)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 343, in _async_add_entity
    device_info = entity.device_info
  File ""/usr/src/homeassistant/homeassistant/components/lutron_caseta/init.py"", line 134, in device_info
    ""identifiers"": {(DOMAIN, self.serial)},
  File ""/usr/src/homeassistant/homeassistant/components/lutron_caseta/init.py"", line 123, in serial
    return self._device[""serial""]
KeyError: 'serial'
-->
2020-07-02 20:51:33 ERROR (MainThread) [homeassistant.components.binary_sensor] Error while setting up lutron_caseta platform for binary_sensor
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 186, in _async_setup_platform
    await asyncio.gather(pending)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 292, in async_add_entities
    await asyncio.gather(tasks)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 343, in _async_add_entity
    device_info = entity.device_info
  File ""/usr/src/homeassistant/homeassistant/components/lutron_caseta/init.py"", line 134, in device_info
    ""identifiers"": {(DOMAIN, self.serial)},
  File ""/usr/src/homeassistant/homeassistant/components/lutron_caseta/init.py"", line 123, in serial
    return self._device[""serial""]
KeyError: 'serial'
```txt

```

## Additional information

"
37381,"Speedtest.net ignores ""disable auto update"" after a restart","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
After upgrading to 0.112.0, I manually configured the speedtestdotnet integration via UI and removed it from configuration.yaml. Since I want to control it myself, I checked the box ""disable auto update"" and put 0 as update frequency.

After I've restarted, I noticed extreme cpu usage and saw that the speedtests are done multiple times a minute, so I assume the check-box ""disable auto update"" gets ignored after a restart. When I go to the integrations' option and hit submit (without changing the options), it works as expected and the cpu usage is back to normal - but only until the next restart.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue:  0.112.0
- Last working Home Assistant Core release (if known): probably none, as UI configuration is new in 0.112.0 - but it worked fine with yaml configuration on 0.111.4
- Operating environment (OS/Container/Supervised/Core): Supervised
- Integration causing this issue: speedtest.net
- Link to integration documentation on our website: https://rc.home-assistant.io/integrations/speedtestdotnet/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
37333,Can't connect to Harmony Hub since 0.112,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I've updated HA from 0.111.3 to 0.112 today. After the update I get the following error in the log file and the integration is not working anymore.

I already tried to reboot the harmony hub, deactivate and activate the ""XMPP"" developer options and readd the integration.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112
- Last working Home Assistant Core release (if known): 0.111.3
- Operating environment (OS/Container/Supervised/Core): OS
- Integration causing this issue: Logitech Harmony Hub
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/harmony/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
remote:
  - platform: harmony
    name: Wohnzimmer
     host: 192.168.xxx.xx
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-07-02 11:10:09 WARNING (MainThread) [slixmpp.stringprep] Using slower stringprep, consider compiling the faster cython/libidn one.
2020-07-02 11:10:10 ERROR (MainThread) [homeassistant.core] Error doing job: Task exception was never retrieved
concurrent.futures._base.CancelledError
2020-07-02 11:10:10 ERROR (MainThread) [homeassistant.components.harmony.config_flow] Unexpected exception
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/harmony/config_flow.py"", line 63, in async_step_user
    validated = await validate_input(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/harmony/config_flow.py"", line 36, in validate_input
    harmony = await get_harmony_client_if_available(data[CONF_HOST])
  File ""/usr/src/homeassistant/homeassistant/components/harmony/util.py"", line 35, in get_harmony_client_if_available
    if not await harmony.connect():
  File ""/usr/local/lib/python3.7/site-packages/aioharmony/harmonyapi.py"", line 149, in connect
    return await self._harmony_client.connect()
  File ""/usr/local/lib/python3.7/site-packages/aioharmony/harmonyclient.py"", line 189, in connect
    if not await self._hub_connection.hub_connect():
  File ""/usr/local/lib/python3.7/site-packages/aioharmony/hubconnector_xmpp.py"", line 188, in hub_connect
    await connected
  File ""/usr/local/lib/python3.7/site-packages/slixmpp/xmlstream/xmlstream.py"", line 332, in _connect_routine
    server_hostname=self.default_domain if self.use_ssl else None)
  File ""/usr/local/lib/python3.7/asyncio/base_events.py"", line 962, in create_connection
    raise exceptions[0]
  File ""/usr/local/lib/python3.7/asyncio/base_events.py"", line 949, in create_connection
    await self.sock_connect(sock, address)
  File ""/usr/local/lib/python3.7/asyncio/selector_events.py"", line 473, in sock_connect
    return await fut
  File ""/usr/local/lib/python3.7/asyncio/selector_events.py"", line 503, in _sock_connect_cb
    raise OSError(err, f'Connect call failed {address}')
ConnectionRefusedError: [Errno 111] Connect call failed ('::', 5222, 0, 0)
```

## Additional information

"
37332,PS4 in a group or a scene tuns ON on turn_off in 0.112.0,"## The problem
I have a group which represent my media point, consisting of TV, AV Receiver and PS4. 
```yaml
br_tv_set:
  name: BR TV Set
  entities:
    - media_player.br_tv
    - media_player.br_receiver
    - media_player.br_playstation_4
```

I'm using it to determinate whether some part of this group is on and to turn them off in one toggle (in UI). It worked perfectly before, but with upgrade to 0.112 logic became broken. If I call `homeassistant.turn_off` on `group.br_tv_set` with PS4 in ""off"" state (actual state is `idle`, according to state viewer) it actually turns on the PS4. 

So logic is completelly broken. Say, I'm watching TV, willing to turn it off, I'm pressing the group toggle in the UI and it does the opposite - it turns off TV and turns on PS4.

Turns out that scenes are also affected. Calling `scene.turn_on` on the following scene also causes PS4 to turn on:

```yaml
- name: BR TV Off
  entities:
    media_player.br_tv:
      state: off
    media_player.br_receiver:
      state: off
    media_player.br_playstation_4:
      state: off
```

## Environment
- Home Assistant Core release with the issue: 0.112.0
- Last working Home Assistant Core release (if known): 0.111.4
- Operating environment (OS/Container/Supervised/Core): HASS.io
- Integration causing this issue: ps4. group (?)
- Link to integration documentation on our website: 
"
37329,UPnP Router Sensor Not Working,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
UPnP Router Sensors Not Working. After installed the integration it able to auto detect my Linksys router and all the connection/speed sensor. But the sensor/entity are show ""unavailable. Try restart router and HA also try remove and reconfigure integration also no luck. thanks 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112.0
- Last working Home Assistant Core release (if known): Never Integrate before 
- Operating environment (OS/Container/Supervised/Core): Hassio / Pi4
- Integration causing this issue: UPnP Integration
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/upnp/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Log Details (ERROR)
Logger: homeassistant.components.upnp
Source: components/upnp/device.py:131
Integration: UPnP (documentation, issues)
First occurred: 1:35:58 PM (281 occurrences)
Last logged: 3:55:28 PM

Unexpected error fetching DELTAZONE data: Error during async_call(), status: 500, body: <s:Envelope xmlns:s=""http://schemas.xmlsoap.org/soap/envelope/"" s:encodingStyle=""http://schemas.xmlsoap.org/soap/encoding/""> <s:Body> <s:Fault> <faultcode>s:Client</faultcode> <faultstring>UPnPError</faultstring> <detail> <UPnPError xmlns=""urn:schemas-upnp-org:control-1-0""> <errorCode>501</errorCode> <errorDescription>Action Failed</errorDescription> </UPnPError> </detail> </s:Fault> </s:Body> </s:Envelope>
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py"", line 136, in async_refresh
    self.data = await self._async_update_data()
  File ""/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py"", line 124, in _async_update_data
    return await self.update_method()
  File ""/usr/src/homeassistant/homeassistant/components/upnp/device.py"", line 131, in async_get_traffic_data
    self._igd_device.async_get_total_packets_sent(),
  File ""/usr/local/lib/python3.7/site-packages/async_upnp_client/profiles/igd.py"", line 99, in async_get_total_bytes_sent
    result = await action.async_call()
  File ""/usr/local/lib/python3.7/site-packages/async_upnp_client/client.py"", line 520, in async_call
    (status_code, response_body))
async_upnp_client.client.UpnpError: Error during async_call(), status: 500, body: <s:Envelope xmlns:s=""http://schemas.xmlsoap.org/soap/envelope/"" s:encodingStyle=""http://schemas.xmlsoap.org/soap/encoding/"">
<s:Body>
<s:Fault>
<faultcode>s:Client</faultcode>
<faultstring>UPnPError</faultstring>
<detail>
<UPnPError xmlns=""urn:schemas-upnp-org:control-1-0"">
<errorCode>501</errorCode>
<errorDescription>Action Failed</errorDescription>
</UPnPError>
</detail>
</s:Fault>
</s:Body>
</s:Envelope>

```

## Additional information
![image](https://user-images.githubusercontent.com/53046046/86333969-325c4e00-bc7f-11ea-9162-a9a852e24010.png)

"
37328,ASUSWRT isn't working after update to 0.112.0 and 0.112.1,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
After update to the latest HA version 0.112.0 integration with ASUSWRT isn't working anymore. Device/presence tracking isn't working because of failed ASUSWRT integration initialisation. With previous version, I thing 0.111.4, everything worked.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: Home Assistant 0.112.0
- Last working Home Assistant Core release (if known): Home Assistant 0.111.4
- Operating environment (OS/Container/Supervised/Core): Supervised - Raspbian GNU/Linux 10 (buster)
- Integration causing this issue: ASUSWRT
- Link to integration documentation on our website: [https://www.home-assistant.io/integrations/asuswrt/](url)

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
asuswrt:
  host: 192.168.1.1
  username: !secret asus_router_login
  password: !secret asus_router_pwd
#  sensors:
#    - devices
#    - upload
#    - download
#    - upload_speed
#    - download_speed
device_tracker:    
  - platform: asuswrt
    interval_seconds: 60
    consider_home: 300
    new_device_defaults:
      track_new_devices: true
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Logger: homeassistant.setup
Source: components/asuswrt/__init__.py:85
First occurred: 9:34:54 (1 occurrences)
Last logged: 9:34:54

Error during setup of component asuswrt
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/setup.py"", line 193, in _async_setup_component
    result = await asyncio.wait_for(task, SLOW_SETUP_MAX_WAIT)
  File ""/usr/local/lib/python3.7/asyncio/tasks.py"", line 442, in wait_for
    return fut.result()
  File ""/usr/src/homeassistant/homeassistant/components/asuswrt/__init__.py"", line 85, in async_setup
    await api.connection.async_connect()
  File ""/usr/local/lib/python3.7/site-packages/aioasuswrt/connection.py"", line 75, in async_connect
    self._client = await asyncssh.connect(self._host, **kwargs)
  File ""/usr/local/lib/python3.7/site-packages/asyncssh/connection.py"", line 5696, in connect
    conn_factory, 'Opening SSH connection to')
  File ""/usr/local/lib/python3.7/site-packages/asyncssh/connection.py"", line 175, in _connect
    await conn.wait_established()
  File ""/usr/local/lib/python3.7/site-packages/asyncssh/connection.py"", line 1927, in wait_established
    await self._waiter
asyncssh.misc.ConnectionLost: Connection lost
```

## Additional information

"
37321,Incorrect weight data in Withings integration,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
As of version 0.112, the Withings integration is showing incorrect weight data. It seems like it's showing the first recorded weight of a given user, even if it was years back.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112
- Last working Home Assistant Core release (if known): 0.111.4
- Operating environment (OS/Container/Supervised/Core): Supervised
- Integration causing this issue: Withings
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/withings

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```
withings:
  client_id: redacted
  client_secret: redacted
  use_webhook: true
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

## Additional information
"
37319,Tile sesson Expiring on 0.112.0,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Tile session seems to be expiring. 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112.0
- Last working Home Assistant Core release (if known): Before 0.112.0 
- Operating environment (OS/Container/Supervised/Core): Core in a venv on Ubuntu
- Integration causing this issue: Tile
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-07-01 21:32:41 INFO (MainThread) [homeassistant.components.tile] Tile session expired; creating a new one
2020-07-01 21:32:41 ERROR (MainThread) [homeassistant.components.tile] Unexpected error fetching email@gmail.com data: Session has expired; make a new one!
Traceback (most recent call last):
  File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/components/tile/__init__.py"", line 46, in async_update_data
    return await client.tiles.all()
  File ""/home/ctrl/ha/lib/python3.7/site-packages/pytile/tile.py"", line 23, in all
    ""get"", f""users/{self._user_uuid}/user_tiles""
  File ""/home/ctrl/ha/lib/python3.7/site-packages/pytile/client.py"", line 58, in _request
    raise SessionExpiredError(""Session has expired; make a new one!"")
pytile.errors.SessionExpiredError: Session has expired; make a new one!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/helpers/update_coordinator.py"", line 136, in async_refresh
    self.data = await self._async_update_data()
  File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/helpers/update_coordinator.py"", line 124, in _async_update_data
    return await self.update_method()
  File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/components/tile/__init__.py"", line 49, in async_update_data
    await client.async_init()
  File ""/home/ctrl/ha/lib/python3.7/site-packages/pytile/client.py"", line 111, in async_init
    data={""email"": self._email, ""password"": self._password},
  File ""/home/ctrl/ha/lib/python3.7/site-packages/pytile/client.py"", line 58, in _request
    raise SessionExpiredError(""Session has expired; make a new one!"")
pytile.errors.SessionExpiredError: Session has expired; make a new one!



```

## Additional information
Noticed this was a problem a few days back during beta.
https://github.com/home-assistant/core/issues/37134

Seems similar or the same error. 
"
37314,'NotImplementedError' when restoring snapshot scene of ecobee thermostat,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I am attempting to snapshot and restore my ecobee thermostat connected using the ecobee integration. I receive an error when I try to call scene.turn_on of my snapshot scene.

To reproduce:
```yaml
scene.create:
  scene_id: thermostat_snapshot
  snapshot_entities: 'climate.home_thermostat'
```
then
```yaml
scene.turn_on:
  entity_id: scene.thermostat_snapshot
```

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

arch | x86_64
-- | --
dev | false
docker | true
hassio | false
installation_type | Home Assistant Container
os_name | Linux
os_version | 4.19.107-Unraid
python_version | 3.7.7
timezone | America/Toronto
version | 0.111.4
virtualenv | false


- Home Assistant Core release with the issue: 
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): 
- Integration causing this issue: 
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
scene:
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-07-01 21:27:11 ERROR (MainThread) [homeassistant.components.websocket_api.http.connection.22861905173136] 
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/websocket_api/commands.py"", line 130, in handle_call_service
    connection.context(msg),
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1260, in async_call
    task.result()
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1295, in _execute_service
    await handler.func(service_call)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_component.py"", line 209, in handle_service
    self._platforms.values(), func, call, required_features
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 454, in entity_service_call
    future.result()  # pop exception if have
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 597, in async_request_call
    await coro
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 485, in _handle_entity_call
    await result
  File ""/usr/src/homeassistant/homeassistant/components/homeassistant/scene.py"", line 315, in async_activate
    reproduce_options=kwargs,
  File ""/usr/src/homeassistant/homeassistant/helpers/state.py"", line 107, in async_reproduce_state
    *(worker(domain, data) for domain, data in to_call.items())
  File ""/usr/src/homeassistant/homeassistant/helpers/state.py"", line 101, in worker
    hass, states_by_domain, context=context, reproduce_options=reproduce_options
  File ""/usr/src/homeassistant/homeassistant/components/climate/reproduce_state.py"", line 88, in async_reproduce_states
    for state in states
  File ""/usr/src/homeassistant/homeassistant/components/climate/reproduce_state.py"", line 53, in _async_reproduce_states
    await call_service(SERVICE_SET_AUX_HEAT, [ATTR_AUX_HEAT])
  File ""/usr/src/homeassistant/homeassistant/components/climate/reproduce_state.py"", line 46, in call_service
    DOMAIN, service, data, blocking=True, context=context
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1260, in async_call
    task.result()
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1295, in _execute_service
    await handler.func(service_call)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_component.py"", line 209, in handle_service
    self._platforms.values(), func, call, required_features
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 454, in entity_service_call
    future.result()  # pop exception if have
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 597, in async_request_call
    await coro
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 485, in _handle_entity_call
    await result
  File ""/usr/src/homeassistant/homeassistant/components/climate/__init__.py"", line 526, in async_service_aux_heat
    await entity.async_turn_aux_heat_off()
  File ""/usr/src/homeassistant/homeassistant/components/climate/__init__.py"", line 462, in async_turn_aux_heat_off
    await self.hass.async_add_executor_job(self.turn_aux_heat_off)
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/climate/__init__.py"", line 458, in turn_aux_heat_off
    raise NotImplementedError()
NotImplementedError
```

## Additional information

Not sure the best way to troubleshoot this! Thanks in advance for any advice 😄 
"
37310,Synology DSM timeout Error when HA starts 0.112.0,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I get an error in the log when HA starts related to synolgy dsm integration

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112.0
- Last working Home Assistant Core release (if known): not sure
- Operating environment (OS/Container/Supervised/Core): Supervised
- Integration causing this issue: Synology DSM
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/synology_dsm/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
None. It's a GUI integration
```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
Log Details (ERROR)
Logger: homeassistant.config_entries
Source: components/synology_dsm/__init__.py:311
First occurred: 7:33:31 AM (1 occurrences)
Last logged: 7:33:31 AM

Error setting up entry 10.90.11.40 for synology_dsm
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py"", line 426, in _make_request
    six.raise_from(e, None)
  File ""<string>"", line 3, in raise_from
  File ""/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py"", line 421, in _make_request
    httplib_response = conn.getresponse()
  File ""/usr/local/lib/python3.7/http/client.py"", line 1344, in getresponse
    response.begin()
  File ""/usr/local/lib/python3.7/http/client.py"", line 306, in begin
    version, status, reason = self._read_status()
  File ""/usr/local/lib/python3.7/http/client.py"", line 267, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), ""iso-8859-1"")
  File ""/usr/local/lib/python3.7/socket.py"", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/requests/adapters.py"", line 449, in send
    timeout=timeout
  File ""/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py"", line 725, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File ""/usr/local/lib/python3.7/site-packages/urllib3/util/retry.py"", line 403, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File ""/usr/local/lib/python3.7/site-packages/urllib3/packages/six.py"", line 735, in reraise
    raise value
  File ""/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py"", line 677, in urlopen
    chunked=chunked,
  File ""/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py"", line 428, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File ""/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py"", line 336, in _raise_timeout
    self, url, ""Read timed out. (read timeout=%s)"" % timeout_value
urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='10.90.11.40', port=5000): Read timed out. (read timeout=10)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/synology_dsm/synology_dsm.py"", line 256, in _execute_request
    url, params=encoded_params, timeout=self._timeout, **kwargs
  File ""/usr/local/lib/python3.7/site-packages/requests/sessions.py"", line 543, in get
    return self.request('GET', url, **kwargs)
  File ""/usr/local/lib/python3.7/site-packages/requests/sessions.py"", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File ""/usr/local/lib/python3.7/site-packages/requests/sessions.py"", line 643, in send
    r = adapter.send(request, **kwargs)
  File ""/usr/local/lib/python3.7/site-packages/requests/adapters.py"", line 529, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPConnectionPool(host='10.90.11.40', port=5000): Read timed out. (read timeout=10)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 220, in async_setup
    hass, self
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/__init__.py"", line 161, in async_setup_entry
    await api.async_setup()
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/__init__.py"", line 253, in async_setup
    await self._hass.async_add_executor_job(self._fetch_device_configuration)
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/__init__.py"", line 311, in _fetch_device_configuration
    self.information = self.dsm.information
  File ""/usr/local/lib/python3.7/site-packages/synology_dsm/synology_dsm.py"", line 327, in information
    data = self.get(SynoDSMInformation.API_KEY, ""getinfo"")
  File ""/usr/local/lib/python3.7/site-packages/synology_dsm/synology_dsm.py"", line 179, in get
    return self._request(""GET"", api, method, params, **kwargs)
  File ""/usr/local/lib/python3.7/site-packages/synology_dsm/synology_dsm.py"", line 193, in _request
    self.discover_apis()
  File ""/usr/local/lib/python3.7/site-packages/synology_dsm/synology_dsm.py"", line 114, in discover_apis
    self._apis = self.get(API_INFO, ""query"")[""data""]
  File ""/usr/local/lib/python3.7/site-packages/synology_dsm/synology_dsm.py"", line 179, in get
    return self._request(""GET"", api, method, params, **kwargs)
  File ""/usr/local/lib/python3.7/site-packages/synology_dsm/synology_dsm.py"", line 223, in _request
    response = self._execute_request(request_method, url, params=params, **kwargs)
  File ""/usr/local/lib/python3.7/site-packages/synology_dsm/synology_dsm.py"", line 275, in _execute_request
    raise SynologyDSMRequestException(exp)
synology_dsm.exceptions.SynologyDSMRequestException: {'api': None, 'code': -1, 'reason': 'Unknown', 'details': ""ReadTimeout = HTTPConnectionPool(host='10.90.11.40', port=5000): Read timed out. (read timeout=10)""}
```

## Additional information

Sample - I see this for every device. All entities unavailable
![image](https://user-images.githubusercontent.com/36390762/86304514-679e7700-bc52-11ea-9676-c973e08a08a0.png)

I saw this in the beta yesterday as well but deleted the integration, restarted, added and all entities were detected properly again. But it gives this error above now for every restart."
37305,I/O inside eventloop for AVRI,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
I updated to 0.112.0 and moved from the AVRI config in configuration.yaml to using the integrations GUI (nice, thanks).
After this I've checked the logging, it reports the following:
```
Logger: homeassistant.util.async_
Source: util/async_.py:120
First occurred: 1 juli 2020 23:54:24 (1 occurrences)
Last logged: 1 juli 2020 23:54:24

Detected I/O inside the event loop. This is causing stability issues. Please report issue for avri doing I/O at homeassistant/components/avri/sensor.py, line 25: each_upcoming = client.upcoming_of_each()
```

## Environment
Home Assistant 0.112.0

arch | x86_64
-- | --
chassis | vm
dev | false
docker | true
docker_version | 19.03.8
hassio | true
host_os | HassOS 4.10
installation_type | Home Assistant OS
os_name | Linux
os_version | 5.4.44
python_version | 3.7.7
supervisor | 227
timezone | Europe/Amsterdam
version | 0.112.0
virtualenv | false



- Home Assistant Core release with the issue: 0.112.0
- Last working Home Assistant Core release (if known): 0.111.4 ? (i do not check the logging for each upgrade, but have not seen this before 0.111.0
- Operating environment (OS/Container/Supervised/Core): HassOS (see above)
- Integration causing this issue: AVRI
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/avri/

## Problem-relevant `configuration.yaml`
Configured via integrations, not in yaml


## Traceback/Error logs
```Logboekdetails (WARNING)
Logger: homeassistant.util.async_
Source: util/async_.py:120
First occurred: 1 juli 2020 23:54:24 (1 occurrences)
Last logged: 1 juli 2020 23:54:24

Detected I/O inside the event loop. This is causing stability issues. Please report issue for avri doing I/O at homeassistant/components/avri/sensor.py, line 25: each_upcoming = client.upcoming_of_each()

```

## Additional information

"
37296,Error setting up entry Configuration.yaml for smappee,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
After upgrading to 0.112.0 all my smappee sensors are gone, And i have an error in the log  ""Error setting up entry Configuration.yaml for smappee""

I removed the old host and oauth login keys from the configuration.yaml, restarted HA and added the smappee integration via UI and logged in on the oauth2.

It seems like the new integration is trying to connect to a local smappee hosted mqtt broker, however none is present on my device, and thus the connection fails. Aborting the creation and usage of all sensors that could come from the API itself. So now I don't have any Smappee sensors.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112.0
- Last working Home Assistant Core release (if known): 0.111.4 
- Operating environment (OS/Container/Supervised/Core): OS
- Integration causing this issue: Smappee
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/smappee/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
smappee:
  client_id: !secret smappee_client_id
  client_secret: !secret smappee_client_secret
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Log Details (ERROR)
Logger: homeassistant.config_entries
Source: components/smappee/__init__.py:67
First occurred: 9:19:56 PM (1 occurrences)
Last logged: 9:19:56 PM

Error setting up entry Configuration.yaml for smappee
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 220, in async_setup
    hass, self
  File ""/usr/src/homeassistant/homeassistant/components/smappee/__init__.py"", line 67, in async_setup_entry
    await hass.async_add_executor_job(smappee.load_service_locations)
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/local/lib/python3.7/site-packages/pysmappee/smappee.py"", line 40, in load_service_locations
    farm=self._farm)
  File ""/usr/local/lib/python3.7/site-packages/pysmappee/servicelocation.py"", line 73, in __init__
    self.load_configuration()
  File ""/usr/local/lib/python3.7/site-packages/pysmappee/servicelocation.py"", line 137, in load_configuration
    self.mqtt_connection_local = self.load_mqtt_connection(kind='local')
  File ""/usr/local/lib/python3.7/site-packages/pysmappee/servicelocation.py"", line 414, in load_mqtt_connection
    mqtt_connection.start()
  File ""/usr/local/lib/python3.7/site-packages/pysmappee/mqtt.py"", line 245, in start
    port=config['MQTT']['local']['port'])
  File ""/usr/local/lib/python3.7/site-packages/paho/mqtt/client.py"", line 937, in connect
    return self.reconnect()
  File ""/usr/local/lib/python3.7/site-packages/paho/mqtt/client.py"", line 1071, in reconnect
    sock = self._create_socket_connection()
  File ""/usr/local/lib/python3.7/site-packages/paho/mqtt/client.py"", line 3522, in _create_socket_connection
    return socket.create_connection(addr, source_address=source, timeout=self._keepalive)
  File ""/usr/local/lib/python3.7/socket.py"", line 728, in create_connection
    raise err
  File ""/usr/local/lib/python3.7/socket.py"", line 716, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused
```

## Additional information
Smappee system information:
Nr of signatures received from acquisition engine | 10390
Last software update |  n.a.
Application software version and build nr | 1.0.0S buildNr # 1081
Acquisition Software version | 3.22
EMeter working config | single phase
EMeter type | SmappeeT
Serial ID | 1005001897
OS build nr | 8

"
37245,Friendly names for rflink lights,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Can't use friendly names for light.rflink because value of name property used as entity_id

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 227
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): Supervised
- Integration causing this issue: light.rflink
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/light.rflink/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
light:
  - platform: rflink
    devices:
      livolo_654c_48:
         name: Living room
         type: toggle
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-06-30 08:33:37 ERROR (MainThread) [homeassistant.components.light] Error while setting up rflink platform for light
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 186, in _async_setup_platform
    await asyncio.gather(*pending)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 292, in async_add_entities
    await asyncio.gather(*tasks)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 419, in _async_add_entity
    raise HomeAssistantError(f""Invalid entity id: {entity.entity_id}"")
homeassistant.exceptions.HomeAssistantError: Invalid entity id: light.Living room
```

## Additional information

"
37242,IPMA does not generate unique IDs,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Since IPMA's integration [generates its IDs using the station's latitude and longitude](https://github.com/home-assistant/core/blob/4d17b18761ac6569317d283f0632cee07851a92f/homeassistant/components/ipma/weather.py#L160), it's impossible to add more than one weather entity to the same location. While you wouldn't really want a duplicated weather entity for the same location, this integration actually has two modes, hourly and daily, so it may be desirable to have two weather entities for the same location.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.4
- Last working Home Assistant Core release (if known): N/A
- Operating environment (OS/Container/Supervised/Core): Container
- Integration causing this issue: IPMA
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/ipma/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
weather:
  - platform: ipma
    mode: hourly
  - platform: ipma
    mode: daily
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-06-30 01:53:22 ERROR (MainThread) [homeassistant.components.weather] Entity id already exists - ignoring: weather.home. Platform ipma does not generate unique IDs
```

## Additional information

A simple fix would be to change the `unique_id` method to

```python
return f""{self._location.station_latitude}, {self._location.station_longitude}, {self._mode}""
                                                                              ^^^^^^^^^^^^^^
```

instead of

```python
return f""{self._location.station_latitude}, {self._location.station_longitude}""
```

Although it works, I'm sure there might be a better solution for this."
37210,"Volumio integration, media_stop missing","## The problem
Volumio integration lacks of `media_player.media_stop` support. Even though `SUPPORT_STOP` is among supported features, calling `media_stop` causes an error ""unable to call media_player/media_stop"". It's just a missing method, there is full support of it in the API and even calling the `stop` api is in the code.

## Environment
- Home Assistant Core release with the issue: 0.111.4
- Operating environment (OS/Container/Supervised/Core): HASSIO
- Integration causing this issue: volumio
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/volumio/

## Proposed fix
```
    async def async_media_stop(self):
        """"""Send media_stop command to media player.""""""
        await self.send_volumio_msg(""commands"", params={""cmd"": ""stop""})
```
"
37209,Since #36479 mqtt sensors are set to 'unavailable' on HA restart,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
CC @definitio 
In beta 0.112 on HA restart, mqtt sensor states go to unavailable.
Looks like since #36479 the mqtt connection is disconnected before HA shutdown is complete and so mqtt sensor states are stored 'unavailable'. 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112.0b2
- Last working Home Assistant Core release (if known): 0.111.4
- Operating environment (OS/Container/Supervised/Core): Ubuntu 18.04, Python 3.8.3 venv
- Integration causing this issue: mqtt sensor
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/sensor.mqtt/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
The following automation sends a notification
""There are unavailable ubuntu updates available.""
on HA restart **before** HA shutdown is complete
```yaml
sensor:
  - platform: mqtt
    name: tpad_os_updates
    state_topic: 'home/sensors/TPAD/os_updates'

automation:
  - alias: Update notification OS TPAD
    initial_state: true
    trigger:
      - platform: state
        entity_id: sensor.tpad_os_updates
    condition:
      - condition: template
        value_template: ""{{ states('sensor.tpad_os_updates') != '0/0' }}""
    action:
      - service: notify.mobile_app_rainer
        data_template: 
          title: ""TPAD OS Updates""
          message: ""There are {{ states.sensor.tpad_os_updates.state }} ubuntu updates available.""
```
Temporary fix:
```yaml
      - condition: template
        value_template: ""{{ states('sensor.tpad_os_updates') != '0/0' and states('sensor.tpad_os_updates') != 'unavailable' }}""
```
## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information
https://discord.com/channels/330944238910963714/427516175237382144/726724658258247711
"
37203,Wind Speed Data From National Weather Service Integration - Change in Units,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!--  

-->
Wind Speed data from the HA NWS integration appears to be different from that reported by both the NWS API as well as the NWS station websites.  It appears that the NWS API now reports windspeed in km/hr vs the m/s that was previously used.  

See discussion at https://community.home-assistant.io/t/wind-speed-data-from-national-weather-service-integration/207834/4 for additional information.

example below:
wind speed reported from NWS integration = 54 **mi/h**
from the NWS API: “windSpeed”: {“value”: 24.120000000000001,“unitCode”: “**unit:km_h-1**”,

## Environment
<!--
  
-->

- Home Assistant Core release with the issue: Home Assistant 0.111.3
- Last working Home Assistant Core release:   Unknown (but see above, likely a conversion problem due to a change in units from the API)
- Operating environment (OS/Container/Supervised/Core):   Docker running under Home Assistant 0.111.3
- Integration causing this issue: National Weather Service (NWS) integration
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/nws/

## Problem-relevant `configuration.yaml`
<!--

-->

```yaml
 # Configure a default setup of Home Assistant (frontend, api, etc)
default_config:

# Text to speech
tts:
  - platform: google_translate

group: !include groups.yaml
automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml

homeassistant:
  customize: !include customize.yaml
```

## Traceback/Error logs
<!--

-->
None
```txt

```

## Additional information
See discussion at https://community.home-assistant.io/t/wind-speed-data-from-national-weather-service-integration/207834/4 for additional information.

example below:
wind speed reported from NWS integration = 54 **mi/h**
from the NWS API: “windSpeed”: {“value”: 24.120000000000001,“unitCode”: “**unit:km_h-1**”,
"
37193,tile errors on setup with new integration method,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Trying to install tile via integrations, its throwing errors. Previously worked fine. I followed the new documentation to remove the prevous device_tracker configuration

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112.0b2
- Last working Home Assistant Core release (if known): 0.111.4
- Operating environment (OS/Container/Supervised/Core): core in a venv on ubuntu 19
- Integration causing this issue: Tile
- Link to integration documentation on our website: https://rc.home-assistant.io/integrations/tile/ and https://www.home-assistant.io/integrations/tile/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
Previously worked fine with this config, which I removed to use the new integration method.
```
device_tracker:
  - platform: tile
    username: !secret my_email
    password: !secret tile_pass

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```Jun 28 02:31:08 server hass[12980]: 2020-06-28 02:31:08 INFO (MainThread) [homeassistant.helpers.entity_registry] Registered new device_tracker.tile entity: device_tracker.car_extra
Jun 28 02:31:08 server hass[12980]: 2020-06-28 02:31:08 INFO (MainThread) [homeassistant.helpers.entity_registry] Registered new device_tracker.tile entity: device_tracker.keys
Jun 28 02:31:08 server hass[12980]: 2020-06-28 02:31:08 INFO (MainThread) [homeassistant.helpers.entity_registry] Registered new device_tracker.tile entity: device_tracker.vizio_remote
Jun 28 02:31:08 server hass[12980]: 2020-06-28 02:31:08 INFO (MainThread) [homeassistant.helpers.entity_registry] Registered new device_tracker.tile entity: device_tracker.bag_tile
Jun 28 02:31:08 server hass[12980]: 2020-06-28 02:31:08 INFO (MainThread) [homeassistant.helpers.entity_registry] Registered new device_tracker.tile entity: device_tracker.u504tl
Jun 28 02:31:08 server hass[12980]: 2020-06-28 02:31:08 INFO (MainThread) [homeassistant.helpers.entity_registry] Registered new device_tracker.tile entity: device_tracker.galaxy_s99
Jun 28 02:31:08 server hass[12980]: 2020-06-28 02:31:08 ERROR (MainThread) [homeassistant.components.device_tracker] Error while setting up tile platform for device_tracker
Jun 28 02:31:08 server hass[12980]: Traceback (most recent call last):
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/helpers/entity_platform.py"", line 186, in _async_setup_platform
Jun 28 02:31:08 server hass[12980]:     await asyncio.gather(*pending)
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/helpers/entity_platform.py"", line 292, in async_add_entities
Jun 28 02:31:08 server hass[12980]:     await asyncio.gather(*tasks)
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/helpers/entity_platform.py"", line 451, in _async_add_entity
Jun 28 02:31:08 server hass[12980]:     entity.async_write_ha_state()
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/helpers/entity.py"", line 290, in async_write_ha_state
Jun 28 02:31:08 server hass[12980]:     self._async_write_ha_state()
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/helpers/entity.py"", line 314, in _async_write_ha_state
Jun 28 02:31:08 server hass[12980]:     sstate = self.state
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/components/device_tracker/config_entry.py"", line 105, in state
Jun 28 02:31:08 server hass[12980]:     self.hass, self.latitude, self.longitude, self.location_accuracy
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/components/tile/device_tracker.py"", line 90, in location_accuracy
Jun 28 02:31:08 server hass[12980]:     + self._tile[""last_tile_state""][""v_accuracy""]
Jun 28 02:31:08 server hass[12980]: TypeError: unsupported operand type(s) for +: 'float' and 'NoneType'
Jun 28 02:31:08 server hass[12980]: 2020-06-28 02:31:08 ERROR (MainThread) [homeassistant.components.device_tracker] tile: Error on device update!
Jun 28 02:31:08 server hass[12980]: Traceback (most recent call last):
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/helpers/entity_platform.py"", line 319, in _async_add_entity
Jun 28 02:31:08 server hass[12980]:     await entity.async_device_update(warning=False)
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/helpers/entity.py"", line 463, in async_device_update
Jun 28 02:31:08 server hass[12980]:     await self.async_update()  # type: ignore
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/components/tile/__init__.py"", line 143, in async_update
Jun 28 02:31:08 server hass[12980]:     await self.coordinator.async_request_refresh()
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/helpers/update_coordinator.py"", line 118, in async_request_refresh
Jun 28 02:31:08 server hass[12980]:     await self._debounced_refresh.async_call()
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/helpers/debounce.py"", line 60, in async_call
Jun 28 02:31:08 server hass[12980]:     await self.hass.async_add_job(self.function)  # type: ignore
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/helpers/update_coordinator.py"", line 177, in async_refresh
Jun 28 02:31:08 server hass[12980]:     update_callback()
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/components/tile/__init__.py"", line 132, in update
Jun 28 02:31:08 server hass[12980]:     self.async_write_ha_state()
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/helpers/entity.py"", line 290, in async_write_ha_state
Jun 28 02:31:08 server hass[12980]:     self._async_write_ha_state()
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/helpers/entity.py"", line 314, in _async_write_ha_state
Jun 28 02:31:08 server hass[12980]:     sstate = self.state
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/components/device_tracker/config_entry.py"", line 105, in state
Jun 28 02:31:08 server hass[12980]:     self.hass, self.latitude, self.longitude, self.location_accuracy
Jun 28 02:31:08 server hass[12980]:   File ""/home/ctrl/ha/lib/python3.7/site-packages/homeassistant/components/tile/device_tracker.py"", line 90, in location_accuracy
Jun 28 02:31:08 server hass[12980]:     + self._tile[""last_tile_state""][""v_accuracy""]
Jun 28 02:31:08 server hass[12980]: TypeError: unsupported operand type(s) for +: 'float' and 'NoneType'


```

## Additional information
Hopefully this is the right place to report beta problems. 
"
37173,solaredge reinitialize data when restart HA server and everything is 0,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
when i restart HA (server) if i make a modification in configuration.yaml by exemple, the solaredge integration component fail to fetch data and all the data previously displayed are reset to 0 


## Environment


- Home Assistant Core release with the issue:  Home Assistant 0.112.0b2
- Last working Home Assistant Core release (if known): 0.111
- Operating environment (OS/Container/Supervised/Core): docker on synology 
- Integration causing this issue:  last solaregede release branch dev
- Link to integration documentation on our website: https://github.com/home-assistant/core/tree/dev/homeassistant/components/solaredge

## Problem-relevant `configuration.yaml`

## Traceback/Error logs

  If you come across any trace or error logs, please provide them.
 Update for sensor.solaredge_pourcent_autoconso_now fails
16:36:48 – helpers/template.py (ERROR) - message survenu pour la première fois à 16:36:47 et apparu 2 fois

## Additional information

"
37165,AttributeError: 'PubNubSubscriptionHandler' object has no attribute 'pubnubs' on restart/shutdown,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
On a restart/shutdown using the UI the wink component throws an attribute error. This appears primarily cosmetic.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 111.4
- Last working Home Assistant Core release (if known): 
- Operating environment (OS/Container/Supervised/Core): hassio
- Integration causing this issue: wink
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/wink/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
I'm not sure it matters for the error but
```yaml
wink:
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-06-27 01:54:26 ERROR (MainThread) [homeassistant.core] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/wink/__init__.py"", line 406, in stop_subscription
    hass.data[DOMAIN][""pubnub""].unsubscribe()
  File ""/usr/local/lib/python3.7/site-packages/pubnubsubhandler.py"", line 106, in unsubscribe
    for pubnub in self.pubnubs:
AttributeError: 'PubNubSubscriptionHandler' object has no attribute 'pubnubs'
```

## Additional information

"
37134,Tile Integration: Session expiring and not renewing,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The Tile integration's session expires after ~6 hours and is not auto-renewing and entities become unavailable

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112.0b0
- Last working Home Assistant Core release (if known): 0.111.4
- Operating environment (OS/Container/Supervised/Core): Supervised
- Integration causing this issue: Tile
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/tile

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
Setup via UI
```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Error fetching iantrich@gmail.com data: Error while retrieving data: Session has expired; make a new one!
```

## Additional information

"
37107,service wake_on_lan.send_magic_packet breaks (for some scenarios),"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
### Story:
User tries to call the wake_on_lan service with the parameter mac and the optional parameter broadcast_address e.g.:
          mac: ""xx:xx:xx:xx:xx:xx""
          broadcast_address: 192.168.x.255

### Expectation:
A wake on lan packet is sent

### Actual:
The Error ""Failed to call service wake_on_lan/send_magic_packet. an integer is required (got type NoneType)"" is present.

### Diagnostics:
#### Error Log:
* please see bellow

#### Trail & Error
* packet can be sent with the parameter ""mac""
* packet can't be sent with the parameter ""mac"" and ""broadcast_address""
* packet can be sent with the parameter ""mac"" and ""broadcast_address"" and ""broadcast_port""

### Assumption:
The variable ""broadcast_port"" seems not optional if the optional variable ""broadcast_address"" is used

## Environment

arch | armv7l
-- | --
dev | false
docker | true
hassio | false
installation_type | Home Assistant Container
os_name | Linux
os_version | 4.19.118-v7l+
python_version | 3.7.7
timezone | Europe/Berlin
version | 0.112.0b0
virtualenv | false


## Traceback/Error logs

```txt
2020-06-25 21:51:44 ERROR (MainThread) [homeassistant.components.websocket_api.http.connection.2890615184] an integer is required (got type NoneType)
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/websocket_api/commands.py"", line 130, in handle_call_service
    connection.context(msg),
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1260, in async_call
    task.result()
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1295, in _execute_service
    await handler.func(service_call)
  File ""/usr/src/homeassistant/homeassistant/components/wake_on_lan/__init__.py"", line 46, in send_magic_packet
    port=broadcast_port,
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/local/lib/python3.7/site-packages/wakeonlan.py"", line 79, in send_magic_packet
    sock.connect((ip, port))
TypeError: an integer is required (got type NoneType)

```

## Additional information

*Most probably introduced with PR:*
https://github.com/home-assistant/core/pull/36510

(call was working before)"
37106,tesla: integration not working - AttributeError: 'NoneType' object has no attribute 'get',"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem

My Tesla integration is no longer working.  The log suggests it encountered an exception during startup.  It was working when I first set up Home Assistant a week ago but hasn't for several days now.

I can confirm that the Tesla mobile app is able to connect to the car.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.4
- Last working Home Assistant Core release (if known): 0.111.3
- Operating environment (OS/Container/Supervised/Core): HassOS 4.10
- Integration causing this issue: Tesla
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/tesla/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

Nothing in configuration.yaml.  I configured this integration via the UI.  Here's the relevant part of .storage/core.config_entries

```yaml
            {
                ""connection_class"": ""cloud_poll"",
                ""data"": {
                    ""access_token"": ""REDACTED"",
                    ""token"": ""REDACTED""
                },
                ""domain"": ""tesla"",
                ""entry_id"": ""36e75e6f6dc44095a223b5fbdc21f304"",
                ""options"": {
                    ""enable_wake_on_start"": false,
                    ""scan_interval"": 660
                },
                ""source"": ""user"",
                ""system_options"": {
                    ""disable_new_entities"": false
                },
                ""title"": ""Patience"",
                ""unique_id"": null,
                ""version"": 1
            },
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-06-25 12:48:54 ERROR (MainThread) [homeassistant.config_entries] Error setting up entry Patience for tesla
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 217, in async_setup
    hass, self
  File ""/usr/src/homeassistant/homeassistant/components/tesla/__init__.py"", line 141, in async_setup_entry
    CONF_WAKE_ON_START, DEFAULT_WAKE_ON_START
  File ""/usr/local/lib/python3.7/site-packages/teslajsonpy/controller.py"", line 266, in connect
    cars = await self.get_vehicles()
  File ""/usr/local/lib/python3.7/site-packages/backoff/_async.py"", line 133, in retry
    ret = await target(*args, **kwargs)
  File ""/usr/local/lib/python3.7/site-packages/teslajsonpy/controller.py"", line 351, in get_vehicles
    return (await self.__connection.get(""vehicles""))[""response""]
  File ""/usr/local/lib/python3.7/site-packages/teslajsonpy/connection.py"", line 98, in get
    return await self.post(command, ""get"", None)
  File ""/usr/local/lib/python3.7/site-packages/teslajsonpy/connection.py"", line 115, in post
    f""{self.api}{command}"", method=method, headers=self.head, data=data
  File ""/usr/local/lib/python3.7/site-packages/teslajsonpy/connection.py"", line 157, in __open
    if data.get(""error"") == ""invalid_token"":
AttributeError: 'NoneType' object has no attribute 'get'
```

## Additional information
"
37099,Can't access Options in Speedtest Integration on 0.112.0b0,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
In 0.112.0b0 Speedtest is now available through the UI which is great. And it migrated my YAML too, which is also great. However I noticed that I could not access the options flow for it (by pressing the ""Options"" button on the Integrations page). 

It would always give me a dialog that would be a never-ending spinner.

![image](https://i.imgur.com/mTuBgo6.png)

Below is a screenshot of the browser console, can see a 500 error, not sure if this helps:

![image](https://i.imgur.com/TM6LyDe.png)

After deleting the integration and setting it up from scratch using the UI, I can access the options button now. So I think there was an issue with migration or something. I've posted the YAML down below. 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.112.0b0
- Last working Home Assistant Core release (if known): n/a
- Operating environment (OS/Container/Supervised/Core): OS
- Integration causing this issue: Speedtest
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/speedtestdotnet/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

This was my YAML config, which resulted in a UI entry but not able to access the Options button.

```yaml
speedtestdotnet:
  server_id: 14854
  monitored_conditions:
    - ping
    - download
    - upload
  scan_interval:
    hours: 3
    minutes: 30
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Log Details (ERROR)
Logger: aiohttp.server
Source: components/speedtestdotnet/config_flow.py:97
First occurred: 2:14:03 PM (1 occurrences)
Last logged: 2:14:03 PM

Error handling request
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/real_ip.py"", line 39, in real_ip_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/ban.py"", line 73, in ban_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 129, in handle
    result = await result
  File ""/usr/src/homeassistant/homeassistant/components/config/config_entries.py"", line 186, in post
    return await super().post(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/data_validator.py"", line 60, in wrapper
    result = await method(view, request, *args, **kwargs)
  File ""/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py"", line 73, in post
    ""show_advanced_options"": data[""show_advanced_options""],
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 129, in async_init
    flow, flow.init_step, data, init_done
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/speedtestdotnet/config_flow.py"", line 97, in async_step_init
    server_name = server[0]
IndexError: list index out of range
```

## Additional information

"
37083,HomeKit Controller Climate Integration Cannot Set Temp,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Added Honeywell T6 Pro to HA with HomeKit Controller integration, states coming through correctly but service call `climate.set_temp` appears to not work. I am able to succesfully `climate.turn_on` so I am not fully locked out. Seems to be an issue with the temperature value being sent, possibly too many digits.  No official errors are raised, just fails silently, but can see a status code in response from unit in debug logs. 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.4
- Last working Home Assistant Core release (if known): N/A
- Operating environment (OS/Container/Supervised/Core): OS
- Integration causing this issue: HomeKit Controller or base Climate
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/homekit_controller/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-06-24 21:59:18 DEBUG (MainThread) [aiohomekit.controller.ip.connection] REDACTED: raw request: b'PUT /characteristics HTTP/1.1\r\nHost: REDACTED\r\nContent-Type: application/hap+json\r\nContent-Length: 66\r\n\r\n{""characteristics"":[{""aid"":1,""iid"":13,""value"":22.22222222222222}]}'
2020-06-24 21:59:18 DEBUG (MainThread) [aiohomekit.controller.ip.connection] REDACTED: raw response: bytearray(b'{""characteristics"": [ {""aid"":1,""iid"":13,""status"":-70410}]}')
```

## Additional information
I believe the issue is around the precision of the value.  I googled the status code returned and found this https://github.com/apple/HomeKitADK/blob/master/HAP/HAPIPAccessoryServer.c#L59 which pointed me in that direction of something in the payload being off.  I picked a Fahrenheit value that converts to Celcius, 77->25.0, and that worked so we probably just need to round a bit of the value.  My problem is I don't know if this is something that should be rounded across the board, would love to help but have not worked in this code base before so would need a bit of help.

```
2020-06-24 21:59:47 DEBUG (MainThread) [aiohomekit.controller.ip.connection] REDACTED: raw request: b'PUT /characteristics HTTP/1.1\r\nHost: REDACTED\r\nContent-Type: application/hap+json\r\nContent-Length: 53\r\n\r\n{""characteristics"":[{""aid"":1,""iid"":13,""value"":25.0}]}'
2020-06-24 21:59:47 DEBUG (MainThread) [aiohomekit.controller.ip.connection] REDACTED: raw response: bytearray(b'')
```
Note that an empty response seems to be good, got empty response when turning on/off when that worked.  Also wrote in the Lyric thread https://community.home-assistant.io/t/honeywell-lyric-thermostat/3520/857?u=stshontikidis"
37055,Learning doesn't work on Broadlink RM2 Pro Plus_300,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Learning doesn't work on Broadlink RM2 Pro Plus_300, therefore `remote` platform can't be used. Sending via `switch` works fine. Learning works fine via the native app, as well as broadlink_cli.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.4
- Last working Home Assistant Core release (if known):
- Operating environment (OS/Container/Supervised/Core): HassOS 4.10
- Integration causing this issue: broadlink
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/broadlink/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
switch:
  - platform: broadlink
    host: xxx.xxx.xxx.xxx
    mac: '78:0F:xx:xx:xx:xx'
    type: rm2_pro_plus2
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

Seems to be the same problem as https://github.com/home-assistant/core/issues/19564"
37048,ZHA Metering channel value formatting (Fail after some restarts),"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The issue that I have is simple, sometimes when i restart Home Assistant the metric is exactly like it was here #36697
Basically it will show to me a consumption of 44W instead of 4.4W

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->
arch | x86_64
-- | --
dev | false
docker | true
hassio | false
installation_type | Home Assistant Container
os_name | Linux
os_version | 5.4.0-37-generic
python_version | 3.7.7
timezone | Europe/Bucharest
version | 0.111.4
virtualenv | false

- Home Assistant Core release with the issue: 0.111.3 and 0.111.4
- Last working Home Assistant Core release (if known): 0.110 latest
- Operating environment (OS/Container/Supervised/Core): Ununtu 20 LTS / Docker / Not Supervised
- Integration causing this issue: ZHA
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/zha

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
integration via UI
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
nothing here
```

## Additional information
To fix this issue I have to restart Home Assistant one more time. This happens random, no errors of any kind in Home Assistant logs.

Used devices:
Zigbee controller: ConBee II
Zigbee device: Heiman Zigbee Power Metering Plug HS2SK-E-EU
"
37044,OZW: lock.set_usercode service missing,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
In the ozw beta integration the service lock.set_usercode/get_usercode/clear_usercode is missing.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111
- Last working Home Assistant Core release (if known): Zwave 1.4 integration
- Operating environment (OS/Container/Supervised/Core): Container
- Integration causing this issue: ozw
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/ozw/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
n/a

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

n/a

## Additional information
I know the functions are not implemented, but wanted this on the radar. If I can help implement this let me know.
"
36999,Incorrect video resolution from Synology camera integration,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I use cameras connected to Synology Surveillance 8.2.2-5766 and Synology camera platform integration for them in HA. Lovelace shows stream video from that cameras only in low resolution despite of any settings of the Synology Surveillance.
In Synology Surveillance I tried to change resolution in:
- Stream Profile (IP camera -> device settings->video)
- Schedule Recording Settings (IP camera -> recording settings -> stream)
- Live View Stream Settings (IP camera -> live view settings -> stream)

I see two issues:
 - Even if all of them have high resolution settings, lovelace shows low res stream in small window which neither can't be resized nor be opened in full screen mode in HA. But in case I use streams from those cameras directly connected via ONVIF HA integration, lovelace shows high res video stream in window with correct appropriate pixel size. 
 - For ONVIF direct connection stream the video window has Pause button which allows to stop streaming, while Synology camera integration stream has no one. 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.0
- Last working Home Assistant Core release (if known): None
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant/Docker
- Integration causing this issue: Synology camera platform
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/synology/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

Configuration.yaml:
```
stream:
camera:
  - platform: synology 
    url: !secret surveillance_station
    username: !secret surveillance_station_dsm_user
    password: !secret surveillance_station_dsm_password
    timeout: 60
    verify_ssl: false 
```
Lovelace.yaml:
```
...
           - entity: camera.syno_camera
              type: picture-entity 
              camera_image: camera.syno_camera
              camera_view: live   
...
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
None
```

## Additional information

"
36971,"Sonos Arc, night mode and speech enhancement not supported","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
Cannot enable or disable night mode and speech enhancement on the new Sonos Arc
Logs : 
Error on set_option with This device does not support night mode
Error on set_option with This device does not support dialog mode
<!-- 

-->


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.4
- Last working Home Assistant Core release (if known): N/A
- Operating environment (Home Assistant/Supervised/Docker/venv): Hass.IO
- Integration causing this issue: SONOS 
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
36931,Daikin AC component logs (a new) AttributeError since 0.111.4,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
After upgrading to core version 0.111.4 the Daikin AC component started showing an AttributeError in the logs:
```
AttributeError: 'dict_values' object has no attribute 'values'
```

See full traceback below.

This does not appear to have any impact on an existing Daikin integration.
It is different from bug #36793

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.4
- Last working Home Assistant Core release (if known): 0.111.3
- Operating environment (Home Assistant/Supervised/Docker/venv): 

arch | armv7l
-- | --
dev | false
docker | false
hassio | false
installation_type | Home Assistant Core
os_name | Linux
os_version | 4.19.120-v7l-FOU+
python_version | 3.7.3
timezone | Europe/Amsterdam
version | 0.111.4
virtualenv | true

- Integration causing this issue: Daikin AC
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/daikin/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
No relevant yaml config.

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-06-19 10:48:41 ERROR (MainThread) [homeassistant.core] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/data_entry_flow.py"", line 129, in async_init
    flow, flow.init_step, data, init_done
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/daikin/config_flow.py"", line 133, in async_step_zeroconf
    await self.async_set_unique_id(next(iter(devices.values()))[KEY_MAC])
AttributeError: 'dict_values' object has no attribute 'values'
```

## Additional information

"
36925,Discovery broken since update to 0.111.x,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Discovery is not working since update from 0.110 to 0.111. 
  It was working well before, with the same setup.
-->


## Environment
<!--
arch | x86_64
-- | --
chassis | vm
dev | false
docker | true
docker_version | 19.03.8
hassio | true
host_os | HassOS 4.10
installation_type | Home Assistant
os_name | Linux
os_version | 5.4.44
python_version | 3.7.7
supervisor | 227
timezone | Europe/Berlin
version | 0.111.4
virtualenv | false


-->

- Home Assistant Core release with the issue: 0.111.4
- Last working Home Assistant Core release (if known): ~0.110.x
- Operating environment (Home Assistant/Supervised/Docker/venv): hassova 4.10 (Proxmox)
- Integration causing this issue: zeroconf?
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
It seems not related to my config, worked well before.

```
default_config:
discovery:
#zeroconf:
#  default_interface: true
frontend:
  javascript_version: latest
  themes: !include_dir_merge_named themes

# Uncomment this if you are using SSL/TLS, running in Docker container, etc.
# http:
#   base_url: example.duckdns.org:8123

# Text to speech
tts:
  - platform: google_translate

group: !include groups.yaml
automation: !include automations.yaml
script: !include scripts.yaml
homeassistant:
  customize: !include customize.yaml
cover: !include covers.yaml

recorder:
  db_url: mysql://hass:home$db@database.heisig.local/hassio?charset=utf8
  include:
    domains:
      - sensor
      - switch
      - shell_command
      - binary_sensor
      - input_text
      - light
      - script
      - device_tracker
  exclude:
    entities:
      - sensor.time
    event_types:
      - service_removed
      - service_executed
      - platform_discovered
      - homeassistant_start
      - feedreader
      - service_registered
      - call_service
      - component_loaded
      - logbook_entry
      - system_log_event
```

-->

```yaml

```

```
# Traceback/Error logs
<!--
 Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 129, in async_init
    flow, flow.init_step, data, init_done
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/esphome/config_flow.py"", line 104, in async_step_zeroconf
    entry.data[CONF_HOST] == address
KeyError: 'host'
2020-06-19 01:55:24 ERROR (MainThread) [homeassistant.core] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 129, in async_init
    flow, flow.init_step, data, init_done
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/esphome/config_flow.py"", line 104, in async_step_zeroconf
    entry.data[CONF_HOST] == address
KeyError: 'host'
2020-06-19 01:55:24 ERROR (MainThread) [homeassistant.core] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 129, in async_init
    flow, flow.init_step, data, init_done
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/esphome/config_flow.py"", line 104, in async_step_zeroconf
    entry.data[CONF_HOST] == address
KeyError: 'host'
2020-06-19 01:55:24 ERROR (MainThread) [homeassistant.core] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 129, in async_init
    flow, flow.init_step, data, init_done
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/esphome/config_flow.py"", line 104, in async_step_zeroconf
    entry.data[CONF_HOST] == address
KeyError: 'host'
[cont-finish.d] executing container finish scripts...
[cont-finish.d] done.
[s6-finish] waiting for services.
Client error on /homeassistant/restart request None
s6-svscanctl: fatal: unable to control /var/run/s6/services: supervisor not listening
```
-->

```txt

```

## Additional information
1.) Running Home Assistant in Docker (former HASSIO) on Proxmox VM.
Installed with this script: https://github.com/whiskerz007/proxmox_hassos_install

2.) Seperated Home Assistant into own VLAN a year ago, discovery was broken as except Devices in that VLAN10.

3.) Recently changed my config, added a new network card + enabled it in Docker --> Discovery was working again for my devices in my common home network.
(https://community.home-assistant.io/t/setup-vlan-and-ha-tutorial/87705/10)

4.) Updated from 0.110 to 0.111 and discovery was gone again.




"
36923,"Yeelight Light Strip stopped working, not found in the 111th version of HA","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Yeelight Light Strip stopped working, not found by HA in the 111th version of HA.
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.4
- Last working Home Assistant Core release (if known): 0.110
- Operating environment (Home Assistant/Supervised/Docker/venv): HassOS 4.10
- Integration causing this issue: Yeelight
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/yeelight/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
yeelight:
  devices:
    10.0.0.84:
      name: DeskLed
      model: strip1
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
With auto Discovery on

Logger: homeassistant.components.yeelight.light
Source: components/yeelight/light.py:311
Integration: Yeelight (documentation, issues)
First occurred: 19:42:02 (1 occurrences)
Last logged: 19:42:02

Cannot determine device type for 10.0.0.84, yeelight_strip1_7811dc66fef3. Falling back to white only
```

## Additional information

"
36892,Dyson incorrectly detects AUTO as OFF,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Dyson incorrectly detects AUTO as OFF

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.3
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker (doesn't matter)
- Integration causing this issue: https://github.com/home-assistant/home-assistant/tree/dev/homeassistant/components/dyson
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/dyson/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
dyson:
  username: redacted 
  password: redacted
  language: US
  devices:
    - device_id: NM7-US-redacted # eg. Serial number: XXX-XX-XXXXXXXX
      device_ip: 192.168.2.X

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information
Dyson fan/air filter gets detected correctly but home assistant thinks that AUTO is off.
2019-06-18 12:54:19 WARNING (SyncWorker_4) [homeassistant.components.homekit.util] ['AUTO', 1, 2, 3, 4, 5, 6, 7, 8, 9, 10] does not contain the speed setting off as its first element. Assuming that AUTO is equivalent to 'off'.

Issue has never been resolved, and is still outstanding. Related forum post: https://community.home-assistant.io/t/dyson-fan-bug-or-feature/205253/2

Identical to issue: https://github.com/home-assistant/core/issues/24606
Which got stale, and closed. 
"
36878,When plex server crashes plexwebsockets does not reconnect when server is offline,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

My plex server crashed last night (suspected to be a transcoding failure) this caused my plex sensors and media players to have their state stuck.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.3
- Last working Home Assistant Core release (if known): first time I have seen this error
- Operating environment (Home Assistant/Supervised/Docker/venv): venv
- Integration causing this issue: plex
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/plex/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
configured via UI
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-06-17 02:05:30 ERROR (MainThread) [plexwebsocket] Unexpected exception occurred: 
Traceback (most recent call last):
  File ""/srv/homeassistant3.7/lib/python3.7/site-packages/plexwebsocket.py"", line 89, in running
    self.uri, heartbeat=15, ssl=self._ssl
  File ""/srv/homeassistant3.7/lib/python3.7/site-packages/aiohttp/client.py"", line 1012, in __aenter__
    self._resp = await self._coro
  File ""/srv/homeassistant3.7/lib/python3.7/site-packages/aiohttp/client.py"", line 728, in _ws_connect
    proxy_headers=proxy_headers)
  File ""/srv/homeassistant3.7/lib/python3.7/site-packages/aiohttp/client.py"", line 504, in _request
    await resp.start(conn)
  File ""/srv/homeassistant3.7/lib/python3.7/site-packages/aiohttp/client_reqrep.py"", line 860, in start
    self._continue = None
  File ""/srv/homeassistant3.7/lib/python3.7/site-packages/aiohttp/helpers.py"", line 586, in __exit__
    raise asyncio.TimeoutError from None
concurrent.futures._base.TimeoutError
```

## Additional information

After restarting the plex server the websocket connection did not reconnect."
36858,WLED Integration not working after upgrading to 0.111.3,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.3
- Last working Home Assistant Core release (if known): 0.111.2 with pip install packaging fix (https://github.com/home-assistant/core/issues/36634)
- Operating environment (Home Assistant/Supervised/Docker/venv):
Python 3.7 Virtualenv
- Integration causing this issue: wled
- Link to integration documentation on our website: 
https://www.home-assistant.io/integrations/wled/
## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
This integration is configured using config_flow
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

2020-06-16 21:42:49 ERROR (MainThread) [homeassistant.bootstrap] Error setting up integration wled - received exception
Traceback (most recent call last):
  File ""/opt/homeassistant/lib/python3.7/site-packages/homeassistant/setup.py"", line 55, in async_setup_component
    return await task  # type: ignore
  File ""/opt/homeassistant/lib/python3.7/site-packages/homeassistant/setup.py"", line 134, in _async_setup_component
    await async_process_deps_reqs(hass, config, integration)
  File ""/opt/homeassistant/lib/python3.7/site-packages/homeassistant/setup.py"", line 322, in async_process_deps_reqs
    hass, integration.domain
  File ""/opt/homeassistant/lib/python3.7/site-packages/homeassistant/requirements.py"", line 78, in async_get_integration_with_requirements
    hass, integration.domain, integration.requirements
  File ""/opt/homeassistant/lib/python3.7/site-packages/homeassistant/requirements.py"", line 127, in async_process_requirements
    ret = await hass.async_add_executor_job(_install, hass, req, kwargs)
  File ""/usr/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/opt/homeassistant/lib/python3.7/site-packages/homeassistant/requirements.py"", line 138, in _install
    return pkg_util.install_package(req, **kwargs)
  File ""/opt/homeassistant/lib/python3.7/site-packages/homeassistant/util/package.py"", line 88, in install_package
    stderr.decode(""utf-8"").lstrip().strip(),
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xe9 in position 87: invalid continuation byte

```

## Additional information

"
36853,Proxmox VE integration - 401 Unauthorized: permission denied invalid PVE ticket,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Exactly two hours after restarting HA, Proxmox integration no longer works with error: 401 Unauthorized: permission denied - invalid PVE ticket 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.3
- Last working Home Assistant Core release (if known): 0.110.x
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant
- Integration causing this issue: Proxmox VE
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/proxmoxve/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
proxmoxve:
  - host: <ip address>
    username: <user>
    password: <pwd>
    verify_ssl: false
    realm: pam
    nodes:
      - node: pve
        vms:
          - 100
          - 102
          - 103
        containers:
          - 101
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Logger: homeassistant.helpers.entity
Source: components/proxmoxve/binary_sensor.py:96
First occurred: 17:40:58 (1026 occurrences)
Last logged: 19:53:10

Update for binary_sensor.pve_hassio_running fails
Update for binary_sensor.pve_omv_running fails
Update for binary_sensor.pve_hassio_test_running fails
Update for binary_sensor.pve_lamp_running fails
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 279, in async_update_ha_state
    await self.async_device_update()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 472, in async_device_update
    await self.hass.async_add_executor_job(self.update)
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/proxmoxve/binary_sensor.py"", line 83, in update
    item = self.poll_item()
  File ""/usr/src/homeassistant/homeassistant/components/proxmoxve/binary_sensor.py"", line 96, in poll_item
    .get(self._item_type.name)
  File ""/usr/local/lib/python3.7/site-packages/proxmoxer/core.py"", line 105, in get
    return self(args)._request(""GET"", params=params)
  File ""/usr/local/lib/python3.7/site-packages/proxmoxer/core.py"", line 94, in _request
    resp.reason, resp.content))
proxmoxer.core.ResourceException: 401 Unauthorized: permission denied - invalid PVE ticket - b''
```

## Additional information
HassOS is a proxmox virtual machine
"
36844,Home Assistant 0.111 Nuki bridge parameter missing,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 

-->
In the new version of pynuki, there is a new parameter ""secure"" (default true) when the NukiBridge is initialized. If you are using a soft bridge, it works the old way sending the token not codified, so you need to initialize it with false.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111
- Last working Home Assistant Core release (if known): 0.110 
- Operating environment (Home Assistant/Supervised/Docker/venv): HassOS 3.13 
- Integration causing this issue: Nuki
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/nuki/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-06-16 08:11:40 ERROR (MainThread) [homeassistant.components.lock] Error while setting up nuki platform for lock
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/pynuki/bridge.py"", line 78, in token
    self.info()
  File ""/usr/local/lib/python3.7/site-packages/pynuki/bridge.py"", line 158, in info
    data = self.__rq(""info"")
  File ""/usr/local/lib/python3.7/site-packages/pynuki/bridge.py"", line 106, in __rq
    result.raise_for_status()
  File ""/usr/local/lib/python3.7/site-packages/requests/models.py"", line 941, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: http://192.168.0.85:8080/info?ts=2020-06-16T06:11:39Z&rnr=1706&hash=4235a2340c5e467956667f29e7689896cde00b03c144aa39723f1c2ec233423508jhdsfvsdfgvb9s

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 178, in _async_setup_platform
    await asyncio.wait_for(asyncio.shield(task), SLOW_SETUP_MAX_WAIT)
  File ""/usr/local/lib/python3.7/asyncio/tasks.py"", line 442, in wait_for
    return fut.result()
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/nuki/lock.py"", line 54, in setup_platform
    config[CONF_HOST], config[CONF_TOKEN], config[CONF_PORT], DEFAULT_TIMEOUT,
  File ""/usr/local/lib/python3.7/site-packages/pynuki/bridge.py"", line 46, in __init__
    self.token = token
  File ""/usr/local/lib/python3.7/site-packages/pynuki/bridge.py"", line 84, in token
    ""Login error. Provided token is invalid.""
pynuki.bridge.InvalidCredentialsException: Login error. Provided token is invalid.

```

## Additional information

I think the solution should be to create a new config parameter for nuki integration (secure), so the user can select which way its bridge is working"
36825,Error while setting up luftdaten platform for sensor: KeyError: 'sensor_id',"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

Starting home-assistant results in the following error with the [luftdaten](https://www.home-assistant.io/integrations/luftdaten/) integration:

> 2020-06-15 15:37:00 ERROR (MainThread) [homeassistant.components.sensor] Error while setting up luftdaten platform for sensor
[...]
  File ""/usr/src/homeassistant/homeassistant/components/luftdaten/sensor.py"", line 83, in unique_id
    return f""{self._data['sensor_id']}_{self.sensor_type}""
KeyError: 'sensor_id'


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.2
- Last working Home Assistant Core release (if known): 0.110
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker
- Integration causing this issue: luftdaten
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/luftdaten/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

Nothing, cause it is configured via UI.
```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-06-15 15:37:00 ERROR (MainThread) [homeassistant.components.sensor] Error while setting up luftdaten platform for sensor
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 186, in _async_setup_platform
    await asyncio.gather(*pending)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 292, in async_add_entities
    await asyncio.gather(*tasks)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 327, in _async_add_entity
    if entity.unique_id is not None:
  File ""/usr/src/homeassistant/homeassistant/components/luftdaten/sensor.py"", line 83, in unique_id
    return f""{self._data['sensor_id']}_{self.sensor_type}""
KeyError: 'sensor_id'
```

## Additional information

"
36816,Bug/Question about Sonos,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
I owe a Sonos One and I have noticed the following after the upgrade to S2 by sonos. I do not know if the problem was there before. The issue is with the shuffle option.
If I start a Spotify  though Sonos or Home Assistant the shuffle option works as expected. I can use the shuffle inside HA or Sonos and they are in sync both false or true. If I start a Spotify through Alexa the Sonos in HA can understand what I am playing. But If I use shuffle though Alexa, Sonos App syncs the shuffle but in the HA the shuffle is false. in this case, even If I select shuffle inside HA is never turn to true.  
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

arch | armv7l
-- | --
dev | false
docker | false
hassio | false
installation_type | Home Assistant Core
os_name | Linux
os_version | 4.19.97-v7l+
python_version | 3.7.3
timezone | Europe/Nicosia
version | 0.111.2
virtualenv | true


- Home Assistant Core release with the issue: 
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): 
- Integration causing this issue: 
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
36793,Daikin AC component logs AttributeError since 0.111.2,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
After upgrading to core version 0.111.2 the Daikin AC component started showing an AttributeError in the logs:

```
AttributeError: 'str' object has no attribute 'sock'
```
See full traceback below.

This does not appear to have any impact on an existing Daikin integration but possibly does for any new discoveries.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.2
- Last working Home Assistant Core release (if known): 0.111.1
- Operating environment (Home Assistant/Supervised/Docker/venv): 

arch | armv7l
-- | --
dev | false
docker | false
hassio | false
installation_type | Home Assistant Core
os_name | Linux
os_version | 4.19.120-v7l-FOU+
python_version | 3.7.3
timezone | Europe/Amsterdam
version | 0.111.2
virtualenv | true


- Integration causing this issue: Daikin AC
- Link to integration documentation on our website: 
https://www.home-assistant.io/integrations/daikin/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
No relevant yaml config.

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-06-14 15:55:06 ERROR (MainThread) [homeassistant.core] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/data_entry_flow.py"", line 129, in async_init
    flow, flow.init_step, data, init_done
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/daikin/config_flow.py"", line 132, in async_step_zeroconf
    devices = Discovery.poll(discovery_info[CONF_HOST])
  File ""/srv/homeassistant/lib/python3.7/site-packages/pydaikin/discovery.py"", line 77, in poll
    self.sock.sendto(bytes(DISCOVERY_MSG, 'UTF-8'), (ip, UDP_DST_PORT))
AttributeError: 'str' object has no attribute 'sock'
```

## Additional information

"
36767,Issues with state updates when controlling multiple lights with ZHA,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
When turning on/off multiple lights connected through the ZHA integration at the same time not all lights update their state immediately. It can take several minutes for the correct state to show. 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.2
- Last working Home Assistant Core release (if known): unknown
- Operating environment (Home Assistant/Supervised/Docker/venv): Supervised
- Integration causing this issue: zha / Zigbee Home Automation
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/zha/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
  - platform: group
    name: woonkamer_vloer_ha_group
    entities:
      - light.woonkamer_boekenkast
      - light.woonkamer_trap
      - light.woonkamer_raam_tuin
      - light.woonkamer_raam_voor
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->


## Additional information
I set up the ZHA integration, using a Conbee 2 stick connected to a Raspberry Pi 4. The relevant part of my setup are four Hue light bulbs connected using ZHA. Controlling these lights individually works perfectly every single time, but I have two issues when controlling all four at the same time.

1. If I configure a group in ZHA containing all four lights, I can control them perfectly using the group entity. However, if I do so the state of the individual lights can take minutes to update. I would expect this to be instant. 
The same thing happens if I create three groups in ZHA; one with all four lights and two groups of two lights each. If I turn on the group with four lights most of the time one of the smaller groups will show the correct state immediately, and the other one will take several minutes to update. 
2. As a workaround I tried to create a light group in Home Assistant (see the configuration snippet I included). This works _most of the time_, but about 20-25% of the time one or two of the lights are turned on or off like intended, but don't immediately update their state in Home Assistant.


"
36741,Insteon integration fails to operate X-10 devices,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
X-10 device control with the Insteon integration no longer appears to work.

<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
X-10 devices could be controlled by HA in pre-111 releases, but not in 111.x.

I'm running 111.1 in a py3.7.3 venv.
The problem arrived with 111.0, and exists in 111.1
All non-X-10 Insteon devices operate properly with this release.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 
111.1

- Last working Home Assistant Core release (if known): 
110.7

- Operating environment (Home Assistant/Supervised/Docker/venv): 
venv

- Integration causing this issue: 
pyinsteon / Insteon

- Link to integration documentation on our website: 
https://www.home-assistant.io/integrations/insteon

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
insteon:
  port: /dev/USBinsteon
  x10_devices:
    - housecode: g
      unitcode: 1
      platform: light
    - housecode: g
      unitcode: 3
      platform: switch
    - housecode: g
      unitcode: 4
      platform: switch

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->
2020-06-12 19:32:36 DEBUG (MainThread) [pyinsteon.topics] Topic: send.x10_send data: {'raw_x10': b'Z', 'x10_flag': 0x00}
2020-06-12 19:32:36 DEBUG (MainThread) [pyinsteon.topics] Topic: send_message.x10_send data: {'msg': msg_id: 0x63, raw_x10: 0x5a, x10_flag: 0x00, 'priority': 5}
2020-06-12 19:32:36 DEBUG (MainThread) [pyinsteon.messages] TX: msg_id: 0x63, raw_x10: 0x5a, x10_flag: 0x00
2020-06-12 19:32:36 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] IN CREATE: 0503801502635a0006
2020-06-12 19:32:36 DEBUG (MainThread) [pyinsteon.messages] RX: msg_id: 0x63, raw_x10: 0x5a, x10_flag: 0x00, ack: 0x06
2020-06-12 19:32:36 DEBUG (MainThread) [pyinsteon.topics] Topic: ack.x10_send data: {'raw_x10': 90, 'x10_flag': 0x00}
2020-06-12 19:32:36 DEBUG (MainThread) [pyinsteon.topics] Topic: send.x10_send data: {'raw_x10': b'\x05\x02', 'x10_flag': 0x80}
2020-06-12 19:32:36 DEBUG (MainThread) [pyinsteon.topics] Topic: send_message.x10_send data: {'msg': msg_id: 0x63, raw_x10: 0x0502, x10_flag: 0x80, 'priority': 5}
2020-06-12 19:32:37 DEBUG (MainThread) [pyinsteon.protocol.protocol] Started
2020-06-12 19:32:37 DEBUG (MainThread) [pyinsteon.messages] TX: msg_id: 0x63, raw_x10: 0x0502, x10_flag: 0x80
2020-06-12 19:32:37 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] IN CREATE: 026305028015
2020-06-12 19:32:37 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] Message ID not found: 0x63
2020-06-12 19:32:37 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] Bad Data: 026305028015
2020-06-12 19:32:37 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] IN CREATE: 05028015
2020-06-12 19:32:37 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] Message ID not found: 0x80
2020-06-12 19:32:37 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] Bad Data: 05028015
2020-06-12 19:32:37 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] IN CREATE: 15
2020-06-12 19:32:37 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] Message less than 2 bytes
2020-06-12 19:32:39 DEBUG (MainThread) [pyinsteon.protocol.protocol] Started
2020-06-12 19:32:44 DEBUG (MainThread) [pyinsteon.topics] Topic: send.x10_send data: {'raw_x10': b'Z', 'x10_flag': 0x00}
2020-06-12 19:32:44 DEBUG (MainThread) [pyinsteon.topics] Topic: send_message.x10_send data: {'msg': msg_id: 0x63, raw_x10: 0x5a, x10_flag: 0x00, 'priority': 5}
2020-06-12 19:32:44 DEBUG (MainThread) [pyinsteon.messages] TX: msg_id: 0x63, raw_x10: 0x5a, x10_flag: 0x00
2020-06-12 19:32:44 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] IN CREATE: 1502635a0006
2020-06-12 19:32:44 DEBUG (MainThread) [pyinsteon.messages] RX: msg_id: 0x63, raw_x10: 0x5a, x10_flag: 0x00, ack: 0x06
2020-06-12 19:32:44 DEBUG (MainThread) [pyinsteon.topics] Topic: ack.x10_send data: {'raw_x10': 90, 'x10_flag': 0x00}
2020-06-12 19:32:44 DEBUG (MainThread) [pyinsteon.topics] Topic: send.x10_send data: {'raw_x10': b'\x05\x02', 'x10_flag': 0x80}
2020-06-12 19:32:44 DEBUG (MainThread) [pyinsteon.topics] Topic: send_message.x10_send data: {'msg': msg_id: 0x63, raw_x10: 0x0502, x10_flag: 0x80, 'priority': 5}
2020-06-12 19:32:45 DEBUG (MainThread) [pyinsteon.protocol.protocol] Started
2020-06-12 19:32:45 DEBUG (MainThread) [pyinsteon.messages] TX: msg_id: 0x63, raw_x10: 0x0502, x10_flag: 0x80
2020-06-12 19:32:45 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] IN CREATE: 026305028015
2020-06-12 19:32:45 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] Message ID not found: 0x63
2020-06-12 19:32:45 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] Bad Data: 026305028015
2020-06-12 19:32:45 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] IN CREATE: 05028015
2020-06-12 19:32:45 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] Message ID not found: 0x80
2020-06-12 19:32:45 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] Bad Data: 05028015
2020-06-12 19:32:45 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] IN CREATE: 15
2020-06-12 19:32:45 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] Message less than 2 bytes
2020-06-12 19:32:47 DEBUG (MainThread) [pyinsteon.protocol.protocol] Started
2020-06-12 19:32:52 DEBUG (MainThread) [pyinsteon.topics] Topic: send.x10_send data: {'raw_x10': b'Z', 'x10_flag': 0x00}
2020-06-12 19:32:52 DEBUG (MainThread) [pyinsteon.topics] Topic: send_message.x10_send data: {'msg': msg_id: 0x63, raw_x10: 0x5a, x10_flag: 0x00, 'priority': 5}
2020-06-12 19:32:52 DEBUG (MainThread) [pyinsteon.messages] TX: msg_id: 0x63, raw_x10: 0x5a, x10_flag: 0x00
2020-06-12 19:32:52 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] IN CREATE: 1502635a0006
2020-06-12 19:32:52 DEBUG (MainThread) [pyinsteon.messages] RX: msg_id: 0x63, raw_x10: 0x5a, x10_flag: 0x00, ack: 0x06
2020-06-12 19:32:52 DEBUG (MainThread) [pyinsteon.topics] Topic: ack.x10_send data: {'raw_x10': 90, 'x10_flag': 0x00}
2020-06-12 19:32:52 DEBUG (MainThread) [pyinsteon.topics] Topic: send.x10_send data: {'raw_x10': b'\x05\x02', 'x10_flag': 0x80}
2020-06-12 19:32:52 DEBUG (MainThread) [pyinsteon.topics] Topic: send_message.x10_send data: {'msg': msg_id: 0x63, raw_x10: 0x0502, x10_flag: 0x80, 'priority': 5}
2020-06-12 19:32:53 DEBUG (MainThread) [pyinsteon.protocol.protocol] Started
2020-06-12 19:32:53 DEBUG (MainThread) [pyinsteon.messages] TX: msg_id: 0x63, raw_x10: 0x0502, x10_flag: 0x80
2020-06-12 19:32:53 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] IN CREATE: 026305028015
2020-06-12 19:32:53 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] Message ID not found: 0x63
2020-06-12 19:32:53 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] Bad Data: 026305028015
2020-06-12 19:32:53 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] IN CREATE: 05028015
2020-06-12 19:32:53 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] Message ID not found: 0x80
2020-06-12 19:32:53 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] Bad Data: 05028015
2020-06-12 19:32:53 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] IN CREATE: 15
2020-06-12 19:32:53 DEBUG (MainThread) [pyinsteon.protocol.messages.inbound] Message less than 2 bytes
2020-06-12 19:32:55 DEBUG (MainThread) [pyinsteon.protocol.protocol] Started

```txt

```

## Additional information
The log snippet is what results from sending an 'ON' command to X-10 device X10.G.04
All other X-10 commands result in similar log records, including the ""bad data"" line."
36715,Synology integration unable to add DSM,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## Problem
unable to add discovered synology DSM to integrations, it gives an login failed error, while on the DSM we can see that login is actually succesfull.
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 110.7 but was already an issue in older versions too
- Last working Home Assistant Core release (if known): unknown
- Operating environment (Home Assistant/Supervised/Docker/venv):  HA on vmware
- Integration causing this issue: Synology_dsm
- Link to integration documentation on our website: 
https://www.home-assistant.io/integrations/synology_dsm/
## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```n/a

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
Log Details (ERROR)
Logger: aiohttp.server
Source: components/synology_dsm/config_flow.py:262
First occurred: 10:00:45 AM (1 occurrences)
Last logged: 10:00:45 AM

Error handling request
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/real_ip.py"", line 39, in real_ip_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/ban.py"", line 73, in ban_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 129, in handle
    result = await result
  File ""/usr/src/homeassistant/homeassistant/components/config/config_entries.py"", line 145, in post
    return await super().post(request, flow_id)
  File ""/usr/src/homeassistant/homeassistant/components/http/data_validator.py"", line 60, in wrapper
    result = await method(view, request, *args, **kwargs)
  File ""/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py"", line 106, in post
    result = await self._flow_mgr.async_configure(flow_id, data)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 153, in async_configure
    result = await self._async_handle_step(flow, cur_step[""step_id""], user_input)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/config_flow.py"", line 205, in async_step_link
    return await self.async_step_user(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/config_flow.py"", line 131, in async_step_user
    _login_and_fetch_syno_info, api, otp_code
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/synology_dsm/config_flow.py"", line 262, in _login_and_fetch_syno_info
    api.login(otp_code)
  File ""/usr/local/lib/python3.7/site-packages/synology_dsm/synology_dsm.py"", line 152, in login
    raise switcher.get(result[""error""][""code""], SynologyDSMLoginFailedException)
TypeError: __init__() missing 2 required positional arguments: 'api' and 'code'
```

## Additional information

DSM shows a valid login, while the integration says invalid login:
https://i.imgur.com/A4p5Mjz.png
https://i.imgur.com/2kJ8uWe.png
"
36711,Gogogate2 Integration version 0.111.1 - Problem with Credentials,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
I tried to integrate the Gogogate2 using the credentials that I had in the yaml file. I was getting an error. I checked the credentials and they were correct by logging to Gogogate2. Finally , I used the admin credentials and the integration finished successfully. 
<!-- 

-->


## Environment
arch | armv7l
-- | --
dev | false
docker | false
hassio | false
installation_type | Home Assistant Core
os_name | Linux
os_version | 4.19.97-v7l+
python_version | 3.7.3
timezone | Europe/Nicosia
version | 0.111.1
virtualenv | true

<!--



-->

- Home Assistant Core release with the issue: 
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): 
- Integration causing this issue: 
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
36698,upnp: upnp raw sensor state formatting when None for Huawei B525s-65a router,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
UPnP detects Huawei B525s-65a router but doesn't record any traffic totals or /sec values.



## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.0
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant
- Integration causing this issue: UPnP
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
logger:
   default: debug

upnp:
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->
developer-tools/logs says:
```txt
Error doing job: Task exception was never retrieved
11:05:37 – components/upnp/sensor.py (ERROR) - message first occurred at 10:59:37 and shows up 13 times
Error while setting up upnp platform for sensor
10:59:07 – Sensor (ERROR) - message first occurred at 10:59:07 and shows up 2 times
```

```txt
Log Details (ERROR)
Logger: homeassistant.components.sensor
Source: components/upnp/sensor.py:201
Integration: Sensor (documentation, issues)
First occurred: 10:59:07 (2 occurrences)
Last logged: 10:59:07

Error while setting up upnp platform for sensor
upnp: Error on device update!
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 186, in _async_setup_platform
    await asyncio.gather(*pending)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 292, in async_add_entities
    await asyncio.gather(*tasks)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 443, in _async_add_entity
    entity.async_write_ha_state()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 297, in async_write_ha_state
    self._async_write_ha_state()  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 320, in _async_write_ha_state
    state = self.state
  File ""/usr/src/homeassistant/homeassistant/components/upnp/sensor.py"", line 201, in state
    return format(value, ""d"")
TypeError: unsupported format string passed to NoneType.__format__
```

```txt
Log Details (ERROR)
Logger: homeassistant.core
Source: components/upnp/sensor.py:201
First occurred: 10:59:37 (22 occurrences)
Last logged: 11:10:07

Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py"", line 111, in _handle_refresh_interval
    await self.async_refresh()
  File ""/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py"", line 177, in async_refresh
    update_callback()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 297, in async_write_ha_state
    self._async_write_ha_state()  # type: ignore
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 320, in _async_write_ha_state
    state = self.state
  File ""/usr/src/homeassistant/homeassistant/components/upnp/sensor.py"", line 201, in state
    return format(value, ""d"")
TypeError: unsupported format string passed to NoneType.__format__
```
These errors are from RawUpnpSensor 
Note that there was no error from   DerivedUpnpSensor format on line 258

Full log contains lines like this.  I didn't see any byte/packet counters.
```txt
2020-06-12 10:58:47 DEBUG (MainThread) [async_upnp_client.traffic] Received packet from ('192.168.8.1', 1900):
b'HTTP/1.1 200 OK\r\nLOCATION: http://192.168.8.1:37215/00e0fc37-2525-2828-2500-30a2c2f9b114/upnpdev.xml\r\nSECURELOCATION.UPNP.ORG: https://192.168.8.1:37443/00e0fc37-2525-2828-2500-30a2c2f9b114/upnpdev.xml\r\nSERVER: Linux UPnP/1.0 Huawei-ATP-IGD\r\nCACHE-CONTROL: max-age=86500\r\nEXT: \r\nST: upnp:rootdevice\r\nUSN: uuid:00e0fc37-2525-2828-2500-30a2c2f9b114::upnp:rootdevice\r\nDATE: Fri, 12 Jun 2020 10:58:44 GMT\r\n\r\n'
2020-06-12 10:58:47 DEBUG (MainThread) [async_upnp_client.traffic] Received packet from ('192.168.8.1', 1900):
b'HTTP/1.1 200 OK\r\nLOCATION: http://192.168.8.1:37215/00e0fc37-2525-2828-2500-30a2c2f9b114/upnpdev.xml\r\nSECURELOCATION.UPNP.ORG: https://192.168.8.1:37443/00e0fc37-2525-2828-2500-30a2c2f9b114/upnpdev.xml\r\nSERVER: Linux UPnP/1.0 Huawei-ATP-IGD\r\nCACHE-CONTROL: max-age=86500\r\nEXT: \r\nST: uuid:00e0fc37-2525-2828-2500-30a2c2f9b114\r\nUSN: uuid:00e0fc37-2525-2828-2500-30a2c2f9b114\r\nDATE: Fri, 12 Jun 2020 10:58:44 GMT\r\n\r\n'
2020-06-12 10:58:47 DEBUG (MainThread) [async_upnp_client.traffic] Received packet from ('192.168.8.1', 1900):
b'HTTP/1.1 200 OK\r\nLOCATION: http://192.168.8.1:37215/00e0fc37-2525-2828-2500-30a2c2f9b114/upnpdev.xml\r\nSECURELOCATION.UPNP.ORG: https://192.168.8.1:37443/00e0fc37-2525-2828-2500-30a2c2f9b114/upnpdev.xml\r\nSERVER: Linux UPnP/1.0 Huawei-ATP-IGD\r\nCACHE-CONTROL: max-age=86500\r\nEXT: \r\nST: urn:schemas-upnp-org:device:InternetGatewayDevice:1\r\nUSN: uuid:00e0fc37-2525-2828-2500-30a2c2f9b114::urn:schemas-upnp-org:device:InternetGatewayDevice:1\r\nDATE: Fri, 12 Jun 2020 10:58:44 GMT\r\n\r\n'
2020-06-12 10:58:48 DEBUG (MainThread) [async_upnp_client.traffic] Received packet from ('192.168.8.1', 1900):
b'HTTP/1.1 200 OK\r\nLOCATION: http://192.168.8.1:37215/00e0fc37-2525-2828-2500-30a2c2f9b114/upnpdev.xml\r\nSECURELOCATION.UPNP.ORG: https://192.168.8.1:37443/00e0fc37-2525-2828-2500-30a2c2f9b114/upnpdev.xml\r\nSERVER: Linux UPnP/1.0 Huawei-ATP-IGD\r\nCACHE-CONTROL: max-age=86500\r\nEXT: \r\nST: urn:schemas-upnp-org:device:WANConnectionDevice:1\r\nUSN: uuid:00e0fc37-2525-2828-2502-30a2c2f9b114::urn:schemas-upnp-org:device:WANConnectionDevice:1\r\nDATE: Fri, 12 Jun 2020 10:58:44 GMT\r\n\r\n'
```

## Additional information

I think this is a repeat of [https://github.com/home-assistant/core/issues/20893] fixed by [https://github.com/home-assistant/core/pull/30444] and re-introduced by [https://github.com/home-assistant/core/pull/33108].

The UPnP detection does add 8 (or 7) entities for the router.
The raw sensors are ""unavailable"".
The derived sensors are ""unknown"".

<img width=""1028"" alt=""Screen Shot 2020-06-12 at 11 29 39"" src=""https://user-images.githubusercontent.com/6958652/84455938-0eba6f00-aca2-11ea-83f1-1557a9b3e059.png"">
"
36687,Forked Daapd error when configuring,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Home Assistant Core 0.111.0 discovered my Forked-Daapd installation and I tried to setup the integration. However, when setting up the Integration, I got an error message on UI ""Unknown error occurred"". Logs below. 

## Environment
Home Assistant Core on Docker 0.111.0

- Home Assistant Core release with the issue: 
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv):  Docker
- Integration causing this issue: forked-daapd
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
Auto discovery and tried to add integration but could not. 

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-06-11 12:44:24 ERROR (MainThread) [aiohttp.server] Error handling request
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/real_ip.py"", line 39, in real_ip_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/ban.py"", line 73, in ban_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 125, in handle
    result = await result
  File ""/usr/src/homeassistant/homeassistant/components/config/config_entries.py"", line 145, in post
    return await super().post(request, flow_id)
  File ""/usr/src/homeassistant/homeassistant/components/http/data_validator.py"", line 54, in wrapper
    result = await method(view, request, *args, **kwargs)
  File ""/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py"", line 103, in post
    result = await self._flow_mgr.async_configure(flow_id, data)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 153, in async_configure
    result = await self._async_handle_step(flow, cur_step[""step_id""], user_input)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/forked_daapd/config_flow.py"", line 136, in async_step_user
    if entry.data[CONF_HOST] == user_input[CONF_HOST]:
KeyError: 'host'


```

## Additional information

"
36678,Plex integration throws an exception upon loading,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
The Plex integration is throwing an error when created, effectively rendering the integration useless, as the state of the created entities remains `unknown`.

```
2020-06-11 20:20:57 ERROR (MainThread) [homeassistant.util.logging] Exception in async_call when dispatching 'plex_update_platforms_signal.redacteduuid': ()
 Traceback (most recent call last):
   File ""/usr/src/homeassistant/homeassistant/helpers/debounce.py"", line 60, in async_call
     await self.hass.async_add_job(self.function)  # type: ignore
   File ""/usr/src/homeassistant/homeassistant/components/plex/server.py"", line 207, in _async_update_platforms
     known_accounts = set(self.option_monitored_users)
   File ""/usr/src/homeassistant/homeassistant/components/plex/server.py"", line 361, in option_monitored_users
     return self.options[MP_DOMAIN].get(CONF_MONITORED_USERS, {})
 KeyError: 'media_player'
```

Opening the Options-menu of the integration hangs and gives the following error:
```
2020-06-11 20:25:03 ERROR (MainThread) [aiohttp.server] Error handling request
 Traceback (most recent call last):
   File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_protocol.py"", line 418, in start
     resp = await task
   File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_app.py"", line 458, in _handle
     resp = await handler(request)
   File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
     return await handler(request)
   File ""/usr/src/homeassistant/homeassistant/components/http/real_ip.py"", line 39, in real_ip_middleware
     return await handler(request)
   File ""/usr/src/homeassistant/homeassistant/components/http/ban.py"", line 73, in ban_middleware
     return await handler(request)
   File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 127, in auth_middleware
     return await handler(request)
   File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 129, in handle
     result = await result
   File ""/usr/src/homeassistant/homeassistant/components/config/config_entries.py"", line 186, in post
     return await super().post(request)
   File ""/usr/src/homeassistant/homeassistant/components/http/data_validator.py"", line 60, in wrapper
     result = await method(view, request, *args, **kwargs)
   File ""/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py"", line 73, in post
     ""show_advanced_options"": data[""show_advanced_options""],
   File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 129, in async_init
     flow, flow.init_step, data, init_done
   File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
     result: Dict = await getattr(flow, method)(user_input)
   File ""/usr/src/homeassistant/homeassistant/components/plex/config_flow.py"", line 328, in async_step_init
     return await self.async_step_plex_mp_settings()
   File ""/usr/src/homeassistant/homeassistant/components/plex/config_flow.py"", line 358, in async_step_plex_mp_settings
     known_accounts = set(plex_server.option_monitored_users)
   File ""/usr/src/homeassistant/homeassistant/components/plex/server.py"", line 361, in option_monitored_users
     return self.options[MP_DOMAIN].get(CONF_MONITORED_USERS, {})
 KeyError: 'media_player'
```


## Environment

- Home Assistant Core release with the issue: 0.111.0
- Last working Home Assistant Core release (if known): unknown
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker
- Integration causing this issue: Plex Media Server
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/plex/

## Problem-relevant `configuration.yaml`
Integration created in UI, no relevant yamls

## Traceback/Error logs
Please see above.

## Additional information
Problem exists both when using the integration with automated plex.tv login as well as when manually setting it up with hostname, port and token."
36675," LlamaLab Automate Notifier not working since upgrade to 0.111.0, logs error 400","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
LlamaLab Automate Notifier not working anymore since upgrade to 0.110.0, logs an error 400, (Bad HTTP request) when calling the service.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.0
- Last working Home Assistant Core release (if known): 0.110.3
- Operating environment (Home Assistant/Supervised/Docker/venv): Core only on Docker
- Integration causing this issue: LlamaLab Automate
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/llamalab_automate

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
notify:
   - name: Automate Notifier
     platform: llamalab_automate
     api_key: !secret automate_notify_apikey
     to: !secret automate_notify_email
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-06-11 12:59:16 ERROR (SyncWorker_1) [homeassistant.components.llamalab_automate.notify] Error sending message: <Response [400]>
```

## Additional information

### Service call (as simple as possible) that fails:

```yaml
service: notify.automate_notifier
data:
  message: ""This is the message""
```

### My real life Service call example: 

```yaml
service: notify.automate_notifier
data:
  message: >-
    {""message"":""Backup completed @ {{ states('sensor.last_backup') }}"",
    ""title"":""Backup script"",
    ""pictureURL"":"""",
    ""cancel_previous_same_title"":""true"",
    ""timeout_seconds"":""86400""}
```
"
36661,"Unable to add Axis Camera with ""Viewer"" user","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I just updated from 0.107 to 0.111 and my Axis cameras could not show any information anymore. I then removed all cameras from the integration and tried to re-add them. I've setup a dedicated ""viewer"" user on the Axis camera (using the browser and logging in with this user works) but with HomeAssistant, it now always shows ""Bad user credentials"". If I use the root user from the Axis camera it works but the documentation mentions, a viewer user is good enouth (and it worked with 0.107).

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.0
- Last working Home Assistant Core release (if known): 0.107.6
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker
- Integration causing this issue: Axis
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/axis/
- Axis Cameras Firmware: 9.80.1 (newest)

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
None
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-06-11 14:23:00 WARNING (MainThread) [homeassistant.components.axis] Connected to device at xxx.xxx.xxx.xxx but not registered.
```

## Additional information
None
"
36641,Nanoleaf return wrong attributes when running an effect,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
When you run an effect on the nanoleaf, the attributes ""rgb_color"", ""xy_color"", ""hs_color""and ""color_temp"" return wrong values.
I think the nanoleaf api doesn't return any of these values, when you run an effect, so HA takes some default values. The nanoleaf api return these values only when you run it on a static color.

If you create a light scene with these wrong values, the nanoleaf will flash to pure white for a short time during scene change.

Here is an example of the wrong attributes, when you run an effect:
```
min_mireds: 154
max_mireds: 833
effect_list:
  - 4 Colors
  - Christmas Lights
  - Color Burst
  - Disco Color
  - Fireworks
  - Flames
  - Forest
  - Inner Peace
  - Meteor Shower
  - Nemo
  - Nightclub
  - Nordlichter
  - Northern Lights
  - Ocean
  - Paint Splatter
  - Pulse
  - Pulse Pop Beats
  - Rhythmic Northern Lights
  - Ripple
  - Romantic
  - Snowfall
  - Soho
  - Sound Bar
  - Streaking Notes
  - Tokyo
  - Triluminox Energy Crystal
brightness: 104
color_temp: 304
hs_color:
  - 0
  - 0
rgb_color:
  - 255
  - 255
  - 255
xy_color:
  - 0.323
  - 0.329
effect: Ocean
friendly_name: Nanoleaf
icon: 'mdi:triangle-outline'
supported_features: 55


```

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111, but I'm pretty sure it exists for a long time
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant
- Integration causing this issue: nanoleaf
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/nanoleaf/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
light:
  - platform: nanoleaf
    host: 192.XXX.XXX.XX
    token: XXXXXXX
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

This issue isn't this important, because everything is running fine. It's just a bit annoying, when you create a new scene. As a workaround I can just delete the wrong attributes from the ""scenes.yaml""
"
36638,Yandex transport. Error on device update,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment
- Home Assistant Core release with the issue: 0.111.0
- Operating environment (Home Assistant/Supervised/Docker/venv): 19.03.8
- Integration causing this issue: https://www.home-assistant.io/integrations/yandex_transport/

## Problem-relevant `configuration.yaml`
yandex_transport: Error on device update!

```yaml
  - platform: yandex_transport
    stop_id: 9641558
    name: Bus_to_subway_Babushkinskaya

  - platform: yandex_transport
    stop_id: 9641578
    name: Bus_to_subway_Medvedkovo
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/yandex_transport/sensor.py"", line 67, in update
    data = yandex_reply[""data""]
KeyError: 'data'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 319, in _async_add_entity
    await entity.async_device_update(warning=False)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 472, in async_device_update
    await self.hass.async_add_executor_job(self.update)
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/yandex_transport/sensor.py"", line 75, in update
    data = self.requester.get_stop_info(self._stop_id)[""data""]
KeyError: 'data'
```

## Additional information

"
36635,Daikin integration duplicated,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
I have not daikin in yaml mode, removed it with 0.110, after 0.111 upgrade i see 2 new daikin integration discovered...... so i removed my configured daikin thinking a configuration issue, restarted, and now i see 4 daikin integration. 2 ignorable, 2 not ignorable.

for now fixed configuring 2 not ignorable and ignore other 2.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.11
- Last working Home Assistant Core release (if known): 0.110.X
- Operating environment (Home Assistant/Supervised/Docker/venv): hassos 
- Integration causing this issue: Daikin
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

![Schermata 2020-06-10 alle 19 33 01](https://user-images.githubusercontent.com/169086/84306838-52a35c00-ab5c-11ea-9d92-5befb668ae5f.png)
"
36634,WLED: ModuleNotFoundError: No module named 'packaging',"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

After upgrading to Home Assistant Core `0.111` I have WLED error:
 `ModuleNotFoundError: No module named 'packaging'`

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 
`0.111.0`

- Last working Home Assistant Core release (if known): 

- Operating environment (Home Assistant/Supervised/Docker/venv): 
Python 3.7 Virtualenv

- Integration causing this issue: 
`wled`

- Link to integration documentation on our website: 
https://www.home-assistant.io/integrations/wled/
## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
This integration is configured using config_flow
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-06-10 13:59:53 ERROR (MainThread) [aiohttp.server] Error handling request
Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.7/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/srv/homeassistant/lib/python3.7/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/srv/homeassistant/lib/python3.7/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/http/real_ip.py"", line 39, in real_ip_middleware
    return await handler(request)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/http/ban.py"", line 73, in ban_middleware
    return await handler(request)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/http/view.py"", line 129, in handle
    result = await result
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/config/config_entries.py"", line 88, in delete
    result = await hass.config_entries.async_remove(entry_id)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/config_entries.py"", line 621, in async_remove
    unload_success = await self.async_unload(entry_id)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/config_entries.py"", line 721, in async_unload
    return await entry.async_unload(self.hass)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/config_entries.py"", line 281, in async_unload
    component = integration.get_component()
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/loader.py"", line 264, in get_component
    cache[self.domain] = importlib.import_module(self.pkg_path)
  File ""/usr/local/lib/python3.7/importlib/__init__.py"", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File ""<frozen importlib._bootstrap>"", line 1006, in _gcd_import
  File ""<frozen importlib._bootstrap>"", line 983, in _find_and_load
  File ""<frozen importlib._bootstrap>"", line 967, in _find_and_load_unlocked
  File ""<frozen importlib._bootstrap>"", line 677, in _load_unlocked
  File ""<frozen importlib._bootstrap_external>"", line 728, in exec_module
  File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/wled/__init__.py"", line 7, in <module>
    from wled import WLED, Device as WLEDDevice, WLEDConnectionError, WLEDError
  File ""/srv/homeassistant/lib/python3.7/site-packages/wled/__init__.py"", line 14, in <module>
    from .wled import WLED, WLEDConnectionError, WLEDError  # noqa
  File ""/srv/homeassistant/lib/python3.7/site-packages/wled/wled.py"", line 12, in <module>
    from packaging import version
ModuleNotFoundError: No module named 'packaging'
```

## Additional information
Fixed with the following steps
```
su - homeassistant
source /srv/homeassistant/bin/activate
pip install packaging
```
"
36606,Withings integration: wrong units for hydration (body water),"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
When querying from Grafana, I noticed that Withings hydration sensor for my profile is in % rather than kg per the [API documentation](https://developer.withings.com/oauth2/#tag/measure).

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.5
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): Supervised
- Integration causing this issue: withings
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/withings

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
withings:
  client_id: !secret withings_client_id
  client_secret: !secret withings_client_secret
  profiles:
    - !secret withings_profile
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
36599,Error setting up Corona sensor sensor.sweden_coronavirus_current (Data for Sweden),"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
Error setting up Corona sensor sensor.sweden_coronavirus_current (Data for Sweden). Noticed this after restart when upgrading to 0.110.5. Several restarts and after upgrading 0.110.6 no difference
-->


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.6
- Last working Home Assistant Core release (if known): 0.110.4
- Operating environment (Home Assistant/Supervised/Docker/venv): venv
- Integration causing this issue: 
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/coronavirus/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
Logginformation (ERROR)
Logger: homeassistant.components.sensor
Source: components/coronavirus/sensor.py:58
Integration: Sensor (documentation, issues)
First occurred: 11:26:03 (1 occurrences)
Last logged: 11:26:03

Error while setting up coronavirus platform for sensor
Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/helpers/entity_platform.py"", line 186, in _async_setup_platform
    await asyncio.gather(*pending)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/helpers/entity_platform.py"", line 295, in async_add_entities
    await asyncio.gather(*tasks)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/helpers/entity_platform.py"", line 446, in _async_add_entity
    entity.async_write_ha_state()
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/helpers/entity.py"", line 297, in async_write_ha_state
    self._async_write_ha_state()  # type: ignore
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/helpers/entity.py"", line 320, in _async_write_ha_state
    state = self.state
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/coronavirus/sensor.py"", line 58, in state
    return getattr(self.coordinator.data[self.country], self.info_type)
  File ""/srv/homeassistant/lib/python3.7/site-packages/coronavirus/__init__.py"", line 25, in current
    return self.confirmed - self.deaths - self.recovered
TypeError: unsupported operand type(s) for -: 'int' and 'NoneType'
-->

```txt

```

## Additional information

"
36472,Intesishome unavailable,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Upgrading after 0.108.9 my Intesishome device is unavailable. Until 0.108.9 there were any problem; with 0.109 and 0.110 the entity exists but is unavailable.
## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

arch | armv7l
-- | --
chassis | embedded
dev | false
docker | true
hassio | true
host_os | HassOS 3.13
installation_type | Home Assistant
os_name | Linux
os_version | 4.19.114-v7
python_version | 3.7.7
supervisor | 227
timezone | Europe/Rome
version | 0.110.4
virtualenv | false


- Home Assistant Core release with the issue: 0.109 - 0.110
- Last working Home Assistant Core release (if known): 0.108.9
- Operating environment (Home Assistant/Supervised/Docker/venv): Hass.io on rpi
- Integration causing this issue: Intesishome
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/intesishome/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
climate:
  - platform: intesishome
    username: xxx@xxx
    password: xxxxxxxx  
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-06-05 07:56:51 INFO (SyncWorker_10) [homeassistant.loader] Loaded intesishome from homeassistant.components.intesishome
2020-06-05 07:56:52 INFO (MainThread) [homeassistant.components.climate] Setting up climate.intesishome
2020-06-05 07:56:52 DEBUG (MainThread) [pyintesishome] Using the provided event loop
05 07:57:01 DEBUG (MainThread) [pyintesishome] {'config': {'token': 249266610, 'pushToken': 'channel-950a1f40ce3f3fda1695bea415338604', 'lastAppVersion': '2.8', 'forceUpdate': 0, 'setDelay': 0.7, 'serverIP': '212.36.84.207', 'serverPort': 5220, 'hash': '2f6c96fe2cc313860a129f6cd4558919d154d782', 'inst': [{'id': 1, 'order': 1, 'name': 'First installation', 'devices': [{'id': '127934850170', 'name': 'FOIS HOME NEW', 'familyId': 6656, 'modelId': 309, 'installationId': 30581, 'zoneId': 31607, 'order': 1, 'widgets': [16, 3, 18, 27, 25, 23, 46]}]}]}, 'status': {'hash': 'd6349f4e8bc50521dbe359589ec6adff43d06e2d', 'status': [{'deviceId': 127934850170, 'uid': 1, 'value': 0}, {'deviceId': 127934850170, 'uid': 10, 'value': 32768}, {'deviceId': 127934850170, 'uid': 14, 'value': 0}, {'deviceId': 127934850170, 'uid': 15, 'value': 0}, {'deviceId': 127934850170, 'uid': 34, 'value': 0}, {'deviceId': 127934850170, 'uid': 37, 'value': 210}, {'deviceId': 127934850170, 'uid': 38, 'value': 200}, {'deviceId': 127934850170, 'uid': 39, 'value': 210}, {'deviceId': 127934850170, 'uid': 42, 'value': 0}, {'deviceId': 127934850170, 'uid': 43, 'value': 32768}, {'deviceId': 127934850170, 'uid': 44, 'value': 32768}, {'deviceId': 127934850170, 'uid': 45, 'value': 32768}, {'deviceId': 127934850170, 'uid': 46, 'value': 0}, {'deviceId': 127934850170, 'uid': 48, 'value': 50}, {'deviceId': 127934850170, 'uid': 49, 'value': 50}, {'deviceId': 127934850170, 'uid': 50, 'value': 50}, {'deviceId': 127934850170, 'uid': 51, 'value': 50}, {'deviceId': 127934850170, 'uid': 52, 'value': 100}, {'deviceId': 127934850170, 'uid': 53, 'value': 100}, {'deviceId': 127934850170, 'uid': 54, 'value': 0}, {'deviceId': 127934850170, 'uid': 55, 'value': 0}, {'deviceId': 127934850170, 'uid': 56, 'value': 100}, {'deviceId': 127934850170, 'uid': 57, 'value': 32768}, {'deviceId': 127934850170, 'uid': 58, 'value': 1}, {'deviceId': 127934850170, 'uid': 65, 'value': 2}, {'deviceId': 127934850170, 'uid': 66, 'value': 1}, {'deviceId': 127934850170, 'uid': 69, 'value': 3047728}, {'deviceId': 127934850170, 'uid': 75, 'value': 49}, {'deviceId': 127934850170, 'uid': 80, 'value': 0}, {'deviceId': 127934850170, 'uid': 81, 'value': 1168892}, {'deviceId': 127934850170, 'uid': 82, 'value': 1878836}, {'deviceId': 127934850170, 'uid': 83, 'value': 460}, {'deviceId': 127934850170, 'uid': 84, 'value': 240}, {'deviceId': 127934850170, 'uid': 85, 'value': 32768}, {'deviceId': 127934850170, 'uid': 86, 'value': 32768}, {'deviceId': 127934850170, 'uid': 87, 'value': 65526}, {'deviceId': 127934850170, 'uid': 88, 'value': 94}, {'deviceId': 127934850170, 'uid': 89, 'value': 6}, {'deviceId': 127934850170, 'uid': 90, 'value': 460}, {'deviceId': 127934850170, 'uid': 91, 'value': 150}, {'deviceId': 127934850170, 'uid': 92, 'value': 100}, {'deviceId': 127934850170, 'uid': 93, 'value': 1}, {'deviceId': 127934850170, 'uid': 94, 'value': 32768}, {'deviceId': 127934850170, 'uid': 95, 'value': 32768}, {'deviceId': 127934850170, 'uid': 96, 'value': 32768}, {'deviceId': 127934850170, 'uid': 97, 'value': 0}, {'deviceId': 127934850170, 'uid': 98, 'value': 32768}, {'deviceId': 127934850170, 'uid': 99, 'value': 32768}, {'deviceId': 127934850170, 'uid': 100, 'value': 0}, {'deviceId': 127934850170, 'uid': 101, 'value': 0}, {'deviceId': 127934850170, 'uid': 102, 'value': 0}, {'deviceId': 127934850170, 'uid': 103, 'value': 0}, {'deviceId': 127934850170, 'uid': 104, 'value': 0}, {'deviceId': 127934850170, 'uid': 105, 'value': 0}, {'deviceId': 127934850170, 'uid': 107, 'value': 1793}, {'deviceId': 127934850170, 'uid': 108, 'value': 32768}, {'deviceId': 127934850170, 'uid': 109, 'value': 0}, {'deviceId': 127934850170, 'uid': 110, 'value': 0}, {'deviceId': 127934850170, 'uid': 111, 'value': 0}, {'deviceId': 127934850170, 'uid': 112, 'value': 0}, {'deviceId': 127934850170, 'uid': 113, 'value': 0}, {'deviceId': 127934850170, 'uid': 114, 'value': 0}, {'deviceId': 127934850170, 'uid': 115, 'value': 0}, {'deviceId': 127934850170, 'uid': 116, 'value': 250}, {'deviceId': 127934850170, 'uid': 117, 'value': 0}, {'deviceId': 127934850170, 'uid': 118, 'value': 3}, {'deviceId': 127934850170, 'uid': 119, 'value': 0}, {'deviceId': 127934850170, 'uid': 120, 'value': 0}, {'deviceId': 127934850170, 'uid': 121, 'value': 0}, {'deviceId': 127934850170, 'uid': 122, 'value': 0}, {'deviceId': 127934850170, 'uid': 123, 'value': 85}, {'deviceId': 127934850170, 'uid': 124, 'value': 85}, {'deviceId': 127934850170, 'uid': 125, 'value': 32768}, {'deviceId': 127934850170, 'uid': 126, 'value': 32768}, {'deviceId': 127934850170, 'uid': 127, 'value': 32768}, {'deviceId': 127934850170, 'uid': 128, 'value': 32768}, {'deviceId': 127934850170, 'uid': 129, 'value': 32768}, {'deviceId': 127934850170, 'uid': 130, 'value': 170}, {'deviceId': 127934850170, 'uid': 131, 'value': 32768}, {'deviceId': 127934850170, 'uid': 132, 'value': 170}, {'deviceId': 127934850170, 'uid': 133, 'value': 85}, {'deviceId': 127934850170, 'uid': 134, 'value': 0}, {'deviceId': 127934850170, 'uid': 135, 'value': 150}, {'deviceId': 127934850170, 'uid': 136, 'value': 550}, {'deviceId': 127934850170, 'uid': 142, 'value': 1}, {'deviceId': 127934850170, 'uid': 144, 'value': 156}, {'deviceId': 127934850170, 'uid': 181, 'value': 0}, {'deviceId': 127934850170, 'uid': 182, 'value': 0}, {'deviceId': 127934850170, 'uid': 183, 'value': 0}, {'deviceId': 127934850170, 'uid': 184, 'value': 0}, {'deviceId': 127934850170, 'uid': 185, 'value': 0}, {'deviceId': 127934850170, 'uid': 186, 'value': 0}, {'deviceId': 127934850170, 'uid': 187, 'value': 0}, {'deviceId': 127934850170, 'uid': 188, 'value': 0}, {'deviceId': 127934850170, 'uid': 189, 'value': 0}, {'deviceId': 127934850170, 'uid': 190, 'value': 0}, {'deviceId': 127934850170, 'uid': 50000, 'value': 1}, {'deviceId': 127934850170, 'uid': 50001, 'value': 0}, {'deviceId': 127934850170, 'uid': 50002, 'value': 0}, {'deviceId': 127934850170, 'uid': 50008, 'value': 1}, {'deviceId': 127934850170, 'uid': 50010, 'value': 4}, {'deviceId': 127934850170, 'uid': 60002, 'value': 210}]}}
2020-06-05 07:57:01 DEBUG (MainThread) [pyintesishome] Server: 212.36.84.207:5220, Token: 249266610
2020-06-05 07:57:01 DEBUG (MainThread) [pyintesishome] {'127934850170': {'name': 'FOIS HOME NEW', 'widgets': [16, 3, 18, 27, 25, 23, 46], 'model': 309}}
2020-06-05 07:57:01 ERROR (MainThread) [homeassistant.components.climate] Error while setting up intesishome platform for climate
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 178, in _async_setup_platform
    await asyncio.wait_for(asyncio.shield(task), SLOW_SETUP_MAX_WAIT)
  File ""/usr/local/lib/python3.7/asyncio/tasks.py"", line 442, in wait_for
    return fut.result()
  File ""/usr/src/homeassistant/homeassistant/components/intesishome/climate.py"", line 119, in async_setup_platform
    for ih_device_id, device in ih_devices.items()
  File ""/usr/src/homeassistant/homeassistant/components/intesishome/climate.py"", line 119, in <listcomp>
    for ih_device_id, device in ih_devices.items()
  File ""/usr/src/homeassistant/homeassistant/components/intesishome/climate.py"", line 188, in __init__
    modes = controller.get_mode_list(ih_device_id)
  File ""/usr/local/lib/python3.7/site-packages/pyintesishome/pyintesishome.py"", line 647, in get_mode_list
    if config_mode_map & mode_bit:
TypeError: unsupported operand type(s) for &: 'NoneType' and 'int'


```

## Additional information
This is the state of the entity:
```
Entity
climate.fois_home_new
 
State
unavailable
State attributes (YAML, optional)

1 restored: true
2 hvac_modes:
3   - heat
4   - cool
5   - heat_cool
6   - 'off'
7 max_temp: null
8 min_temp: null
9 preset_modes:
10   - eco
11   - comfort
12   - boost
13 target_temp_step: 1
14 supported_features: 16
15 friendly_name: FOIS HOME NEW
16 icon: 'mdi:white-balance-sunny'
17 ​```
"
36471,Hyperion integration needs to be updated / not working correctly,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The Hyperion integration is currently not working correctly, it has effects that are currently not supported by Hyperion and is also missing some of the newer ones added. 

Also the switch on and off does not work correctly, it will toggle on and off with out making any changes to the light itself. You can call light.turn_off and light.turn_on in automations as well as effects in automation's but the switch and effects in the light card do not work correctly. 

I think the integration is using the now depreciated Hyperion API located here: https://github.com/hyperion-project/hyperion 
and should be updated to match the new version Hyperion.ng located here: https://github.com/hyperion-project/hyperion.ng

you can find the new API documented here: 
https://docs.hyperion-project.org/en/json/

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.4
- Last working Home Assistant Core release (if known): 
Not sure I have only used the newer hyperion.ng

- Operating environment (Home Assistant/Supervised/Docker/venv): Docker
- Integration causing this issue: Hyperion
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/hyperion/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
  - platform: hyperion
    host: 192.168.1.21
    name: Hyperion
    hdmi_priority: 240
    default_color: 
      - 000
      - 000
      - 000

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
none
```

## Additional information

Hyperion integration needs to be updated to use newer API it currently doesnt work and is built for a depreciated version."
36466,MyQ Broken yet again,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
MyQ shows unavailable again, cannot setup integration

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.4
- Last working Home Assistant Core release (if known): 0.110.4
- Operating environment (Home Assistant/Supervised/Docker/venv): HA
- Integration causing this issue: MyQ
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
Config FLow
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-06-04 20:56:39 WARNING (MainThread) [pymyq.api] Device update failed; trying again in 1 seconds
2020-06-04 20:56:40 WARNING (MainThread) [pymyq.api] Device update failed; trying again in 5 seconds
2020-06-04 20:56:45 ERROR (MainThread) [homeassistant.components.myq.config_flow] Unexpected exception
  File ""/usr/src/homeassistant/homeassistant/components/myq/config_flow.py"", line 50, in async_step_user
  File ""/usr/src/homeassistant/homeassistant/components/myq/config_flow.py"", line 30, in validate_input
    await pymyq.login(data[CONF_USERNAME], data[CONF_PASSWORD], websession)
  File ""/usr/local/lib/python3.7/site-packages/pymyq/api.py"", line 170, in login
  File ""/usr/local/lib/python3.7/site-packages/pymyq/api.py"", line 119, in authenticate
config $

```

## Additional information

"
36440,WLED 0.10 on/off state & brightness incorrect,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

When using WLED 0.10, the brightness value and the on/off state of a LED segment is incorrectly displayed in Home Assistant.

In these cases, the state brightness and on/off state of the strip as a whole is shown instead of the individual segments.

Changing states, does control the individual segment, after the data coordinator pulled in the current state, it is incorrectly displayed again.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.0b0
- Last working Home Assistant Core release (if known): new feature
- Operating environment (Home Assistant/Supervised/Docker/venv): Any
- Integration causing this issue: WLED
- Link to integration documentation on our website: https://www.home-assistant.io/integration/wled

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information
"
36435,Error add Daikin AC in integration page,"## The problem
Can´t add Daikin AC from integration page

Error code in integration page: Unexpected error
Get error in log.

## Environment
Docker, Home Assistant Core on Docker
python version 3.7.7
HASS core version 0.110.4

- Home Assistant Core release with the issue: 0.110.4
- Last working Home Assistant Core release (if known): 0.0x ?
- Integration causing this issue: Daikin AC
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/daikin/


AC wifi model: BRP069A41

## Traceback/Error logs

```
Traceback (most recent call last):  File ""/usr/src/homeassistant/homeassistant/components/daikin/config_flow.py"", line 77, in _create_device
    password=password,
  File ""/usr/local/lib/python3.7/site-packages/pydaikin/daikin_base.py"", line 78, in factory
    await appl.init()
  File ""/usr/local/lipb/python3.7/site-packages/pydaikin/daikin_brp069.py"", line 88, in init
    await self.update_status(self.HTTP_RESOURCES[1:])
  File ""/usr/local/lib/python3.7/site-packages/pydaikin/daikin_base.py"", line 170, in update_status
    self._register_energy_consumption_history()
  File ""/usr/local/lib/python3.7/site-packages/pydaikin/daikin_base.py"", line 179, in _register_energy_consumption_history
    self.today_energy_consumption(mode=mode),
  File ""/usr/local/lib/python3.7/site-packages/pydaikin/daikin_base.py"", line 350, in today_energy_consumption
    return sum(self._energy_consumption('curr_day_cool')) / 10
TypeError: 'NoneType' object is not iterable

```

## Additional information

"
36425,0.111.0b0 Daikin AC Entities Missing,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Updated to the beta and the entities for my Daikin AC (climate and the inside/outside temp sensors) were missing. Removed the integration, restarted and it was discovered again. Readded but no entities are created again.

![image](https://user-images.githubusercontent.com/24840952/83700294-96bacc00-a645-11ea-8fa9-68fcfa2a8f59.png)

My AC is one of the earlier http ones that don't use an API key or password.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.0b0
- Last working Home Assistant Core release (if known): 0.110.4
- Operating environment (Home Assistant/Supervised/Docker/venv): venv
- Integration causing this issue: Daikin
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
N/A
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-06-04 09:25:17 ERROR (MainThread) [homeassistant.components.sensor] Error while setting up daikin platform for sensor
Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/helpers/entity_platform.py"", line 186, in _async_setup_platform
    await asyncio.gather(*pending)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/helpers/entity_platform.py"", line 292, in async_add_entities
    await asyncio.gather(*tasks)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/helpers/entity_platform.py"", line 359, in _async_add_entity
    device = device_registry.async_get_or_create(**processed_dev_info)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/helpers/device_registry.py"", line 196, in async_get_or_create
    entry_type=entry_type,
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/helpers/device_registry.py"", line 279, in _async_update_device
    if value is not _UNDEF and not value.issubset(old_value):
AttributeError: 'str' object has no attribute 'issubset'
2020-06-04 09:25:18 ERROR (MainThread) [homeassistant.components.climate] Error while setting up daikin platform for climate
Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/helpers/entity_platform.py"", line 186, in _async_setup_platform
    await asyncio.gather(*pending)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/helpers/entity_platform.py"", line 292, in async_add_entities
    await asyncio.gather(*tasks)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/helpers/entity_platform.py"", line 359, in _async_add_entity
    device = device_registry.async_get_or_create(**processed_dev_info)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/helpers/device_registry.py"", line 196, in async_get_or_create
    entry_type=entry_type,
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/helpers/device_registry.py"", line 279, in _async_update_device
    if value is not _UNDEF and not value.issubset(old_value):
AttributeError: 'str' object has no attribute 'issubset'
```

## Additional information

"
36423,0.111.0b0 Sonarr Sensors Missing,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Upgrading to 0.111.0b0 Sonarr moved to be configured via the UI, seems to no longer provide existing sensors. I only get an upcoming sensor. Previously had:
```
- platform: sonarr
  api_key: !secret sonarr_api_key
  host: !secret sonarr_host
  monitored_conditions:
    - series
    - upcoming
    - queue
    - diskspace
  days: 3
  urlbase: /sonarr
  include_paths:
    - M:\
```

So missing series count, queue count and diskspace. Mostly care about the queue count.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.111.0b0
- Last working Home Assistant Core release (if known): 0.110.4
- Operating environment (Home Assistant/Supervised/Docker/venv): venv
- Integration causing this issue: Sonarr
- Link to integration documentation on our website: https://rc.home-assistant.io/integrations/sonarr/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
N/A
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
N/A
```

## Additional information

"
36422,Netatmo integration error,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
When I try to integrate netatmo, after callback I have a retry and then error 500,
After checking my log I have ""aiohttp.client_exceptions.ClientResponseError: 400, message='', url='https://api.netatmo.com/oauth2/token""

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue:   0.111.0b0
- Last working Home Assistant Core release (if known): I dunno
- Operating environment (Home Assistant/Supervised/Docker/venv):  Docker with external_url defined
- Integration causing this issue: Netatmo
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/netatmo/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
netatmo:
  client_id: !secret netatmo_client_id
  client_secret: !secret netatmo_client_id
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
ERROR (MainThread) [aiohttp.server] Error handling request
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/real_ip.py"", line 39, in real_ip_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/ban.py"", line 73, in ban_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 129, in handle
    result = await result
  File ""/usr/src/homeassistant/homeassistant/components/config/config_entries.py"", line 136, in get
    return await super().get(request, flow_id)
  File ""/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py"", line 92, in get
    result = await self._flow_mgr.async_configure(flow_id)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 153, in async_configure
    result = await self._async_handle_step(flow, cur_step[""step_id""], user_input)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/helpers/config_entry_oauth2_flow.py"", line 248, in async_step_creation
    token = await self.flow_impl.async_resolve_external_data(self.external_data)
  File ""/usr/src/homeassistant/homeassistant/helpers/config_entry_oauth2_flow.py"", line 142, in async_resolve_external_data
    ""redirect_uri"": self.redirect_uri,
  File ""/usr/src/homeassistant/homeassistant/helpers/config_entry_oauth2_flow.py"", line 167, in _token_request
    resp.raise_for_status()
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/client_reqrep.py"", line 946, in raise_for_status
    headers=self.headers)
aiohttp.client_exceptions.ClientResponseError: 400, message='', url='https://api.netatmo.com/oauth2/token
```

## Additional information

"
36372,Watson_tts supported languages list is not up-to-date,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
When trying to use the ""nl-NL_EmmaVoice"" voice from watson_tts I get an error that the value is not allowed


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: Home Assistant 0.110.4
- Last working Home Assistant Core release (if known): n.a.
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant
- Integration causing this issue: watson_tts
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/watson_tts/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
tts:
  - platform: watson_tts
    watson_apikey: !secret ibm_cloud_api_key
    watson_url: !secret ibm_cloud_api_url
    voice: nl-NL_EmmaVoice
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
➜  /config git:(master) ✗ ha core check  
Processing... Done.

Error: Testing configuration at /config
Failed config
  tts.watson_tts: 
    - Invalid config for [tts.watson_tts]: value is not allowed for dictionary value @ data['voice']. Got 'nl-NL_EmmaVoice'. (See ?, line ?). 
    - platform: watson_tts
      cache: True
      cache_dir: tts
      time_memory: 300
      voice: nl-NL_EmmaVoice
      watson_apikey: xxx
      watson_url: xxx
Successful config (partial)
  tts.watson_tts:
```

## Additional information
Apparently the language keys have been changed at IBM Watson TTS (see [current list of supported languages](https://cloud.ibm.com/docs/text-to-speech?topic=text-to-speech-voices#languageVoices)). 
In tts.py there are languages missing, and V2 languages present.  
The V2 languages have been removed and new V3 languages have been added.
Line 23-66 in core/homeassistant/components/watson_tts/tts.py  should be changed to the following to :
```python
# List from https://tinyurl.com/watson-tts-docs
SUPPORTED_VOICES = [
    ""ar-AR_OmarVoice"",
    ""de-DE_BirgitV3Voice"",
    ""de-DE_BirgitVoice"",
    ""de-DE_DieterV3Voice"",
    ""de-DE_DieterVoice"",
    ""de-DE_ErikaV3Voice"",
    ""en-GB_KateV3Voice"",
    ""en-GB_KateVoice"",
    ""en-US_AllisonV3Voice"",
    ""en-US_AllisonVoice"",
    ""en-US_EmilyV3Voice"",
    ""en-US_HenryV3Voice"",
    ""en-US_KevinV3Voice"",
    ""en-US_LisaV3Voice"",
    ""en-US_LisaVoice"",
    ""en-US_MichaelV3Voice"",
    ""en-US_MichaelVoice"",
    ""en-US_OliviaV3Voice"",
    ""es-ES_EnriqueV3Voice"",
    ""es-ES_EnriqueVoice"",
    ""es-ES_LauraV3Voice"",
    ""es-ES_LauraVoice"",
    ""es-LA_SofiaV3Voice"",
    ""es-LA_SofiaVoice"",
    ""es-US_SofiaV3Voice"",
    ""es-US_SofiaVoice"",
    ""fr-FR_ReneeV3Voice"",
    ""fr-FR_ReneeVoice"",
    ""it-IT_FrancescaV3Voice"",
    ""it-IT_FrancescaVoice"",
    ""ja-JP_EmiV3Voice"",
    ""ja-JP_EmiVoice"",
    ""ko-KR_YoungmiVoice"",
    ""ko-KR_YunaVoice"",
    ""nl-NL_EmmaVoice"",
    ""nl-NL_LiamVoice"",
    ""pt-BR_IsabelaV3Voice"",
    ""pt-BR_IsabelaVoice"",
    ""zh-CN_LiNaVoice"",
    ""zh-CN_WangWeiVoice"",
    ""zh-CN_ZhangJingVoice"",
]
```
Which is the current available languages list for Watson TTS."
36338,Problems with fitbit integration authorization,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem

Problems with fitbit integration authorisation
My FitBit Integration was working until yesterday, 20/05/20 and this was prior to the Home Assistant 0.110.0 update but I did update NGINX, not sure if that was the cause but I suddenly lost all my sensors.

I am now trying to re authorise but coming up with

![image](https://user-images.githubusercontent.com/60036872/83395412-21a38880-a3f2-11ea-9eda-8984dcc0d10b.png)

No matter what combination of yaml i cannot change this from my local I.P. address.

also even though I have DuckDNS and NGINX running I still get the callback

![image](https://user-images.githubusercontent.com/60036872/83395478-48fa5580-a3f2-11ea-8b12-ec16b55cb22e.png)

I have tried including 
```
  external_url: https://redacted.duckdns.org
  internal_url: http://192.168.0.63:8123
  ```
commenting out the old config
```



#http:
#  base_url: !secret base_url
#  ssl_certificate: /ssl/fullchain.pem
#  ssl_key: /ssl/privkey.pem
#  ip_ban_enabled: true
#  login_attempts_threshold: 10
```

I tried putting my base url back in but still the same

I re entered my credentials https://dev.fitbit.com/apps and updated my fitbit.conf

I also tried changing the fitbit url callback

https://www.fitbit.com/oauth2/authorize?response_type=code&client_id=22BFPK&redirect_uri=**http://192.168.0.63:8123**/api/fitbit/callback&scope=activity+heartrate+nutrition+profile+settings+sleep+weight&state=XSqzPjzwUOne0qgquTHXlW2LeoY1gu

to  
![image](https://user-images.githubusercontent.com/60036872/83396449-e7d38180-a3f3-11ea-8ffd-40e76cc8787f.png)


Any suggestions to what I am doing wrong or is there a problem with FitBit site?


## Environment

arch | armv7l
-- | --
chassis | embedded
dev | false
docker | true
hassio | true
host_os | HassOS 3.13
installation_type | Home Assistant
os_name | Linux
os_version | 4.19.114-v7l
python_version | 3.7.7
supervisor | 225
timezone | Europe/London
version | 0.110.4
virtualenv | false


## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
36320,"Since 0.110, it is no longer possible to set the area of each Daikin integration","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Since 0.110 and introduction of grouping of Integrations, it is no longer possible to set the area of each Daikin integration.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110
- Last working Home Assistant Core release (if known): 0.109
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant
- Integration causing this issue: Daikin
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/daikin/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
36315,OZW does not support cover platform,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The new OZW integration (beta) does not provide zwave cover entities. 

When I migrated from the legacy zwave integration to the new beta integration (I like it!), I ran into the issue that cover entities are not yet supported.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.4
- Last working Home Assistant Core release (if known): n/a
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker (but unrelated)
- Integration causing this issue: OZW
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/ozw/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
N/a, because set-up through integration
```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
N/a
```

## Additional information
This integration is in beta state, so it is expected to miss functionality. It took me a while to discover that the `cover` plaftorm was one of the missing domains in the official integration, even though the custom component seems to support it (this tricked me).

Opening this issue so others know this domain is still missing and so we can track work done towards this issue.
"
36314,"[OwnTracks] can't integrate, no initial setup is shown","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

After adding a new integration via web interface for OwnTracks, there are no initial setup information.
Small blank popup appears.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

`

arch | armv7l
-- | --
dev | false
docker | false
hassio | false
installation_type | Home Assistant Core in a Python Virtual Environment
os_name | Linux
os_version | 4.19.97-v7+
python_version | 3.7.3
timezone | Europe/Warsaw
version | 0.110.4
virtualenv | true


`

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Uncaught (in promise) SyntaxError: Expected ""#"", ""'"", ""\n"", ""{"", argumentElement, double apostrophes, end of input, or tagElement but ""<"" found.
    at Pt (typography.js:181)
    at _ (typography.js:181)
    at Function.E [as __parse] (typography.js:181)
    at new e (typography.js:181)
    at typography.js:181
    at G (typography.js:181)
    at Object.renderCreateEntryDescription (show-dialog-config-flow.ts:130)
    at HTMLElement.value (step-flow-create-entry.ts:45)
    at HTMLElement.update (bootstrap:2)
    at HTMLElement.performUpdate (bootstrap:2)
```

## Additional information
https://imgur.com/a/YhzlZsU
"
36312,Forked-daapd port reading,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Looks like there is a problem with reading port number. It might be related to downloading art cover.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->
`

arch | armv7l
-- | --
dev | false
docker | false
hassio | false
installation_type | Home Assistant Core in a Python Virtual Environment
os_name | Linux
os_version | 4.19.97-v7+
python_version | 3.7.3
timezone | Europe/Warsaw
version | 0.110.4
virtualenv | true

`

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
configured with web integration
```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Logger: aiohttp.server
Source: components/media_player/__init__.py:837
First occurred: 13:26:36 (1 occurrences)
Last logged: 13:26:36

Error handling request
Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.7/site-packages/yarl/__init__.py"", line 161, in __new__
    port = val.port
  File ""/usr/lib/python3.7/urllib/parse.py"", line 169, in port
    port = int(port, 10)
ValueError: invalid literal for int() with base 10: '3689http:'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.7/site-packages/aiohttp/client.py"", line 380, in _request
    url = URL(str_or_url)
  File ""/srv/homeassistant/lib/python3.7/site-packages/yarl/__init__.py"", line 165, in __new__
    ) from e
ValueError: Invalid URL: port can't be converted to integer

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/srv/homeassistant/lib/python3.7/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/srv/homeassistant/lib/python3.7/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/srv/homeassistant/lib/python3.7/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/http/real_ip.py"", line 39, in real_ip_middleware
    return await handler(request)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/http/ban.py"", line 73, in ban_middleware
    return await handler(request)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/http/view.py"", line 125, in handle
    result = await result
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/media_player/__init__.py"", line 881, in get
    data, content_type = await player.async_get_media_image()
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/media_player/__init__.py"", line 424, in async_get_media_image
    return await _async_fetch_image(self.hass, url)
  File ""/srv/homeassistant/lib/python3.7/site-packages/homeassistant/components/media_player/__init__.py"", line 837, in _async_fetch_image
    response = await websession.get(url)
  File ""/srv/homeassistant/lib/python3.7/site-packages/aiohttp/client.py"", line 382, in _request
    raise InvalidURL(str_or_url)
aiohttp.client_exceptions.InvalidURL: http://192.168.0.60:3689http://img.radioparadise.com/covers/l/B000002U40.jpg
Connection lost. Reconnecting…

```

## Additional information

"
36279,MQTT autodiscovered device_id change breaks automations,"
## The problem
Tasmota devices using MQTT autodiscovery can be used in automations with the new device triggers. Since those triggers work on device_id an issue arises when the device is deleted from HA or the autodiscovery configuration is deleted then resent. In both cases HA will generate a new device_id making all previous device triggers invalid and breaking automations.

This makes MQTT autodiscovery either: 
- a setup once and use it and pray you won't have to rediscover it
- not be able to use device triggers reliably and only use the old entity_id way

Since a device sends its identifiers in the autodiscovery payload wouldn't it be possible to use those to identify the device as an existing one and restore its device_id thus preserving all device trigger automation entries?

## Environment
Home Assistant 0.110.3

- Home Assistant Core release with the issue: 0.110.3
- Last working Home Assistant Core release (if known): 0.110.3 
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker 
- Integration causing this issue: MQTT
- Link to integration documentation on our website: https://www.home-assistant.io/docs/mqtt/discovery/ 

## Problem-relevant `configuration.yaml`

```yaml
does not apply
```

## Traceback/Error logs
```txt
not applicable
```

## Additional information

"
36325,timeout turning off roku stick,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Exception trying to ""turn off"" a Roku stick device, get the timeout/stack trace below.  This worked on prior releases, and now the exception prevents automation scripts from completing.  FWIW, the device does turn off, it just also throws this error.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.4
- Last working Home Assistant Core release (if known): 0.109 (I think)
- Operating environment (Home Assistant/Supervised/Docker/venv): docker
- Integration causing this issue: Roku
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/roku/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Timeout occurred while connecting to device
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/rokuecp/rokuecp.py"", line 72, in _request
    method, url, data=data, params=params, headers=headers,
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/client.py"", line 504, in _request
    await resp.start(conn)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/client_reqrep.py"", line 847, in start
    message, payload = await self._protocol.read()  # type: ignore  # noqa
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/streams.py"", line 591, in read
    await self._waiter
concurrent.futures._base.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/rokuecp/rokuecp.py"", line 72, in _request
    method, url, data=data, params=params, headers=headers,
  File ""/usr/local/lib/python3.7/site-packages/async_timeout/__init__.py"", line 45, in __exit__
    self._do_exit(exc_type)
  File ""/usr/local/lib/python3.7/site-packages/async_timeout/__init__.py"", line 92, in _do_exit
    raise asyncio.TimeoutError
concurrent.futures._base.TimeoutError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/websocket_api/commands.py"", line 130, in handle_call_service
    connection.context(msg),
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1253, in async_call
    task.result()
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1288, in _execute_service
    await handler.func(service_call)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_component.py"", line 213, in handle_service
    self._platforms.values(), func, call, required_features
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 454, in entity_service_call
    future.result()  # pop exception if have
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 597, in async_request_call
    await coro
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 485, in _handle_entity_call
    await result
  File ""/usr/src/homeassistant/homeassistant/components/roku/media_player.py"", line 170, in async_turn_off
    await self.coordinator.roku.remote(""poweroff"")
  File ""/usr/local/lib/python3.7/site-packages/rokuecp/rokuecp.py"", line 203, in remote
    await self._request(f""keypress/{VALID_REMOTE_KEYS[key_lower]}"", method=""POST"")
  File ""/usr/local/lib/python3.7/site-packages/rokuecp/rokuecp.py"", line 77, in _request
    ) from exception
rokuecp.exceptions.RokuConnectionError: Timeout occurred while connecting to device
Failed to call service media_player/turn_off. Timeout occurred while connecting to device

```

## Additional information

Device is 
"
36245,OpenWeatherMap shows daily morning weather,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

When using the integration with the `freedaily` mode, the Weather card shows the **morning** weather at 8:00, instead of the **day** weather. For example, the temperatures are always much too low compared to other weather integrations.

**Dark Sky**
<img width=""393"" alt=""Schermafbeelding 2020-05-29 om 07 05 11"" src=""https://user-images.githubusercontent.com/559346/83223467-2ca0b380-a17b-11ea-8469-e7f7104ad2fc.png"">

**OpenWeatherMap**
<img width=""395"" alt=""Schermafbeelding 2020-05-29 om 07 05 22"" src=""https://user-images.githubusercontent.com/559346/83223435-198de380-a17b-11ea-98b6-e2b6f2c79507.png"">

OpenWeatherMap (attributes)
<img width=""390"" alt=""Schermafbeelding 2020-05-29 om 07 06 40"" src=""https://user-images.githubusercontent.com/559346/83223401-08dd6d80-a17b-11ea-9423-781612dcbb6f.png"">

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.3
- Last working Home Assistant Core release (if known): ?
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant
- Integration causing this issue: OpenWeatherMap
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/openweathermap/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
weather:
  - platform: openweathermap
    api_key: !secret openweathermap_api_key
    mode: freedaily
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

The One Call API has daily forecasts for multiple times of the day:
https://openweathermap.org/api/one-call-api

I think the integration currently uses the `daily.temp.morn` but should use `daily.temp.day`. I haven't been able to find this in the integration code, so it might as well be a bug in the OWM library.

https://github.com/home-assistant/core/blob/fbe7b4ddfa813e300f99175d254ec509c8d65e33/homeassistant/components/openweathermap/weather.py#L5

<img width=""662"" alt=""Schermafbeelding 2020-05-29 om 07 13 29"" src=""https://user-images.githubusercontent.com/559346/83223723-ed269700-a17b-11ea-9015-1caf156eb453.png"">


"
36195,PowerView Covers not working consistently,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I recently switched from using [this](https://github.com/safepay/cover.hd_powerview) custom component and noticed that now my PowerView covers don't work consistently. Opening, closing or even setting positions doesn't always work. If I target multiple covers, some will respond, others won't. Home Assistant believes the cover is opened, closed or at the correct position, but that isn't reflected in the PowerView app.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 110.2
- Last working Home Assistant Core release (if known): unknown
- Operating environment (Home Assistant/Supervised/Docker/venv): Supervised (Hass.io)
- Integration causing this issue: Hunter Douglas PowerView
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/hunterdouglas_powerview/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
Using Configflow.
```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Logger: homeassistant.components.hunterdouglas_powerview
Source: helpers/update_coordinator.py:140
Integration: Hunter Douglas PowerView (documentation, issues)
First occurred: 12:22:58 AM (1 occurrences)
Last logged: 12:22:58 AM

Timeout fetching powerview hub data


Logger: homeassistant.components.hunterdouglas_powerview
Source: components/hunterdouglas_powerview/__init__.py:131
Integration: Hunter Douglas PowerView (documentation, issues)
First occurred: May 25, 2020, 12:12:42 AM (2 occurrences)
Last logged: May 26, 2020, 12:11:48 AM

Unexpected error fetching powerview hub data:
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/connector.py"", line 936, in _wrap_create_connection
    return await self._loop.create_connection(*args, **kwargs)  # type: ignore  # noqa
  File ""/usr/local/lib/python3.7/asyncio/base_events.py"", line 962, in create_connection
    raise exceptions[0]
  File ""/usr/local/lib/python3.7/asyncio/base_events.py"", line 949, in create_connection
    await self.sock_connect(sock, address)
  File ""/usr/local/lib/python3.7/asyncio/selector_events.py"", line 473, in sock_connect
    return await fut
  File ""/usr/local/lib/python3.7/asyncio/selector_events.py"", line 503, in _sock_connect_cb
    raise OSError(err, f'Connect call failed {address}')
ConnectionRefusedError: [Errno 111] Connect call failed ('[HUB IP ADDRESS]', 80)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/aiopvapi/helpers/aiorequest.py"", line 66, in get
    response = await self.websession.get(url, params=params)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/client.py"", line 483, in _request
    timeout=real_timeout
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/connector.py"", line 523, in connect
    proto = await self._create_connection(req, traces, timeout)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/connector.py"", line 859, in _create_connection
    req, traces, timeout)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/connector.py"", line 1004, in _create_direct_connection
    raise last_exc
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/connector.py"", line 986, in _create_direct_connection
    req=req, client_error=client_error)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/connector.py"", line 943, in _wrap_create_connection
    raise client_error(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host [HUB IP ADDRESS]:80 ssl:None [Connect call failed ('[HUB IP ADDRESS]', 80)]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py"", line 136, in async_refresh
    self.data = await self._async_update_data()
  File ""/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py"", line 124, in _async_update_data
    return await self.update_method()
  File ""/usr/src/homeassistant/homeassistant/components/hunterdouglas_powerview/__init__.py"", line 131, in async_update_data
    shade_entries = await shades.get_resources()
  File ""/usr/local/lib/python3.7/site-packages/aiopvapi/helpers/api_base.py"", line 91, in get_resources
    resources = await self.request.get(self._base_path, **kwargs)
  File ""/usr/local/lib/python3.7/site-packages/aiopvapi/helpers/aiorequest.py"", line 70, in get
    raise PvApiConnectionError
aiopvapi.helpers.aiorequest.PvApiConnectionError

Logger: aiopvapi.helpers.aiorequest
Source: __main__.py:356
First occurred: May 25, 2020, 12:12:42 AM (2 occurrences)
Last logged: May 26, 2020, 12:11:48 AM

Failed to communicate with PowerView hub: Cannot connect to host [HUB IP ADDRESS]:80 ssl:None [Connect call failed ('[HUB IP ADDRESS]', 80)]

Logger: homeassistant.components.hunterdouglas_powerview
Source: components/hunterdouglas_powerview/__init__.py:131
Integration: Hunter Douglas PowerView (documentation, issues)
First occurred: May 25, 2020, 12:11:42 AM (1 occurrences)
Last logged: May 25, 2020, 12:11:42 AM

Unexpected error fetching powerview hub data: 423
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py"", line 136, in async_refresh
    self.data = await self._async_update_data()
  File ""/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py"", line 124, in _async_update_data
    return await self.update_method()
  File ""/usr/src/homeassistant/homeassistant/components/hunterdouglas_powerview/__init__.py"", line 131, in async_update_data
    shade_entries = await shades.get_resources()
  File ""/usr/local/lib/python3.7/site-packages/aiopvapi/helpers/api_base.py"", line 91, in get_resources
    resources = await self.request.get(self._base_path, **kwargs)
  File ""/usr/local/lib/python3.7/site-packages/aiopvapi/helpers/aiorequest.py"", line 67, in get
    return await check_response(response, [200, 204])
  File ""/usr/local/lib/python3.7/site-packages/aiopvapi/helpers/aiorequest.py"", line 35, in check_response
    raise PvApiResponseStatusError(response.status)
aiopvapi.helpers.aiorequest.PvApiResponseStatusError: 423
```

## Additional information
"
36180,Broadlink SP2: Failed to update state: Command not supported,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Broadlink integration spams the log with ""Failed to update state: Command not supported""

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.3
- Last working Home Assistant Core release (if known): 0.109.6
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant
- Integration causing this issue: broadlink
- Link to integration documentation on our website: [broadlink](https://www.home-assistant.io/integrations/broadlink/)

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
switch:
  - platform: broadlink
    host: 192.168.XXX.XXX
    mac: 'C8:F7:42:XX:XX:XX'
    friendly_name: SwitchOne
    type: sp2
  - platform: broadlink
    host: 192.168.XXX.YYY
    mac: '34:EA:34:YY:YY:YY'
    friendly_name: SwitchTwo
    type: sp2
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-05-26 19:21:53 ERROR (MainThread) [homeassistant.components.broadlink.switch] Failed to update state: Command not supported
2020-05-26 19:22:24 ERROR (MainThread) [homeassistant.components.broadlink.switch] Failed to update state: Command not supported
2020-05-26 19:22:55 ERROR (MainThread) [homeassistant.components.broadlink.switch] Failed to update state: Command not supported
2020-05-26 19:23:26 ERROR (MainThread) [homeassistant.components.broadlink.switch] Failed to update state: Command not supported
2020-05-26 19:23:57 ERROR (MainThread) [homeassistant.components.broadlink.switch] Failed to update state: Command not supported
2020-05-26 19:24:28 ERROR (MainThread) [homeassistant.components.broadlink.switch] Failed to update state: Command not supported

```

## Additional information

I think the problem is [this line](https://github.com/home-assistant/core/blob/59c112a3f256caf8ed0e748c8df3145194e8f3ae/homeassistant/components/broadlink/switch.py#L268) in switch.py. I have multiple SP2 switches and I noticed that one of them does not report power consumption.

![image](https://user-images.githubusercontent.com/4130808/82960055-542f2a80-9f87-11ea-852f-eb4727c6ea30.png)

![image](https://user-images.githubusercontent.com/4130808/82960069-5beecf00-9f87-11ea-86eb-6187ed8fe9a3.png)

"
36150,Withings fills log with HTTP 401 errors,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
The log file is filling with HTTP 401 errors:
![image](https://user-images.githubusercontent.com/11849583/82867890-ee618500-9f2b-11ea-9d9b-64dfba600b4b.png)

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.1
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant
- Integration causing this issue: Withings
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/withings

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
withings:
  client_id: !secret withings_client_id
  client_secret: !secret withings_client_secret
  profiles:
    - Lea
    - Marion
    - Richard
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Log Details (ERROR)
Logger: homeassistant.helpers.entity
Source: components/withings/common.py:228
First occurred: May 25, 2020, 5:09:47 PM (3571 occurrences)
Last logged: 8:37:45 AM

Update for sensor.withings_sleep_heart_rate_min_bpm_lea fails
Update for sensor.withings_sleep_heart_rate_max_bpm_lea fails
Update for sensor.withings_sleep_respiratory_average_bpm_lea fails
Update for sensor.withings_sleep_respiratory_min_bpm_lea fails
Update for sensor.withings_sleep_respiratory_max_bpm_lea fails
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/withings/common.py"", line 215, in call
    result = await self._hass.async_add_executor_job(function)
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/withings/common.py"", line 250, in function
    return self._api.measure_get_meas()
  File ""/usr/local/lib/python3.7/site-packages/withings_api/__init__.py"", line 159, in measure_get_meas
    self.request(path=self.PATH_MEASURE, params=params)
  File ""/usr/local/lib/python3.7/site-packages/withings_api/__init__.py"", line 82, in request
    self._request(method=method, path=path, params=params)
  File ""/usr/local/lib/python3.7/site-packages/withings_api/common.py"", line 847, in response_body_or_raise
    raise AuthFailedException(status=status)
withings_api.common.AuthFailedException: Error code 401

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 279, in async_update_ha_state
    await self.async_device_update()
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 470, in async_device_update
    await self.async_update()
  File ""/usr/src/homeassistant/homeassistant/components/withings/sensor.py"", line 344, in async_update
    await self._data_manager.update_measures()
  File ""/usr/src/homeassistant/homeassistant/components/withings/common.py"", line 252, in update_measures
    self._measures = await self.call(function, throttle_domain=""update_measures"")
  File ""/usr/src/homeassistant/homeassistant/components/withings/common.py"", line 228, in call
    raise NotAuthenticatedError(ex)
homeassistant.components.withings.common.NotAuthenticatedError: Error code 401
```

## Additional information

"
36135,Songpal Sony ZR7 problem volume,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
I have (and always had) a problem with the songpal integration. It works well on my STR-DN1080 but on the SRS-ZR7 when I click on:
- volume up the volume level goes (and only goes) to 0.02 
- volume down it goes (and only goes) to 0.78. 
(Note that the mute button works well)

I had this problem before and it still present with Songpal integrated in the Integrations UI.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.2
- Last working Home Assistant Core release (if known):  Never
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant (hassio)
- Integration causing this issue: Songpal
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/songpal/


"
36133,Spotify component will not load new client id and secret,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
When loading the integration via the UI (after filling in the credentials in configuration.yaml) it will open the callback to my previously defined local ip. This results in ```INVALID_CLIENT: Invalid redirect URI``` and in the URL my local ip is listed, which I believe is to be expected. After creating a new application in the spotify dashboard (with my external accessible URL, proxied by traefik) and updating the credentials in the configuration.yaml, the same error will be given. However, in the URL of the browser, still the previously configured local ip is listed instead of the newly defined external ip.

This leads me to believe that Home Assistant reuses my old Spotify id and secret.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.1, 0.108.9 (updated from 0.97.2)
- Last working Home Assistant Core release (if known): 0.97.2
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant
- Integration causing this issue: Spotify
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/spotify/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
homeassistant:
  external_url: !secret external_url
  internal_url: !secret internal_url

[...]

spotify:
  client_id: !secret spotify_clientid
  client_secret: !secret spotify_clientsecret
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Could not find any relevant logs.
```

## Additional information

"
36118,Hunter Douglas Powerview - Error on selecting blind stop,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

The Hunter Douglas Powerview integration is giving the below error in the logs whenever stop is selected. The blinds also don't stop moving.
My guess is the Gen 1 Powerview Hub and blinds maybe don't support the stop command.

Thanks for the 0.10.2 update. My blinds are now found as covers and sensors. 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.10.2
- Last working Home Assistant Core release (if known): unknown
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant Core on Docker
- Integration causing this issue: Hunter Douglas Powerview
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/hunterdouglas_powerview/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-05-25 08:14:59 ERROR (MainThread) [homeassistant.components.websocket_api.http.connection.139667806611792] 400                                
Traceback (most recent call last):                                                                                                                 
  File ""/usr/src/homeassistant/homeassistant/components/websocket_api/commands.py"", line 130, in handle_call_service                               
    connection.context(msg),                                                                                                                       
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1253, in async_call                                                                    
    task.result()                                                                                                                                  
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1288, in _execute_service                                                              
    await handler.func(service_call)                                                                                                               
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_component.py"", line 213, in handle_service                                             
    self._platforms.values(), func, call, required_features                                                                                        
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 454, in entity_service_call                                                 
    future.result()  # pop exception if have                                                                                                       
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 597, in async_request_call                                                   
    await coro                                                                                                                                     
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 485, in _handle_entity_call                                                 
    await result                                                                                                                                   
  File ""/usr/src/homeassistant/homeassistant/components/hunterdouglas_powerview/cover.py"", line 167, in async_stop_cover                           
    self._async_update_from_command(await self._shade.stop())                                                                                      
  File ""/usr/local/lib/python3.7/site-packages/aiopvapi/resources/shade.py"", line 112, in stop                                                     
    return await self.request.put(self._resource_path, {""shade"": {""motion"": ""stop""}})                                                              
  File ""/usr/local/lib/python3.7/site-packages/aiopvapi/helpers/aiorequest.py"", line 104, in put                                                   
    return await check_response(response, [200, 204])                                                                                              
  File ""/usr/local/lib/python3.7/site-packages/aiopvapi/helpers/aiorequest.py"", line 35, in check_response                                         
    raise PvApiResponseStatusError(response.status)                                                                                                
aiopvapi.helpers.aiorequest.PvApiResponseStatusError: 400
```

## Additional information

"
36106,deCONZ integration does not map “ctmax”/“ctmin” in deCONZ to “max_mireds”/“min_mireds” in HA,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
With the latest version of deCONZ (2.05.76), several automations now throw errors when attempting to set the color temperature of connected lights:
```
pydeconz.errors.RequestError: /lights/9/state invalid value, 476, for parameter, ct
```

The REST API shows the following for the light in question:
```
{
    ""ctmax"": 454,
    ""ctmin"": 153,
    ""etag"": ""957e05214cb3d12ef0989dcf04ba32cf"",
    ""hascolor"": true,
    ""manufacturername"": ""Philips"",
    ""modelid"": ""LTW015"",
    ""name"": ""Sink Light"",
    ""state"": {
        ""alert"": ""none"",
        ""bri"": 254,
        ""colormode"": ""ct"",
        ""ct"": 454,
        ""on"": true,
        ""reachable"": true
    },
    ""swversion"": ""1.29.0_r21169"",
    ""type"": ""Color temperature light"",
    ""uniqueid"": ""00:17:88:01:03:de:da:19-0b""
}

```

However, the entity attributes in HA show `max_mireds` as 500, not 454:
```
min_mireds: 153
max_mireds: 500
```

Prior to deCONZ 2.05.76, values exceeding the max (or below the min) were silently mapped to the actual min/max, but with the changes in https://github.com/dresden-elektronik/deconz-rest-plugin/pull/2553 the value of “ct” (and others) is checked and rejected if it is out of bounds
 
## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.1
- Last working Home Assistant Core release (if known): 0.110.1
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker
- Integration causing this issue: deCONZ
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/deconz

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
 
N/A

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
pydeconz.errors.RequestError: /lights/9/state invalid value, 476, for parameter, ct

```

## Additional information

N/A
"
36087,Onvif integration AttributeError: 'NoneType' object has no attribute 'token',"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I upgraded to latest 0.110.2 and tried the new Onvif integration through the ui with no cameras configured in the config. I have an empty stream and ffmpeg entities in the config. It discovered the camera and allows you to set it up, but doesn't create a device or entities. 

The error produced is:

> Error setting up entry ONVIF_ICAMERA - F0:00:00:1E:8F:0C for onvif
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 217, in async_setup
    hass, self
  File ""/usr/src/homeassistant/homeassistant/components/onvif/__init__.py"", line 73, in async_setup_entry
    if not await device.async_setup():
  File ""/usr/src/homeassistant/homeassistant/components/onvif/device.py"", line 98, in async_setup
    self.profiles = await self.async_get_profiles()
  File ""/usr/src/homeassistant/homeassistant/components/onvif/device.py"", line 291, in async_get_profiles
    profile.ptz.presets = [preset.token for preset in presets]
  File ""/usr/src/homeassistant/homeassistant/components/onvif/device.py"", line 291, in <listcomp>
    profile.ptz.presets = [preset.token for preset in presets]
AttributeError: 'NoneType' object has no attribute 'token'

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.2
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): generic Linux with supervisor
- Integration causing this issue: Onvif
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/onvif/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
Error setting up entry ONVIF_ICAMERA - F0:00:00:1E:8F:0C for onvif
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 217, in async_setup
    hass, self
  File ""/usr/src/homeassistant/homeassistant/components/onvif/__init__.py"", line 73, in async_setup_entry
    if not await device.async_setup():
  File ""/usr/src/homeassistant/homeassistant/components/onvif/device.py"", line 98, in async_setup
    self.profiles = await self.async_get_profiles()
  File ""/usr/src/homeassistant/homeassistant/components/onvif/device.py"", line 291, in async_get_profiles
    profile.ptz.presets = [preset.token for preset in presets]
  File ""/usr/src/homeassistant/homeassistant/components/onvif/device.py"", line 291, in <listcomp>
    profile.ptz.presets = [preset.token for preset in presets]
AttributeError: 'NoneType' object has no attribute 'token'
```
## Additional information

"
36061,OpenGarage Component Fails After Upgrading to 0.110.1,"## The problem
 OpenGarage fails after upgrading to 0.110.1 from 0.109.6

## Environment
- Home Assistant Core release with the issue: 0.110.1
- Last working Home Assistant Core release (if known): 0.109.6
- Operating environment (Home Assistant/Supervised/Docker/venv): Supervised
- Integration causing this issue: OpenGarage
- Link to integration documentation on our website: https://rc.home-assistant.io/integrations/opengarage/

## Problem-relevant `configuration.yaml`

```
cover:
  platform: opengarage
  covers:
      garage:
        host:  192.168.1.158
        device_key: xxx
        name:  garagedoor

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 178, in _async_setup_platform
    await asyncio.wait_for(asyncio.shield(task), SLOW_SETUP_MAX_WAIT)
  File ""/usr/local/lib/python3.7/asyncio/tasks.py"", line 442, in wait_for
    return fut.result()
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/opengarage/cover.py"", line 73, in setup_platform
    async_get_clientsession(hass),
  File ""/usr/src/homeassistant/homeassistant/helpers/aiohttp_client.py"", line 47, in async_get_clientsession
    hass.data[key] = async_create_clientsession(hass, verify_ssl)
  File ""/usr/src/homeassistant/homeassistant/helpers/aiohttp_client.py"", line 68, in async_create_clientsession
    connector = _async_get_connector(hass, verify_ssl)
  File ""/usr/src/homeassistant/homeassistant/helpers/aiohttp_client.py"", line 207, in _async_get_connector
    connector = aiohttp.TCPConnector(enable_cleanup_closed=True, ssl=ssl_context)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/connector.py"", line 731, in __init__
    loop=loop)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/connector.py"", line 229, in __init__
    loop = get_running_loop(loop)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/helpers.py"", line 268, in get_running_loop
    loop = asyncio.get_event_loop()
  File ""/usr/local/lib/python3.7/asyncio/events.py"", line 644, in get_event_loop
    % threading.current_thread().name)
RuntimeError: There is no current event loop in thread 'SyncWorker_10'.

```

## Additional information
Rolling back to 0.109.6 fixes the issue. 
"
36035,Hunter Douglas Powerview - Error while setting up cover and sensor,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The Hunter Douglas Powerview integration is showing a repeating error in the logs for setting up cover and sensor.
The integration seems to add ok from frontend and I can see the scenes as entities, but I'm getting the below error constantly in the logs for cover and sensor.

I'm using a Gen 1 Powerview Hub and in checking the Powerview app the blinds don't return a firmware version. It just to return 'Unavailable'. Which seems like it might be what's causing the error.

![IMG_34D8D0D4D943-1](https://user-images.githubusercontent.com/26514242/82732785-be12be80-9d52-11ea-8be1-2bc2ab843743.jpeg)


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue:  0.110.1
- Last working Home Assistant Core release (if known): unknown
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker on Synology NAS
- Integration causing this issue: Hunter Douglas Powerview
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/hunterdouglas_powerview/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-05-23 12:51:29 ERROR (MainThread) [homeassistant.components.sensor] Error while setting up hunterdouglas_powerview platform for sensor
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 186, in _async_setup_platform
    await asyncio.gather(*pending)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 295, in async_add_entities
    await asyncio.gather(*tasks)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 344, in _async_add_entity
    device_info = entity.device_info
  File ""/usr/src/homeassistant/homeassistant/components/hunterdouglas_powerview/entity.py"", line 77, in device_info
    firmware = self._shade.raw_data[FIRMWARE_IN_SHADE]
KeyError: 'firmware'

2020-05-23 12:51:39 ERROR (MainThread) [homeassistant.components.cover] Error while setting up hunterdouglas_powerview platform for cover
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 186, in _async_setup_platform
    await asyncio.gather(*pending)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 295, in async_add_entities
    await asyncio.gather(*tasks)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 344, in _async_add_entity
    device_info = entity.device_info
  File ""/usr/src/homeassistant/homeassistant/components/hunterdouglas_powerview/entity.py"", line 77, in device_info
    firmware = self._shade.raw_data[FIRMWARE_IN_SHADE]
KeyError: 'firmware'

```

## Additional information

"
35990,ONVIF camera stopped working on HA 0.110,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Hi, my Chinese PTZ camera worked good with ONVIF before 110 but now I have no device/entity in integrations:

![image](https://user-images.githubusercontent.com/44270368/82687622-d18d2f00-9c57-11ea-85d0-2e97ec252e13.png)

Onvif Device Manager v2.2.250 detects it perfectly.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->
- Home Assistant Core release with the issue: 0.110.1
- Last working Home Assistant Core release (if known):  0.109.6
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant
- Integration causing this issue: ONVIF
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/onvif/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/config_entries.py"", line 217, in async_setup
    hass, self
  File ""/usr/src/homeassistant/homeassistant/components/onvif/__init__.py"", line 83, in async_setup_entry
    if device.capabilities.events and await device.events.async_start():
  File ""/usr/src/homeassistant/homeassistant/components/onvif/event.py"", line 83, in async_start
    await self.async_parse_messages(response.NotificationMessage)
  File ""/usr/src/homeassistant/homeassistant/components/onvif/event.py"", line 147, in async_parse_messages
    topic = msg.Topic._value_1
AttributeError: 'NoneType' object has no attribute '_value_1

```

## Additional information
I activated onvif and zeep debug but the log is more than 40000 lines,
I posted here https://paste.ubuntu.com/p/8Sc3VjnSNZ/ the first 5000.
If you need more lines tell me how to send them to you.
Thanks
"
35958,Exception when lock.open with the Nello Integration,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
When I try to use the `lock.open`service I get an exception


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.1
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): Supervised
- Integration causing this issue: nello
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/nello/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
action:
  - data: {}
    entity_id: lock.nello_*******
    service: lock.open
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/script.py"", line 153, in _async_step
    self, f""_async_{cv.determine_script_action(self._action)}_step""
  File ""/usr/src/homeassistant/homeassistant/helpers/script.py"", line 623, in _async_call_service_step
    *self._prep_call_service_step(), blocking=True, context=self._context
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1253, in async_call
    task.result()
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1288, in _execute_service
    await handler.func(service_call)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_component.py"", line 213, in handle_service
    self._platforms.values(), func, call, required_features
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 453, in entity_service_call
    future.result()  # pop exception if have
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 597, in async_request_call
    await coro
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 484, in _handle_entity_call
    await result
  File ""/usr/src/homeassistant/homeassistant/components/lock/__init__.py"", line 120, in async_open
    await self.hass.async_add_job(ft.partial(self.open, **kwargs))
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/lock/__init__.py"", line 116, in open
    raise NotImplementedError()
NotImplementedError
```

## Additional information

"
35957,OZW climate operation mode mapping issues,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The name of the mode for automatic changeover between heat and cool is ""auto"" instead of ""heat_cool"".   The standardized name for this mode for all climate devices is supposed to be heat_cool.   I don't know if there is any significant difference between zwave modes ThermostatMode.AUTO and ThermostatMode.AUTO_CHANGE_OVER with the thermostats currently out in the wild.   With my thermostat I suspect the automatic changover mode is ThermostatMode.AUTO.  ThermostatMode.AUTO might be better mapped to HVAC_MODE_HEAT_COOL.   It has been mapped to heat_cool with the previous zwave integration. 

ThermostatMode.AUXILIARY is being mapped as HVAC_MODE_HEAT when ""Aux Heat"" is a completely seperate mode which should only be accessible via the service call  climate.set_aux_heat.  Thermostats that have both ThermostatMode.HEAT and ThermostatMode.AUXILIARY will have two modes mapped to HVAC_MODE_HEAT leading to situation where ""Aux Heat"" could inadvertently be called when the ""Heat"" mode is selected in the UI which could result in an expensive energy bill for people who have heat pumps and electrical resistance heat or propane as ""Aux heat"".  Or it could cause the heat mode to fail to work at all in some configurations.

I attached an a mqtt dump.  Relevant node_id is 36. 
 
Other than the mode mapping issues, the integration is working well with my thermostat.

# Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->
- Home Assistant Core release with the issue: 
0.111.0.dev0 pulled 5/21/20
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv):
Python Venv 
- Integration causing this issue:
OZW 
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

[mqtt_dump.txt](https://github.com/home-assistant/core/files/4665318/mqtt_dump.txt)

## Additional information

"
35935,velux: Newly added unique ID has collisions breaking e.g. Somfy Shutters on Velux KLF-200,"## The problem
I have 11 Somfy IO shutters connected to a Velux KLF-200 which worked fine up until 0.109.6 with 11 entities being detected by HA and being controllable as expected. Starting with 0.110.0 only 1 of the 11 is detected (the first reported by pyvlx). I tried to trace the issue down and I found that https://github.com/home-assistant/core/pull/34668 introduced unique_id support for velux based on the reported serial number however those Somfy blinds all report their serial numbers as ""00:00:00:00:00:00:00:00"" on pyvlx which causes HA to think they are all the same and only creating the first entry and logging some error about duplicate devices for the rest. See below for debug log of pyvlx.

## Environment
- Home Assistant Core release with the issue: 0.110.0
- Last working Home Assistant Core release (if known): 0.109.6
- Operating environment (Home Assistant/Supervised/Docker/venv): Ubuntu 20.04 w/ Supervisor
- Integration causing this issue: velux
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/velux/

## Problem-relevant `configuration.yaml`
```yaml
velux:
  host: ""a.b.c.d""
  password: ""****""
```

## Traceback/Error logs
pyvlx logs showing 3 of the detected Somfy blinds with all-zero serial numbers

```txt
2020-05-21 19:02:04 DEBUG (MainThread) [pyvlx] REC: <FrameGetAllNodesInformationNotification node_id=0 order=0 placement=0 name='Gästezimmer' velocity=Velocity.SILENT node_type='NodeTypeWithSubtype.ROLLER_SHUTTER' product_group=0 product_type=0 node_variation=NodeVariation.NOT_SET power_mode=0 build_number=0 serial_number='00:00:00:00:00:00:00:00' state=5 current_position='0x0000' target='0x0000' current_position_fp1='0xF7FF' current_position_fp2='0xF7FF' current_position_fp3='0xF7FF' current_position_fp4='0xF7FF' remaining_time=0 time='2020-05-21 19:02:03' alias_array=''/>
2020-05-21 19:02:04 DEBUG (MainThread) [pyvlx] REC: <FrameGetAllNodesInformationNotification node_id=1 order=1 placement=0 name='Büro links' velocity=Velocity.SILENT node_type='NodeTypeWithSubtype.ROLLER_SHUTTER' product_group=0 product_type=0 node_variation=NodeVariation.NOT_SET power_mode=0 build_number=0 serial_number='00:00:00:00:00:00:00:00' state=5 current_position='0x0000' target='0x0000' current_position_fp1='0xF7FF' current_position_fp2='0xF7FF' current_position_fp3='0xF7FF' current_position_fp4='0xF7FF' remaining_time=0 time='2020-05-21 19:02:03' alias_array=''/>
2020-05-21 19:02:04 DEBUG (MainThread) [pyvlx] REC: <FrameGetAllNodesInformationNotification node_id=2 order=2 placement=0 name='Büro rechts' velocity=Velocity.SILENT node_type='NodeTypeWithSubtype.ROLLER_SHUTTER' product_group=0 product_type=0 node_variation=NodeVariation.NOT_SET power_mode=0 build_number=0 serial_number='00:00:00:00:00:00:00:00' state=5 current_position='0x0000' target='0x0000' current_position_fp1='0xF7FF' current_position_fp2='0xF7FF' current_position_fp3='0xF7FF' current_position_fp4='0xF7FF' remaining_time=0 time='2020-05-21 19:02:03' alias_array=''/>
```

## Additional information

"
35904,It is not possible to integrate a ONVIF camera that requires an empty password,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
It is not possible to integrate my ONVIF camera that requires an empty password.
The onvif yaml config is no more documented, so the onvif integration setup wizard from Lovelace should add support for this.
Also, the newly ONVIF dicovered integration can't be ""ignored"".

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->
Home assistant on Raspberry Pi4.

- Home Assistant Core release with the issue: 0.110
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant
- Integration causing this issue: onvif
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/onvif/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
35891,Hunter Douglas Powerview: Unexpected error after upgrading to 0.110,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<-- 
Hunter Douglas Powerview integration added in configuration.yaml broke after upgrading to 0.110.
Had the integration manually added in configuration.yaml, but when I upgraded to 0.110 no scenes were found, I can only see the error as shown in the log below. Also I've noticed i get a notification saying that device was discovered, and it is Huntedouglas Powerview. When I click the integration and type inn the ip it says: Unexpected error.

I've tried to deleted the configuration.yaml entry and restarted. That result in no notification that devices was discovered, and it throws the same error: Unexpected error when i try to add the integration manually from the Integration page.

I have a Gen.1 Powerview Hub.

-->


## Environment
<--
Home Assistant 0.110.0
-->

- Home Assistant Core release with the issue:  0.110.0
- Last working Home Assistant Core release (if known): 0.109.latest
- Operating environment (Home Assistant/Supervised/Docker/venv): HassOS in VM on Unraid
- Integration causing this issue: Hunter Douglas PowerView
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/hunterdouglas_powerview/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<--
Log Details (ERROR)
Logger: homeassistant.components.hunterdouglas_powerview.config_flow
Source: components/hunterdouglas_powerview/__init__.py:162
Integration: Hunter Douglas PowerView (documentation, issues)
First occurred: 12:31:42 AM (3 occurrences)
Last logged: 12:57:07 AM

Unexpected exception
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/hunterdouglas_powerview/config_flow.py"", line 65, in async_step_user
    info = await validate_input(self.hass, user_input)
  File ""/usr/src/homeassistant/homeassistant/components/hunterdouglas_powerview/config_flow.py"", line 35, in validate_input
    device_info = await async_get_device_info(pv_request)
  File ""/usr/src/homeassistant/homeassistant/components/hunterdouglas_powerview/__init__.py"", line 162, in async_get_device_info
    main_processor_info = userdata_data[FIRMWARE_IN_USERDATA][
KeyError: 'firmware'
-->

```txt

```

## Additional information

"
35874,Roku no longer reports standby state,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

Roku integration no longer reports state `standby` for Roku TVs. Defaults to `home`

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.0
- Last working Home Assistant Core release (if known): 0.109.6
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker
- Integration causing this issue: Roku
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/roku/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->
No errors
```txt

```

## Additional information

"
35861,prezzibenzina integration Detected I/O inside the event loop,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
prezzibenzina integration is giving these lines in the logs:

```
2020-05-20 19:03:16 WARNING (MainThread) [homeassistant.util.async_] Detected I/O inside the event loop. This is causing stability issues. Please report issue for prezzibenzina doing I/O at homeassistant/components/prezzibenzina/sensor.py, line 54: info = client.get_by_id(station)
2020-05-20 19:03:18 WARNING (MainThread) [homeassistant.util.async_] Detected I/O inside the event loop. This is causing stability issues. Please report issue for prezzibenzina doing I/O at homeassistant/components/prezzibenzina/sensor.py, line 119: self._data = self._client.get_by_id(self._station)[self._index]
```

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.0
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): Supervised
- Integration causing this issue: prezzi benzina
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/prezzibenzina/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-05-20 19:03:16 WARNING (MainThread) [homeassistant.util.async_] Detected I/O inside the event loop. This is causing stability issues. Please report issue for prezzibenzina doing I/O at homeassistant/components/prezzibenzina/sensor.py, line 54: info = client.get_by_id(station)
2020-05-20 19:03:18 WARNING (MainThread) [homeassistant.util.async_] Detected I/O inside the event loop. This is causing stability issues. Please report issue for prezzibenzina doing I/O at homeassistant/components/prezzibenzina/sensor.py, line 119: self._data = self._client.get_by_id(self._station)[self._index]
```

## Additional information

"
35858,MQTT devices fail to update if MQTT broker isn't ready on boot,"
<!-- READ THIS FIRST:
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->

## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

I run HA and Mosquitto MQTT inside docker containers. On boot all of my containers are started around the same time which causes a race condition between Mosquitto (MQTT) and HA. 

- If my MQTT broker _is_ ready before HA starts, everything is fine.

- If my MQTT broker is _not_ ready by the time HA tries to connect, all MQTT devices in HA won't report state changes until HA is restarted. _Even if_ HA manages to connect during its retry steps, it won't make a difference.

### Binary sensor connected to an MQTT topic:

```yaml
binary_sensor:
  - name: Front Window Person
    platform: mqtt
    state_topic: ""frigate/front_window/person""
    device_class: motion
```

When a text payload of ""ON"" is sent to that topic, I expect the binary sensor to update. It does nothing.

### Camera using MQTT:

```yaml
camera:
  - name: Kitchen Last Person
    platform: mqtt
    topic: frigate/kitchen/person/snapshot
```

When a buffer is sent to the `frigate/kitchen/person/snapshot` topic, HA doesn't update the camera device.

Neither of those devices will work if the MQTT broker isn't ready when HA starts.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.109.5
- Last working Home Assistant Core release (if known): Not sure it was ever working.
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker
- Integration causing this issue: MQTT
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/mqtt/ 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

I don't have any YAML for the MQTT integration in HA since I used the web UI to set it up, but here's the `JSON` from `core.config_entires`

```json
{
	""connection_class"": ""local_push"",
	""data"": {
		""broker"": ""192.168.95.100"",
		""discovery"": true,
		""password"": ""REDACTED"",
		""port"": 8883,
		""username"": ""mosquitto""
	},
	""domain"": ""mqtt"",
	""entry_id"": ""f9f35b5b8db44d758eaa29b207083782"",
	""options"": {},
	""source"": ""user"",
	""system_options"": {
		""disable_new_entities"": false
	},
	""title"": ""192.168.95.100"",
	""unique_id"": null,
	""version"": 1
},
```

MQTT Binary Sensor that fails to work if MQTT wasn't ready on start.

```yaml
binary_sensor:
  - name: Front Window Person
    platform: mqtt
    state_topic: ""frigate/front_window/person""
    device_class: motion
```

MQTT Camera that fails to work if MQTT wasn't ready on start.

```yaml
camera:
  - name: Kitchen Last Person
    platform: mqtt
    topic: frigate/kitchen/person/snapshot
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

HA logs showing that the MQTT broker isn't ready for HA:

```bash
2020-05-20 11:09:27 INFO (MainThread) [homeassistant.setup] Setting up mqtt
2020-05-20 11:09:27 INFO (MainThread) [homeassistant.setup] Setup of domain mqtt took 0.0 seconds.
2020-05-20 11:09:29 ERROR (MainThread) [homeassistant.components.mqtt] Failed to connect due to exception: [Errno 113] Host is unreachable
2020-05-20 11:09:29 WARNING (MainThread) [homeassistant.config_entries] Config entry for mqtt not ready yet. Retrying in 5 seconds.
2020-05-20 11:09:29 INFO (MainThread) [homeassistant.components.binary_sensor] Setting up binary_sensor.mqtt
2020-05-20 11:09:29 INFO (MainThread) [homeassistant.components.binary_sensor] Setting up binary_sensor.mqtt
2020-05-20 11:09:31 INFO (MainThread) [homeassistant.components.camera] Setting up camera.mqtt
2020-05-20 11:09:31 INFO (MainThread) [homeassistant.components.camera] Setting up camera.mqtt
```

I don't see any log messages for it successfully connecting, but I can verify HA did connect by reading my `mosquitto` logs, and testing the topic subscriptions inside `/developer-tools/mqtt`.

Mosquitto logs showing HA connecting successfully:

```bash
1589987385: New connection from 192.168.95.100 on port 8883.
1589987385: New client connected from 192.168.95.100 as auto-AC5B3F08-D989-387D-7864-BCA9D95CE895 (p2, c1, k60, u'mosquitto').
```

## Additional information

- Running: `eclipse-mosquitto:latest` as my MQTT Broker

- I tried to fix this back in April 2019 thinking that the root cause of my MQTT issues was missing retry logic: https://github.com/home-assistant/core/pull/22540 That was only part of the issue since the devices using the `MQTT` platform still needed to be updated.

- This does not happen on every reboot of the host machine. Only some of the time since it's a race condition between my docker containers.

- Oddly enough when this condition occurs, I _can_ subscribe to the topics inside `/developer-tools/mqtt` and verify that HA can see changes, but the devices won't update until I restart HA.
"
35844,home_connect uses internal_url and should use external_url as redirect_uri,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The setup flow for the new integrated home_connect integration isn't working. The URL that is opened in a new tab is using the `internal_url`. Instead, it should use the `external_url` from the config


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.0
- Last working Home Assistant Core release (if known): -
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker
- Integration causing this issue: home_connect
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/home_connect/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
I use the `packages` setup, 2 relevant configuration files:

cat configuration.yaml 
```yaml
homeassistant:
  internal_url: !secret internal_url # => http://192.168.68.114:8123
  external_url: !secret external_url # => https://hass.example.com
...
```

cat packages/home_connect.yaml
```yaml
home_connect:
  client_id: !secret home_connect_client_id # => client id from dev portal
  client_secret: !secret home_connect_client_secret # => client secret from dev portal
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/real_ip.py"", line 39, in real_ip_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/ban.py"", line 73, in ban_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 125, in handle
    result = await result
  File ""/usr/src/homeassistant/homeassistant/components/config/config_entries.py"", line 136, in get
    return await super().get(request, flow_id)
  File ""/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py"", line 91, in get
    result = await self._flow_mgr.async_configure(flow_id)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 153, in async_configure
    result = await self._async_handle_step(flow, cur_step[""step_id""], user_input)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/helpers/config_entry_oauth2_flow.py"", line 248, in async_step_creation
    token = await self.flow_impl.async_resolve_external_data(self.external_data)
  File ""/usr/src/homeassistant/homeassistant/helpers/config_entry_oauth2_flow.py"", line 142, in async_resolve_external_data
    ""redirect_uri"": self.redirect_uri,
  File ""/usr/src/homeassistant/homeassistant/helpers/config_entry_oauth2_flow.py"", line 167, in _token_request
    resp.raise_for_status()
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/client_reqrep.py"", line 946, in raise_for_status
    headers=self.headers)
aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://api.home-connect.com/security/oauth/token
```
and
```txt
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/real_ip.py"", line 39, in real_ip_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/ban.py"", line 73, in ban_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 125, in handle
    result = await result
  File ""/usr/src/homeassistant/homeassistant/helpers/config_entry_oauth2_flow.py"", line 376, in get
    flow_id=state[""flow_id""], user_input=request.query[""code""]
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 146, in async_configure
    raise UnknownFlow
homeassistant.data_entry_flow.UnknownFlow
```

## Additional information
Url that is opened: `https://api.home-connect.com/security/oauth/authorize?response_type=code&client_id=code_was_here&redirect_uri=http://192.168.68.114:8123/auth/external/callback&state=state_was_here`
"
35843,Cannot ignore a discovery integration ( IPP ) on 0.110,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
It has been announced that all the discovery integrations could be ignored with the new release 0.110 but the integration Internet Printing Protocol (IPP) remain unable to be ignored

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv):  Supervised
- Integration causing this issue: Internet Printing Protocol (IPP)
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/ipp/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information
![image](https://user-images.githubusercontent.com/1955976/82447454-9e586d80-9aa8-11ea-8be1-ddd64927c0ef.png)
No button ""ignore"" is available
"
35820,ikea tradfri stopped working,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem

I am/was using ikea tradfri with home assistant, since the latest release of home assistant this stopped working. In both scenario's:
1. it doesn't get automatically discovered
2. if I add the `tradfri:` to my configuration.yaml



## Environment

- Home Assistant Core release with the issue: 0.109.6
- Last working Home Assistant Core release (if known): 0.108.xx
- Operating environment (Home Assistant/Supervised/Docker/venv): in python virtualenv on Armbian 20.02.7 Buster
- Integration causing this issue: ikea tradfri
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/tradfri/

## Problem-relevant `configuration.yaml`

```
tradfri:
  host: 192.168.0.110
```

## Traceback/Error logs

it provides an error when running `hass --script check_config`:
```
hass --script check_config
Testing configuration at /home/homeassistant/.homeassistant
INFO:homeassistant.util.package:Attempting install of pytradfri[async]==6.4.0
ERROR:homeassistant.util.package:Unable to install package pytradfri[async]==6.4.0: Failed building wheel for DTLSSocket
Command ""/srv/homeassistant/bin/python3 -u -c ""import setuptools, tokenize;__file__='/tmp/pip-install-4toau719/DTLSSocket/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\r\n', '\n');f.close();exec(compile(code, __file__, 'exec'))"" install --record /tmp/pip-record-oddgxgn3/install-record.txt --single-version-externally-managed --compile --install-headers /srv/homeassistant/include/site/python3.7/DTLSSocket"" failed with error code 1 in /tmp/pip-install-4toau719/DTLSSocket/
Failed config
  General Errors: 
    - Component error: tradfri - Requirements for tradfri not found: ['pytradfri[async]==6.4.0'].

Successful config (partial)
```

## Additional information

"
35779,Error while setting up denon platform for media_player with Marantz,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
I've used the denon integration (not DenonAVR) to connect to my Marantz NR1609. It worked for a while, but doesn't now

## Environment
- Home Assistant Core release with the issue: 0.109.6
- Last working Home Assistant Core release (if known): 0.99 worked. Don't know when it was switched over.
- Operating environment (Home Assistant/Supervised/Docker/venv): Supervised
- Integration causing this issue: Denon
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/denon/

## Problem-relevant `configuration.yaml`
Didn't change this configuration recently, since it only has one variable (and a name)

```
media_player:
...
  - platform: denon
    host: 192.168.xx.xx
    name: Marantz
```

## Traceback/Error logs

```
Logger: homeassistant.components.media_player
Source: components/denon/media_player.py:117

Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 178, in _async_setup_platform
    await asyncio.wait_for(asyncio.shield(task), SLOW_SETUP_MAX_WAIT)
  File ""/usr/local/lib/python3.7/asyncio/tasks.py"", line 442, in wait_for
    return fut.result()
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/denon/media_player.py"", line 85, in setup_platform
    if denon.update():
  File ""/usr/src/homeassistant/homeassistant/components/denon/media_player.py"", line 162, in update
    self._setup_sources(telnet)
  File ""/usr/src/homeassistant/homeassistant/components/denon/media_player.py"", line 117, in _setup_sources
    source, configured_name = line[len(""SSFUN"") :].split("" "", 1)
ValueError: not enough values to unpack (expected 2, got 1)
```

## Additional information

"
35764,Synology Forked Daapd,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Been getting this error related to forked-daapd since 0.110.0b0

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.0bx
- Last working Home Assistant Core release (if known): -
- Operating environment (Home Assistant/Supervised/Docker/venv): Supervised
- Integration causing this issue: Synology????
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->
```
Log Details (ERROR)
Logger: homeassistant.core
Source: components/forked_daapd/config_flow.py:168
First occurred: 12:57:19 (1 occurrences)
Last logged: 12:57:19

Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 129, in async_init
    flow, flow.init_step, data, init_done
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 201, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/forked_daapd/config_flow.py"", line 168, in async_step_zeroconf
    if entry.data[CONF_HOST] != discovery_info[""host""]:
KeyError: 'host'


```

## Additional information
Storage
```
            {
                ""connection_class"": ""local_push"",
                ""data"": {},
                ""domain"": ""forked_daapd"",
                ""entry_id"": ""7b0cb919125e4a668e14ca23a202ca65"",
                ""options"": {},
                ""source"": ""ignore"",
                ""system_options"": {
                    ""disable_new_entities"": false
                },
                ""title"": ""Ignored"",
                ""unique_id"": ""Redding"",
                ""version"": 1
            },
```
In core.config_entries. I ignored this when it was discovered and it does not show up in ignored integrations. I just get the log error on every restart."
35740,Night mode and speech enhancement does not work with Sonos Amp,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

It is not possible to enable/disable night mode or speech enhancement with Sonos Amp, even though these features are supported.

Error given is `Error on set_option with This device does not support night mode`

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

Home Assistant 0.109.6

- Home Assistant Core release with the issue: 0.109.6
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): docker
- Integration causing this issue: sonos
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

Problem can be resolved by adding the value 'sonos amp' to the list of SOUNDBARS - on my local install, this is in /usr/local/lib/python3.7/site-packages/pysonos/core.py within my docker container.
"
35666,NWS integration Error Bad Gateway,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem

NWS integration Error and becomes unavailable, after reboot comes back for 1 min or 2 and then errors out again.
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.109.6
- Last working Home Assistant Core release (if known): 0.109.5
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker Raspberry Pi3 
- Integration causing this issue: NWS
- Link to integration documentation on our website:  https://www.home-assistant.io/integrations/nws

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->Log Details (ERROR)
Logger: homeassistant.components.nws
Source: helpers/update_coordinator.py:111
Integration: National Weather Service (NWS) (documentation, issues)
First occurred: 10:40:11 AM (9 occurrences)
Last logged: 12:32:03 PM

Error requesting NWS forecast hourly station KHAO data: 502, message='Bad Gateway', url='https://api.weather.gov/gridpoints/ILN/44,48/forecast/hourly
Error requesting NWS observation station KHAO data: 502, message='Bad Gateway', url='https://api.weather.gov/stations/KHAO/observations/
Error requesting NWS forecast station KHAO data: 502, message='Bad Gateway', url='https://api.weather.gov/gridpoints/ILN/44,48/forecast
Error requesting NWS observation station KHAO data: 502, message='Bad Gateway', url='https://api.weather.gov/stations/KHAO/observations

```txt
2020-05-15 12:31:46 ERROR (MainThread) [homeassistant.components.nws] Error requesting NWS forecast hourly station KHAO data: 502, message='Bad Gateway', url='https://api.weather.gov/gridpoints/ILN/44,48/forecast/hourly
2020-05-15 12:32:03 ERROR (MainThread) [homeassistant.components.nws] Error requesting NWS forecast station KHAO data: 502, message='Bad Gateway', url='https://api.weather.gov/gridpoints/ILN/44,48/forecast
2020-05-15 12:03:15 ERROR (MainThread) [homeassistant.components.nws] Error requesting NWS observation station KHAO data: 502, message='Bad Gateway', url='https://api.weather.gov/stations/KHAO/observations/
2020-05-15 11:21:13 ERROR (MainThread) [homeassistant.components.nws] Error requesting NWS forecast hourly station KHAO data: 502, message='Bad Gateway', url='https://api.weather.gov/gridpoints/ILN/44,48/forecast/hourly
2020-05-15 11:21:13 ERROR (MainThread) [homeassistant.components.nws] Error requesting NWS forecast station KHAO data: 502, message='Bad Gateway', url='https://api.weather.gov/gridpoints/ILN/44,48/forecast
```

## Additional information

"
35657,"Integration ""Stall Wiffi"": Wrong device class for wiffi-pump sensor","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I am using a wiffi-pump with the new integration ""stall wiffi"". This device has 3 sensors: 
sensor.temperatur_a
sensor.temperatur_b
sensor.temperatur_ntc

all of them are temperature sensors, but the sensor.temperatur_ntc has the device class ""humidity"" which is just wrong ;)

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.110.0b2
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker
- Integration causing this issue: Stall Wiffi
- Link to integration documentation on our website: https://rc.home-assistant.io/integrations/wiffi/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->



## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->



## Additional information

"
35601,Devices and entities not discovered after adding a node (zwave_mqtt),"## The problem

After adding a node, using the `zwave_mqtt.add_node` service call, the node Device and Entities never appear in HA until after a restart. This is the same problem as I commented at https://github.com/cgarwood/homeassistant-zwave_mqtt/issues/115#issuecomment-625360374.

## Environment
- Home Assistant Core release with the issue: 0.110.0b0
- Last working Home Assistant Core release (if known): N/A
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker
- Integration causing this issue: zwave_mqtt
- Link to integration documentation on our website: N/A
- OZWDaemon version: 0.1.97

## Problem-relevant `configuration.yaml`
N/A

## Traceback/Error logs
The node was added at time May 13, 2020 10:31:41 PM. Here is the MQTT event showing when the add was completed:
```
OpenZWave/1/event/addnode
{
  ""Node"": 18,
  ""State"": ""Ctrl_State_Completed"",
  ""TimeStamp"": 1589434301
}
```
Here are the attached HA logs, where DEBUG is enabled for zwave_mqtt. It shows the time during the add node, then a stop, waiting several minutes inbetween. There are also some exceptions that didn't print until after I stopped HA (from the UI), perhaps related?

[ha_log.txt](https://github.com/home-assistant/core/files/4626249/ha_log.txt)

Notice that during the time of the add the logs are silent. After restart, the new node is discovered and the entities are actually registered. I would expect this to happen sometime soon after the add, not after a restart. 

## Additional information
Here is an MQTT dump before the add: 
[mqtt_dump_before_add.txt](https://github.com/home-assistant/core/files/4626256/mqtt_dump_before_add.txt)

Here is an MQTT dump after the add was completed, and prior to stopping/starting HA.
[mqtt_dump_after_add.txt](https://github.com/home-assistant/core/files/4626258/mqtt_dump_after_add.txt)
"
35573,Plugwise integration doesn't start,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
The integration with Plugwise Anna has suddenly stopped working. It used to work just fine, but - without any updates to either the Smile/Anna firmware or the HA installation it's stopped working and gives the error in the log as pasted at the bottom.

I've updated from 0.109.3 (where it originally suddenly stopped working) to 0.109.6, to no effect. I've restarted the Smile device, restarted Home assistant, restarted the router, nothing helps.

Based on https://github.com/home-assistant/core/issues/26520 I've checked http://<SMILE_IP>/core/domain_objects and put its contents here: https://gist.github.com/rybloo/42ed6624183ba06d6d3c733077791c14. I've also checked /core/rules and put it here: https://gist.github.com/rybloo/e793b6b4cac91ac5d72f84f61bd8742d.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.109.3, 0.109.6
- Last working Home Assistant Core release (if known): 0.109.3
- Operating environment (Home Assistant/Supervised/Docker/venv): Supervised on Ubuntu 20.04
- Integration causing this issue: Plugwise Anna
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/plugwise/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
climate:
  - platform: plugwise
    username: !secret THERMOSTAT_ANNA_USERNAME
    password: !secret THERMOSTAT_ANNA_PASSWORD
    host: !secret THERMOSTAT_ANNA_IP
    name: Anna
    min_temp: 7
    max_temp: 27
```
(I've also tried without explicitly defined username.)

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_platform.py"", line 322, in _async_add_entity
    await entity.async_device_update(warning=False)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 472, in async_device_update
    await self.hass.async_add_executor_job(self.update)
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/plugwise/climate.py"", line 279, in update
    self._presets = self._api.get_presets(self._domain_objects)
  File ""/usr/local/lib/python3.7/site-packages/haanna/haanna.py"", line 89, in get_presets
    presets = self.get_preset_dictionary(root, rule_id)
  File ""/usr/local/lib/python3.7/site-packages/haanna/haanna.py"", line 498, in get_preset_dictionary
    directive.find(""then"").attrib[""setpoint""]
KeyError: 'setpoint'
```

## Additional information

Anna/Smile firmware: 4.0.15"
35536,"Connection pool is full, discarding connection: api.minut.com","## The problem
Continuously getting this error in my logs about the connection pool being full

## Environment
- Home Assistant Core release with the issue: 109.6
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker (Synology)
- Integration causing this issue: Minut Point
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/point/

## Problem-relevant `configuration.yaml`
point:
  client_id: xxxxxxxxxxxxxx
  client_secret: !secret point_secret

## Traceback/Error logs
Logger: urllib3.connectionpool
Source: /usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py:303
First occurred: 2:30:42 PM (6 occurrences)
Last logged: 2:30:43 PM

Connection pool is full, discarding connection: api.minut.com

## Additional information

"
35508,Not able to add a udm on the latest beta firmware,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->

With the current UniFiOs beta fw you can not set up the integration because a endpoint has changed.

They moved the site admin flag from the /proxy/network/api/self/sites to /proxy/network/api/s/default/self

This causes the setup to fail on with the NoLocalUser exception.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.109.6
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant
- Integration causing this issue: UniFi
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/unifi/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-05-11 20:54:56 DEBUG (MainThread) [aiounifi.controller] https://192.168.255.41:443
2020-05-11 20:54:57 DEBUG (MainThread) [aiounifi.controller] 200 text/html <ClientResponse(https://192.168.255.41:443) [200 OK]>
<CIMultiDictProxy('Vary': 'Origin', 'X-DNS-Prefetch-Control': 'off', 'X-Frame-Options': 'SAMEORIGIN', 'Strict-Transport-Security': 'max-age=15552000; includeSubDomains', 'X-Download-Options': 'noopen', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-CSRF-Token': '<redacted>', 'Content-Type': 'text/html; charset=utf-8', 'Content-Length': '357', 'X-Response-Time': '16ms', 'Set-Cookie': 'TOKEN=<redacted>; path=/; secure; httponly', 'Date': 'Mon, 11 May 2020 18:54:57 GMT', 'Connection': 'keep-alive')>

2020-05-11 20:54:57 DEBUG (MainThread) [aiounifi.controller] https://192.168.255.41:443/api/auth/login
2020-05-11 20:54:57 DEBUG (MainThread) [aiounifi.controller] 200 application/json <ClientResponse(https://192.168.255.41:443/api/auth/login) [200 OK]>
<CIMultiDictProxy('Vary': 'Origin', 'X-DNS-Prefetch-Control': 'off', 'X-Frame-Options': 'SAMEORIGIN', 'Strict-Transport-Security': 'max-age=15552000; includeSubDomains', 'X-Download-Options': 'noopen', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '4380', 'X-Response-Time': '302ms', 'Set-Cookie': 'TOKEN=<redacted>; path=/; secure; httponly', 'Date': 'Mon, 11 May 2020 18:54:57 GMT', 'Connection': 'keep-alive')>

2020-05-11 20:54:57 DEBUG (MainThread) [aiounifi.controller] https://192.168.255.41:443/proxy/network/api/self/sites
2020-05-11 20:54:57 DEBUG (MainThread) [aiounifi.controller] 200 application/json <ClientResponse(https://192.168.255.41:443/proxy/network/api/self/sites) [200 OK]>
<CIMultiDictProxy('Vary': 'Origin', 'X-DNS-Prefetch-Control': 'off', 'x-frame-options': 'DENY', 'Strict-Transport-Security': 'max-age=15552000; includeSubDomains', 'X-Download-Options': 'noopen', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Content-Type': 'application/json;charset=UTF-8', 'Content-Length': '147', 'Date': 'Mon, 11 May 2020 18:54:57 GMT', 'Connection': 'close', 'Set-Cookie': 'TOKEN=<redacted>; path=/; secure; httponly')>

2020-05-11 20:54:57 DEBUG (MainThread) [aiounifi.controller] [{'_id': '5ea1687325f0bf0866f155fb',
  'attr_hidden_id': 'default',
  'attr_no_delete': True,
  'desc': 'Default',
  'name': 'default'}]
```

## Additional information

response of the endpoints now:

/proxy/network/api/s/default/self:
```txt
{""meta"":{""rc"":""ok""},""data"":[{""name"":""factory_default"",""site_id"":""5ea1687325f0bf0866f155fb"",""site_name"":""default"",""site_role"":""admin"",""site_permissions"":[],""super_site_permissions"":[],""last_site_id"":""5ea1687325f0bf0866f155fb"",""requires_new_password"":false,""is_super"":true,""device_id"":""2d82fda3-db57-45ac-8a5a-dd01d8183f9f"",""admin_id"":""factory_default"",""email_alert_enabled"":true,""email_alert_grouping_enabled"":true,""email_alert_grouping_delay"":60,""push_alert_enabled"":true,""is_professional_installer"":false,""html_email_enabled"":true,""ui_settings"":{},""is_owner"":false}]}
```

/proxy/network/api/self/sites
```txt
{""meta"":{""rc"":""ok""},""data"":[{""_id"":""5ea1687325f0bf0866f155fb"",""name"":""default"",""desc"":""Default"",""attr_hidden_id"":""default"",""attr_no_delete"":true}]}
```
"
35457,Synology Hard Drive Temperature is not rounded on conversion,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The temperature displayed by the hard drive sensor shows an extraneous decimal place (the one hundred-trillionth or 1 x 10^-14).  I have only seen it when the temperature of the drive is 26C (78.8F).  I have seen 3 of my 5 hard drives report a value of 78.80000000000001F.
<img width=""399"" alt=""Screen Shot 2020-05-10 at 7 55 52 AM"" src=""https://user-images.githubusercontent.com/35356217/81500299-02a05380-9297-11ea-8bde-907bddd6fcd6.png"">

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.109.X
- Last working Home Assistant Core release (if known): <= 0.108
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant Core (Docker on Synology)
- Integration causing this issue: Synology DSM
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/synology_dsm/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->
This integration was recently changed to UI configured, so there is no relevant config entry.
```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

I have not tested changing my system to metric and seeing if the issue is a conversion error or just reading a value from Synology error.  I have run the following command on my Synology via command line:
`sudo smartctl -a /dev/sdd -d ata | grep '194 Temperature'`

Result:
`194 Temperature_Celsius                                              0x0022   126   115   000    Old_age   Always       -       26
`"
35441,Roomba bin_full states,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Binary sensor ""binary_sensor.roomba_bin_full"" from new Roomba integration - it's only binary sensor in all my HA, that has states ""True""/""False"", but not ""on""/""off"" as any other binary sensor.

Is it really ok?

It's very counterintuitively: for any other binary sensor I use trigger:
```yaml
  - platform: state
    to: 'on'
```
but for bin_full it doesn't work. I need to remember to write `to: 'True'` for this sensor only.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.109
- Last working Home Assistant Core release (if known): -
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant
- Integration causing this issue: Roomba
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/roomba/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
- alias: Roomba Bin Full
  trigger:
  - platform: state
    entity_id: binary_sensor.roomba_bin_full
    to: 'on'
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
35416,xboxapi.com closure breaks Xbox Live Integration,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Xbox Live integration no longer functions due to xboxapi.com no longer existing.

It looks like they are not allowed to use xboxapi.com anymore and it is now xapi.us

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: all versions
- Last working Home Assistant Core release (if known): broken since xboxapi.com closure
- Operating environment (Home Assistant/Supervised/Docker/venv): venv
- Integration causing this issue: Xbox Live
- Link to integration documentation on our website: https://xapi.us/what-happened-to-xboxapi

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
- platform: xbox_live
  api_key: !secret xbox_live_api_key
  xuid:
    - !secret xbox_live_xuid
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-05-09 08:06:26 ERROR (SyncWorker_15) [homeassistant.components.xbox_live.sensor] Can't setup XboxAPI connection. Check your account or api key on xboxapi.com. Code: 401 Description: A fresh login is required to gain a new token from Microsoft 
```

## Additional information
https://xapi.us/documentation
"
35407,Roomba Error: [SSL: DH_KEY_TOO_SMALL] dh key too small (_ssl.c:1056),"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
 Error at HA startup: error for roomba (ssl Key too Small).  I just upgraded from 0.109.3 to 0.109.6 and I got this error for roomba integration...  Downgrading to 0.109.3 is a fix (roomba is working again)...

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.109.4/5/6
- Last working Home Assistant Core release (if known): 0.109.3 
- Operating environment (Home Assistant/Supervised/Docker/venv): venv 
- Integration causing this issue: roomba
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

STARTUP WITH HOME ASSISTANT 0.109.3

```
2020-05-09 09:27:16 WARNING (MainThread) [homeassistant.loader] You are using a custom integration for hacs which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experien$
2020-05-09 09:27:16 WARNING (MainThread) [homeassistant.loader] You are using a custom integration for config_check which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you $
2020-05-09 09:27:16 WARNING (MainThread) [homeassistant.loader] You are using a custom integration for sonoff which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experi$
2020-05-09 09:27:16 WARNING (MainThread) [homeassistant.loader] You are using a custom integration for customizer which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you ex$
2020-05-09 09:27:24 ERROR (MainThread) [homeassistant.core] Error doing job: Unclosed client session
2020-05-09 09:27:24 WARNING (MainThread) [homeassistant.loader] You are using a custom integration for average which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you exper$
2020-05-09 09:27:25 WARNING (MainThread) [homeassistant.loader] You are using a custom integration for rpi_power which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you exp$
2020-05-09 09:27:30 ERROR (MainThread) [homeassistant.core] Error doing job: Unclosed client session
2020-05-09 09:27:34 WARNING (Ma```inThread) [homeassistant.setup] Setup of evohome is taking over 10 seconds.
```

STARTUP WITH HOME ASSISTANT 0.109.6

```
2020-05-09 09:35:13 WARNING (MainThread) [homeassistant.loader] You are using a custom integration for hacs which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experien$
2020-05-09 09:35:13 WARNING (MainThread) [homeassistant.loader] You are using a custom integration for config_check which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you $
2020-05-09 09:35:13 WARNING (MainThread) [homeassistant.loader] You are using a custom integration for sonoff which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experi$
2020-05-09 09:35:13 WARNING (MainThread) [homeassistant.loader] You are using a custom integration for customizer which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you ex$
2020-05-09 09:35:20 ERROR (MainThread) [homeassistant.core] Error doing job: Unclosed client session
2020-05-09 09:35:20 WARNING (MainThread) [homeassistant.loader] You are using a custom integration for average which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you exper$
2020-05-09 09:35:21 WARNING (MainThread) [homeassistant.loader] You are using a custom integration for rpi_power which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you exp$
2020-05-09 09:35:21 ERROR (SyncWorker_12) [roomba.roomba] Error: [SSL: DH_KEY_TOO_SMALL] dh key too small (_ssl.c:1056)
2020-05-09 09:35:23 ERROR (SyncWorker_12) [roomba.roomba] Error: [SSL: DH_KEY_TOO_SMALL] dh key too small (_ssl.c:1056)
2020-05-09 09:35:23 ERROR (SyncWorker_12) [roomba.roomba] Error: [Errno 111] Connection refused
2020-05-09 09:35:23 ERROR (SyncWorker_12) [roomba.roomba] Unable to connect to 192.168.2.80
2020-05-09 09:35:23 ERROR (MainThread) [homeassistant.components.roomba] Error to connect to vacuum
2020-05-09 09:35:23 WARNING (MainThread) [homeassistant.config_entries] Config entry for roomba not ready yet. Retrying in 5 seconds.
2020-05-09 09:35:27 ERROR (MainThread) [homeassistant.core] Error doing job: Unclosed client session
2020-05-09 09:35:29 WARNING (MainThread) [homeassistant.setup] Setup of evohome is taking over 10 seconds.
2020-05-09 09:35:32 WARNING (MainThread) [homeassistant.components.sensor] Setup of sensor platform mqtt is taking over 10 seconds.
2020-05-09 09:35:42 WARNING (MainThread) [homeassistant.components.camera] Setup of camera platform amcrest is taking over 10 seconds.
2020-05-09 09:35:46 ERROR (SyncWorker_19) [roomba.roomba] Error: [SSL: DH_KEY_TOO_SMALL] dh key too small (_ssl.c:1056)
2020-05-09 09:35:48 ERROR (SyncWorker_19) [roomba.roomba] Error: [SSL: DH_KEY_TOO_SMALL] dh key too small (_ssl.c:1056)
2020-05-09 09:35:48 ERROR (SyncWorker_19) [roomba.roomba] Error: [Errno 111] Connection refused
2020-05-09 09:35:48 ERROR (SyncWorker_19) [roomba.roomba] Unable to connect to 192.168.2.80

```

## Additional information

"
35378,Detected I/O inside the event loop for PLEX,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Detected I/O inside the event loop. This is causing stability issues. Please report issue for plex doing I/O at homeassistant.
## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 109.6
- Last working Home Assistant Core release (if known): N/A
- Operating environment (Home Assistant/Supervised/Docker/venv): Supervised
- Integration causing this issue: Plex


## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-05-07 20:54:14 WARNING (MainThread) [homeassistant.util.async_] Detected I/O inside the event loop. This is causing stability issues. Please report issue for plex doing I/O at homeassistant/components/plex/sensor.py, line 92: season_episode = sess.seasonEpisode
```


"
35327,Supla integration is exceeding API calls limit.,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
Supla integration is exceeding API calls limit. After contacting with the supla developers I came to know that they have recently set a limit which is 1000 per hour. My server constantly reports the following error
`Server: svr6.supla.org not configured. API call returned: {'status': 429, 'message': 'You have reached your API rate limit. Slow down.'}` 


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: Home Assistant 0.109.5
- Last working Home Assistant Core release (if known): unknown
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker (rpi 4)
- Integration causing this issue: Supla
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/supla/

## Problem-relevant `configuration.yaml`


```yaml
supla:
  servers:
    - server: svr6.supla.org
      access_token:  ""redacted""
```

## Traceback/Error logs


```txt
Server: svr6.supla.org not configured. API call returned: {'status': 429, 'message': 'You have reached your API rate limit. Slow down.'}
```

## Additional information

"
35286,Problem: Light on with Lightprofiles without hs_color,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Error message to turn on light with HA 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue:   0.109.3 
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv):  HASSIO
- Integration causing this issue: Homematic
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
homematic:
  local_port: 8060
  interfaces:
    ip:
      host: 192.168.178.22
      port: 2010
      resolvenames: json
      callback_ip: 192.168.178.21
      callback_port: 8060
      username: Admin
      password: xxxxxx
    groups:
      host: 192.168.178.22
      port: 9292
      resolvenames: json
      username: Admin
      password: xxxxxxx
      path: /groups

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-05-06 13:49:56 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.547498858704] Received {'type': 'call_service', 'domain': 'light', 'service': 'turn_on', 'service_data': {'entity_id': 'light.og_bad_licht_1'}, 'id': 30}
2020-05-06 13:49:57 ERROR (MainThread) [homeassistant.components.websocket_api.http.connection.547498858704] 'IPKeyDimmer' object has no attribute 'set_hs_color'
Traceback (most recent call last):
  File ""/usr/src/homeassistant/homeassistant/components/websocket_api/commands.py"", line 130, in handle_call_service
    connection.context(msg),
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1247, in async_call
    task.result()
  File ""/usr/src/homeassistant/homeassistant/core.py"", line 1282, in _execute_service
    await handler.func(service_call)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity_component.py"", line 213, in handle_service
    self._platforms.values(), func, call, required_features
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 453, in entity_service_call
    future.result()  # pop exception if have
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 596, in async_request_call
    await coro
  File ""/usr/src/homeassistant/homeassistant/helpers/service.py"", line 484, in _handle_entity_call
    await result
  File ""/usr/src/homeassistant/homeassistant/components/light/__init__.py"", line 244, in async_handle_light_on_service
    await light.async_turn_on(**params)
  File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 621, in async_turn_on
    await self.hass.async_add_executor_job(ft.partial(self.turn_on, **kwargs))
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/src/homeassistant/homeassistant/components/homematic/light.py"", line 115, in turn_on
    self._hmdevice.set_hs_color(
AttributeError: 'IPKeyDimmer' object has no attribute 'set_hs_color'
2020-05-06 13:49:57 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=CONFIG_PENDING, value=False
2020-05-06 13:49:57 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.547498858704] Sending {'id': 30, 'type': 'result', 'success': False, 'error': {'code': 'unknown_error', 'message': ""'IPKeyDimmer' object has no attribute 'set_hs_color'""}}
2020-05-06 13:49:57 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=RSSI_DEVICE, value=-57
2020-05-06 13:49:57 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=DUTY_CYCLE, value=False
2020-05-06 13:49:57 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=UNREACH, value=False
2020-05-06 13:49:57 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=RSSI_PEER, value=-51
2020-05-06 13:49:57 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=LEVEL, value=0.195
2020-05-06 13:49:57 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=LEVEL_STATUS, value=0
2020-05-06 13:49:57 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=SECTION, value=3
2020-05-06 13:49:57 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.547498858704] Sending {'id': 2, 'type': 'event', 'event': <Event state_changed[L]: entity_id=light.og_bad_licht_1, old_state=<state light.og_bad_licht_1=off; level=0.0, working=No, id=0008D8A9AC1425, interface=ip, friendly_name=Bad, supported_features=1 @ 2020-05-06T13:40:43.493288+02:00>, new_state=<state light.og_bad_licht_1=on; brightness=49, level=0.195, working=No, id=0008D8A9AC1425, interface=ip, friendly_name=Bad, supported_features=1 @ 2020-05-06T13:49:57.148906+02:00>>}
2020-05-06 13:49:57 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=PROCESS, value=0
2020-05-06 13:49:57 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=ACTIVITY_STATE, value=3
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=CONFIG_PENDING, value=False
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=DUTY_CYCLE, value=False
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=UNREACH, value=False
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=ERROR_OVERHEAT, value=False
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=RSSI_DEVICE, value=-55
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=ERROR_UPDATE, value=False
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=ERROR_OVERLOAD, value=False
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=ERROR_CODE, value=0
2020-05-06 13:49:58 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.547498858704] Received {'type': 'call_service', 'domain': 'light', 'service': 'turn_off', 'service_data': {'entity_id': 'light.og_bad_licht_1'}, 'id': 31}
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:3, interface_id=homeassistant-ip, key=LEVEL, value=0.195
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:3, interface_id=homeassistant-ip, key=LEVEL_STATUS, value=0
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:3, interface_id=homeassistant-ip, key=SECTION, value=15
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:3, interface_id=homeassistant-ip, key=PROCESS, value=0
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:3, interface_id=homeassistant-ip, key=ACTIVITY_STATE, value=0
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=LEVEL, value=0.195
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=LEVEL_STATUS, value=0
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=SECTION, value=3
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=PROCESS, value=0
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=ACTIVITY_STATE, value=3
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:5, interface_id=homeassistant-ip, key=LEVEL, value=0.0
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:5, interface_id=homeassistant-ip, key=LEVEL_STATUS, value=0
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:5, interface_id=homeassistant-ip, key=SECTION, value=0
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:5, interface_id=homeassistant-ip, key=PROCESS, value=0
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:5, interface_id=homeassistant-ip, key=ACTIVITY_STATE, value=3
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:6, interface_id=homeassistant-ip, key=LEVEL, value=0.0
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:6, interface_id=homeassistant-ip, key=LEVEL_STATUS, value=0
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:6, interface_id=homeassistant-ip, key=SECTION, value=0
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:6, interface_id=homeassistant-ip, key=PROCESS, value=0
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:6, interface_id=homeassistant-ip, key=ACTIVITY_STATE, value=3
2020-05-06 13:49:58 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.547498858704] Sending {'id': 31, 'type': 'result', 'success': True, 'result': {'context': Context(user_id='f0999c80ee5f41a18b0e543440d9df48', parent_id=None, id='c3e6ed2d486d4a31bf586af8ff40cb96')}}
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=CONFIG_PENDING, value=False
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=RSSI_DEVICE, value=-55
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=DUTY_CYCLE, value=False
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=UNREACH, value=False
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=RSSI_PEER, value=-52
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=LEVEL, value=0.0
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=LEVEL_STATUS, value=0
2020-05-06 13:49:58 DEBUG (MainThread) [homeassistant.components.websocket_api.http.connection.547498858704] Sending {'id': 2, 'type': 'event', 'event': <Event state_changed[L]: entity_id=light.og_bad_licht_1, old_state=<state light.og_bad_licht_1=on; brightness=49, level=0.195, working=No, id=0008D8A9AC1425, interface=ip, friendly_name=Bad, supported_features=1 @ 2020-05-06T13:49:57.148906+02:00>, new_state=<state light.og_bad_licht_1=off; level=0.0, working=No, id=0008D8A9AC1425, interface=ip, friendly_name=Bad, supported_features=1 @ 2020-05-06T13:49:58.774819+02:00>>}
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=SECTION, value=0
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=PROCESS, value=0
2020-05-06 13:49:58 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=ACTIVITY_STATE, value=3
2020-05-06 13:50:00 ERROR (SyncWorker_6) [miio.miioprotocol] Unable to discover a device at address 192.168.178.46
2020-05-06 13:50:00 WARNING (SyncWorker_6) [homeassistant.components.xiaomi_miio.vacuum] Got exception while fetching the state: Unable to discover the device 192.168.178.46
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=CONFIG_PENDING, value=False
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=DUTY_CYCLE, value=False
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=UNREACH, value=False
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=ERROR_OVERHEAT, value=False
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=RSSI_DEVICE, value=-56
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=ERROR_UPDATE, value=False
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=ERROR_OVERLOAD, value=False
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:0, interface_id=homeassistant-ip, key=ERROR_CODE, value=0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:3, interface_id=homeassistant-ip, key=LEVEL, value=0.0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:3, interface_id=homeassistant-ip, key=LEVEL_STATUS, value=0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:3, interface_id=homeassistant-ip, key=SECTION, value=15
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:3, interface_id=homeassistant-ip, key=PROCESS, value=0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:3, interface_id=homeassistant-ip, key=ACTIVITY_STATE, value=0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=LEVEL, value=0.0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=LEVEL_STATUS, value=0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=SECTION, value=0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=PROCESS, value=0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:4, interface_id=homeassistant-ip, key=ACTIVITY_STATE, value=3
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:5, interface_id=homeassistant-ip, key=LEVEL, value=0.0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:5, interface_id=homeassistant-ip, key=LEVEL_STATUS, value=0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:5, interface_id=homeassistant-ip, key=SECTION, value=0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:5, interface_id=homeassistant-ip, key=PROCESS, value=0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:5, interface_id=homeassistant-ip, key=ACTIVITY_STATE, value=3
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:6, interface_id=homeassistant-ip, key=LEVEL, value=0.0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:6, interface_id=homeassistant-ip, key=LEVEL_STATUS, value=0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:6, interface_id=homeassistant-ip, key=SECTION, value=0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:6, interface_id=homeassistant-ip, key=PROCESS, value=0
2020-05-06 13:50:00 INFO (Thread-2) [pyhomematic.devicetypes.generic] HMGeneric.event: address=0008D8A9AC1425:6, interface_id=homeassistant-ip, key=ACTIVITY_STATE, value=3

```

## Additional information

RaspberryMatic 3.51.6.20200420

"
35270,Homematic Garagedoor HmIP-MOD-HO cannot be controlled,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I've recently installed a Hörmann garage cover motor with the Homematic IP HmIP-MOD-HO module to be able to control the cover. In the CCU2 UI, I get a switch to control the light, and some buttons to open/close/stop/vent the cover (in addition to the state).
In Home Assistant I only get a sensor for the state, and a switch, that it turns the light on and off, but I don't get any entity to control the cover.

I would have expected to get the switch for the light, and a ""cover"" entity with the possibility to control the cover and get its status.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.108.3
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): venv
- Integration causing this issue: homematic
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
homematic:
  interfaces:
    wireless:
      host: homematic
      port: 2001
      resolvenames: false
    ip:
      host: homematic
      port: 2010
    thermostatgroups:
      host: homematic
      port: 9292
      path: ""/groups""
  hosts:
    ccu2:
      host: homematic
      username: !secret homematic_user
      password: !secret homematic_password
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information
From the CCU2 web interface, the motor is controlled via channel 1, and the light is on channel 2.
"
35262,SMS integration is doing I/O on main loop,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The SMS integration is doing I/O directly with the modem in the main loop.
Hass can become irresponsive or hung at start if the device is removed.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.107.0
- Last working Home Assistant Core release (if known): never
- Operating environment (Home Assistant/Supervised/Docker/venv): hass.io
- Integration causing this issue: 
- Link to integration documentation on our website: 

## Additional information

There is fix ready for this, but we need to submit this [PR](https://github.com/home-assistant/core/pull/34406) first."
35257,MyQ API changed and is broken on all versions,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
MyQ shows unavailable

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->
HA Core on RPi4
Home Assistant 0.109.4

- Home Assistant Core release with the issue: Home Assistant 0.109.4
- Last working Home Assistant Core release (if known):  0.108.x
- Operating environment (Home Assistant/Supervised/Docker/venv): HA
- Integration causing this issue: MyQ
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/myq/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```
None, config flow. Shows unexpected error when I click submit.
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```
2020-05-05 13:29:10 ERROR (MainThread) [homeassistant.components.myq.config_flow] Unexpected exception
  File ""/usr/src/homeassistant/homeassistant/components/myq/config_flow.py"", line 50, in async_step_user
  File ""/usr/src/homeassistant/homeassistant/components/myq/config_flow.py"", line 30, in validate_input
    await pymyq.login(data[CONF_USERNAME], data[CONF_PASSWORD], websession)
  File ""/usr/local/lib/python3.7/site-packages/pymyq/api.py"", line 167, in login
  File ""/usr/local/lib/python3.7/site-packages/pymyq/api.py"", line 124, in authenticate
  File ""/usr/local/lib/python3.7/site-packages/pymyq/api.py"", line 140, in update_device_info
  File ""/usr/local/lib/python3.7/site-packages/pymyq/api.py"", line 83, in request
2020-05-05 13:32:07 ERROR (MainThread) [homeassistant.components.myq.config_flow] Unexpected exception
  File ""/usr/src/homeassistant/homeassistant/components/myq/config_flow.py"", line 50, in async_step_user
  File ""/usr/src/homeassistant/homeassistant/components/myq/config_flow.py"", line 30, in validate_input
    await pymyq.login(data[CONF_USERNAME], data[CONF_PASSWORD], websession)
  File ""/usr/local/lib/python3.7/site-packages/pymyq/api.py"", line 167, in login
  File ""/usr/local/lib/python3.7/site-packages/pymyq/api.py"", line 124, in authenticate
  File ""/usr/local/lib/python3.7/site-packages/pymyq/api.py"", line 140, in update_device_info
  File ""/usr/local/lib/python3.7/site-packages/pymyq/api.py"", line 83, in request


```

## Additional information

"
35254,"UPnP integration updates too frequently, no way to control it","<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
The UPnP integration updates its sensors every 30 seconds. I think this happens too often, for various reasons:
- The frontend can't keep up with so much data in the past 24 hours. It takes 4-5 seconds on a Raspberry Pi to load the graph, and then interacting with the graph is extremely lagging
- I'm afraid that polling the router so often slows it down unnecessarily
- I don't need this amount of resolution. I'd like to set `scan_interval` to a few minutes like on sensors.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.109.2
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker
- Integration causing this issue: UPnP
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/upnp/


"
35187,[BUG] UniFi Integration doesn't update after connectivity failure,"I use Homeassistant (Hassio) 0.109.3 with UniFi integration.
Controller ist running on a remote host in the same network as homeassistant.
Sometimes (because of a backup job) it looses the connectivity to this host for less than 5 minutes.

In this case that ""device_tracker"" goes to state ""unavailable"" and never changes to ""hom"" or ""not_home"" until I restart Homeassistant completly.

"
35178,Updating ping binary_sensor took longer than the scheduled update interval,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I've opened the logs and I see an error that is repeating more than 800 times! I think this shouldn't happen.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.108.6
- Last working Home Assistant Core release (if known): not known
- Operating environment (Home Assistant/Supervised/Docker/venv): HA on PI3
- Integration causing this issue: ping
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/ping/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
binary_sensor:
  - platform: ping
    host: 192.166.11.1
    name: Router
    scan_interval: 30
    
  - platform: ping
    host: 192.166.11.2
    name: TV
    scan_interval: 30
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Logger: homeassistant.components.binary_sensor
Source: helpers/entity_platform.py:540
Integration: Sensor binarny (documentation, issues)
First occurred: 3 May 2020, 22:14:58 (801 occurrences)
Last logged: 11:47:25

Updating ping binary_sensor took longer than the scheduled update interval 0:00:30
```

## Additional information

"
35165,Detected I/O inside the event loop UVC,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Detected I/O inside the event loop for the UVC component.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.109.3
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant
- Integration causing this issue: UVC
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/uvc/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
[homeassistant.util.async_] Detected I/O inside the event loop. This is causing stability issues. Please report issue for uvc doing I/O at homeassistant/components/uvc/camera.py, line 218: caminfo = self._nvr.get_camera(self._uuid)
```

## Additional information

"
35163,life360 Detection of blocking I/O in the event loop,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
As requested in the [release document](https://www.home-assistant.io/blog/2020/04/29/release-109/#detection-of-blocking-io-in-the-event-loop), this is a ""Detection of blocking I/O in the event loop""

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: Home Assistant 0.109.3
- Operating environment (Home Assistant/Supervised/Docker/venv): Docker
- Integration causing this issue: life360
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/life360/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
accounts:
 - username: !secret life360_username
   password: !secret life360_password
prefix: ''
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```

2020-05-04 08:01:32 WARNING (MainThread) [homeassistant.util.async_] Detected I/O inside the event loop. This is causing stability issues. Please report issue for life360 doing I/O at homeassistant/components/life360/config_flow.py, line 92: authorization = self._api.get_authorization(username, password)

```

## Additional information

"
35126,Sony Bravia not working on 109.3,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I'm trying to configure a Sony Bravia TV and I'm getting this error: Unknown error occurred
The IP address is the correct one, and I'k trying to configure it though the UI.
If I enter an incorrect IP it asks a PIN, but if I enter the correct one it shows the error.


## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 109.3
- Last working Home Assistant Core release (if known): -
- Operating environment (Home Assistant/Supervised/Docker/venv):  Supervised
- Integration causing this issue: braviatv
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/braviatv/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```Logger: aiohttp.server
Source: components/braviatv/config_flow.py:133
First occurred: 11:27:11 (32 occurrences)
Last logged: 13:53:19

Error handling request
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_protocol.py"", line 418, in start
    resp = await task
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_app.py"", line 458, in _handle
    resp = await handler(request)
  File ""/usr/local/lib/python3.7/site-packages/aiohttp/web_middlewares.py"", line 119, in impl
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/real_ip.py"", line 39, in real_ip_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/ban.py"", line 73, in ban_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 127, in auth_middleware
    return await handler(request)
  File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 125, in handle
    result = await result
  File ""/usr/src/homeassistant/homeassistant/components/config/config_entries.py"", line 145, in post
    return await super().post(request, flow_id)
  File ""/usr/src/homeassistant/homeassistant/components/http/data_validator.py"", line 54, in wrapper
    result = await method(view, request, *args, **kwargs)
  File ""/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py"", line 93, in post
    result = await self._flow_mgr.async_configure(flow_id, data)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 148, in async_configure
    result = await self._async_handle_step(flow, cur_step[""step_id""], user_input)
  File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 196, in _async_handle_step
    result: Dict = await getattr(flow, method)(user_input)
  File ""/usr/src/homeassistant/homeassistant/components/braviatv/config_flow.py"", line 105, in async_step_user
    return await self.async_step_authorize()
  File ""/usr/src/homeassistant/homeassistant/components/braviatv/config_flow.py"", line 133, in async_step_authorize
    self.braviarc.connect, ""0000"", CLIENTID_PREFIX, NICKNAME,
  File ""/usr/local/lib/python3.7/concurrent/futures/thread.py"", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File ""/usr/local/lib/python3.7/site-packages/bravia_tv/braviarc.py"", line 63, in connect
    resp = self.bravia_req_json('accessControl', authorization, headers=headers)
  File ""/usr/local/lib/python3.7/site-packages/bravia_tv/braviarc.py"", line 137, in bravia_req_json
    return_value = json.loads(response.text)
  File ""/usr/local/lib/python3.7/json/__init__.py"", line 348, in loads
    return _default_decoder.decode(s)
  File ""/usr/local/lib/python3.7/json/decoder.py"", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File ""/usr/local/lib/python3.7/json/decoder.py"", line 355, in raw_decode
    raise JSONDecodeError(""Expecting value"", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

```

## Additional information

"
35120,Roomba 980 does not show position information as of 0.109,"## The problem
Roomba 980 models no longer show positional information as of 0.109. This was working fine in 0.108.


## Environment

- Home Assistant Core release with the issue: 0.109.2 & 0.109.3 (I never installed 0.109.1)
- Last working Home Assistant Core release (if known): 0.108.9
- Operating environment (Home Assistant/Supervised/Docker/venv): HassOS 3.13
- Integration causing this issue: iRobot Roomba
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/roomba/

## Problem-relevant `configuration.yaml`
Installed via Integrations UI:
Config:
```json
{
    ""connection_class"": ""local_push"",
    ""data"": {
        ""blid"": ""69C3C81070323800"",
        ""certificate"": ""/etc/ssl/certs/ca-certificates.crt"",
        ""continuous"": true,
        ""delay"": 1,
        ""host"": ""10.1.1.52"",
        ""password"": "":1:xxxxxxxxxx:xxxxxxxxxxxxxxxx""
    },
    ""domain"": ""roomba"",
    ""entry_id"": ""30fbeee8ef834dd5a33469ccd2650dcd"",
    ""options"": {
        ""continuous"": true,
        ""delay"": 1
    },
    ""source"": ""user"",
    ""system_options"": {
        ""disable_new_entities"": false
    },
    ""title"": ""Roomba"",
    ""unique_id"": ""69C3C81070323800"",
    ""version"": 1
}
```
Entity:
```json
{
    ""capabilities"": {
        ""fan_speed_list"": [
            ""Automatic"",
            ""Eco"",
            ""Performance""
        ]
    },
    ""config_entry_id"": ""30fbeee8ef834dd5a33469ccd2650dcd"",
    ""device_class"": null,
    ""device_id"": ""56bc00f0696a43c2a5c275952e889da3"",
    ""disabled_by"": null,
    ""entity_id"": ""vacuum.roomba"",
    ""icon"": null,
    ""name"": null,
    ""original_icon"": null,
    ""original_name"": ""Roomba"",
    ""platform"": ""roomba"",
    ""supported_features"": 13308,
    ""unique_id"": ""roomba_69C3C81070323800"",
    ""unit_of_measurement"": null
}
```
Device:
```json
{
    ""area_id"": null,
    ""config_entries"": [
        ""30fbeee8ef834dd5a33469ccd2650dcd""
    ],
    ""connections"": [],
    ""id"": ""56bc00f0696a43c2a5c275952e889da3"",
    ""identifiers"": [
        [
            ""roomba"",
            ""roomba_69C3C81070323800""
        ]
    ],
    ""manufacturer"": ""iRobot"",
    ""model"": ""R980000"",
    ""name"": ""Roomba"",
    ""name_by_user"": null,
    ""sw_version"": ""v2.4.6-3"",
    ""via_device_id"": null
}
```

## Traceback/Error logs
No Roomba logs.

## Additional information
![image](https://user-images.githubusercontent.com/2626677/80910635-00189800-8d85-11ea-98eb-9ea4dc57a699.png)

"
35113,Open Hardware Monitor comma should be replaced by period to be numerical value,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem

  The Open Hardware Monitor component pulls values in that have a comma as decimal.
  Home Assistant sees this as a non-numerical state so you can't use it for templates, graphs etc.
  A workaround for now has been to template the comma out to be a period. For example value_template: ""{{ states('sensor.nuc_series_c_u_load_used_space') | replace(',','.') | float | round(0) }}"".



## Environment

  
  Home Assistant 0.109.3



- Home Assistant Core release with the issue: 0.109.3
- Last working Home Assistant Core release (if known): None
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant
- Integration causing this issue: Open Hardware Monitor
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/openhardwaremonitor/

## Problem-relevant `configuration.yaml`
```
sensor:
  - platform: openhardwaremonitor
    host: 192.168.1.99
    port: 8085
```

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
35061,Enphase Envoy detected I/O inside event loop,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Enphase Envoy is generating a detected I/O inside event loop warning in log. Reporting as per v109 release notes

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->
HA version 0.109.2
- Home Assistant Core release with the issue: HA version 0.109.2
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): Supervised on RPI3
- Integration causing this issue: Enphase Envoy
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/enphase_envoy/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
2020-05-02 17:37:14 WARNING (MainThread) [homeassistant.util.async_] Detected I/O inside the event loop. This is causing stability issues. Please report issue for enphase_envoy doing I/O at homeassistant/components/enphase_envoy/sensor.py, line 156: inverters = await (self._envoy_reader.inverters_production())

```

## Additional information

"
35034,Zabbix integration will not initialise in 0.109,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
Zabbix integration will not initialize in 0.109. It throws an error in the log on startup and zabbix sensor is no-longer working.  I believe it may be because there is a typo that has crept in to `__init__.py` since 0.108.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue:  0.109
- Last working Home Assistant Core release (if known): 0.108
- Operating environment (Home Assistant/Supervised/Docker/venv): venv
- Integration causing this issue: zabbix
- Link to integration documentation on our website:  https://www.home-assistant.io/integrations/zabbix/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml
#zabbix:
  host: myzabbixserver.example.com
  ssl: false
  username: !secret zabbix_user
  password: !secret zabbix_password
```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
May 01 18:34:52 hass hass[40869]: 2020-05-01 18:34:52 ERROR (MainThread) [homeassistant.setup] Error during setup of component zabbix
May 01 18:34:52 hass hass[40869]: Traceback (most recent call last):
May 01 18:34:52 hass hass[40869]:   File ""/srv/homeassistant/lib/python3.8/site-packages/homeassistant/setup.py"", line 174, in _async_setup_component
May 01 18:34:52 hass hass[40869]:     result = await hass.async_add_executor_job(
May 01 18:34:52 hass hass[40869]:   File ""/usr/lib/python3.8/concurrent/futures/thread.py"", line 57, in run
May 01 18:34:52 hass hass[40869]:     result = self.fn(*self.args, **self.kwargs)
May 01 18:34:52 hass hass[40869]:   File ""/srv/homeassistant/lib/python3.8/site-packages/homeassistant/components/zabbix/__init__.py"", line 44, in setup
May 01 18:34:52 hass hass[40869]:     protocol = ""https"" if config[CONF_SSL] else ""http""
May 01 18:34:52 hass hass[40869]: KeyError: 'ssl'


```

## Additional information

By applying the following change to /srv/homeassistant/lib/python3.8/site-packages/homeassistant/components/zabbix/__init__.py I have been able to restore the zabbix funcyionality:

```
diff __init__.py __init__.py.was
0a1
>
43c44,45
<     protocol = ""https"" if conf[CONF_SSL] else ""http""
---
>     protocol = ""https"" if config[CONF_SSL] else ""http""
>
57a60
>
```


"
35014,Unifi Integration not working with separated 2-5GHz SSID networks,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
<!-- 
  Describe the issue you are experiencing here to communicate to the
  maintainers. Tell us what you were trying to do and what happened.
-->
I am using a wireless network in Unifi without combining 2GHz and 5Ghz channels (so the 2GHz channel gets the default ""_2"" suffix). When selecting SSID names to track wireless clients in the integration options the 2GHz channel (with the ""_2"" suffix) does not show so cannot be selected. Furthermore, if I don't select any SSID filters (expecting devices to be tracked in all SSIDs) devices in the 5GHz channel get properly tracked but not if they connect to the 2Ghz channel. 

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

Using Hassio version 0.109.2 

- Home Assistant Core release with the issue: 
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): 
- Integration causing this issue: 
- Link to integration documentation on our website: 

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt

```

## Additional information

"
35013,Add yeelight crystal pendant lamp (meteorite) YLDL01YL to auto recognized lights,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem
I have 4 yeelights:
- 3x YLXD01YL - ceiling1
- 1x YLDL01YL (crystal pendant / mereorite)

The 3 YLXD01YL (ceiling1) are auto discovered just fine.
The Meteorite lamp is not - the ceiling10 does not exits in the yeelight integration documentation page.

Please add it to the auto discovery and the documentation.

## Environment
- Home Assistant Core release with the issue: 109.1 (and all I used before)
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv):  HASSIO
- Integration causing this issue: Yeelight
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/yeelight/

## Problem-relevant `configuration.yaml`
None - Should be auto discovered

## Traceback/Error logs
None

## Additional information
According to the Yeelight app the model is: yeelight.light.ceiling10

Some have used ceiling4 light to manually configure - has same regular & ambient lighting
https://community.home-assistant.io/t/yeelight-crystal-pendant-lamp-meteorite-yldl01yl/104866"
35006,I/O inside the event loop - Canary integration,"<!-- READ THIS FIRST:
  - If you need additional help with this template, please refer to https://www.home-assistant.io/help/reporting_issues/
  - Make sure you are running the latest version of Home Assistant before reporting an issue: https://github.com/home-assistant/core/releases
  - Do not report issues for integrations if you are using custom components or integrations.
  - Provide as many details as possible. Paste logs, configuration samples and code into the backticks.
  DO NOT DELETE ANY TEXT from this template! Otherwise, your issue may be closed without comment.
-->
## The problem

Logs show an IO Loop for the Canary integration.

## Environment
<!--
  Provide details about the versions you are using, which helps us to reproduce
  and find the issue quicker. Version information is found in the
  Home Assistant frontend: Developer tools -> Info.
-->

- Home Assistant Core release with the issue: 0.109.1
- Last working Home Assistant Core release (if known): 
- Operating environment (Home Assistant/Supervised/Docker/venv): Home Assistant
- Integration causing this issue: Canary
- Link to integration documentation on our website: https://www.home-assistant.io/integrations/canary/

## Problem-relevant `configuration.yaml`
<!--
  An example configuration that caused the problem for you. Fill this out even
  if it seems unimportant to you. Please be sure to remove personal information
  like passwords, private URLs and other credentials.
-->

```yaml

```

## Traceback/Error logs
<!--
  If you come across any trace or error logs, please provide them.
-->

```txt
Détails du journal ( WARNING ) 

Logger: homeassistant.util.async_
Source: util/async_.py:120
First occurred: 11:33:33 (2 occurrences)
Last logged: 11:33:33 

Detected I/O inside the event loop. This is causing stability issues. Please report issue for canary doing I/O at homeassistant/components/canary/__init__.py, line 131: return self._api.get_live_stream_session(device)
```

## Additional information

"